!function(){var h,k,e,i,j,g=[];j="undefined"!=typeof global?global:window,i=j.jQuery;var b=function(){return j.tinymce};i.fn.tinymce=function(s){var q,m,f,d=this,p="";if(!d.length){return d}if(!s){return b()?b().get(d[0].id):null}d.css("visibility","hidden");var u=function(){var l=[],n=0;e||(a(),e=!0),d.each(function(x,v){var y,o=v.id,w=s.oninit;o||(v.id=o=b().DOM.uniqueId()),b().get(o)||(y=b().createEditor(o,s),l.push(y),y.on("init",function(){var z,r=w;d.css("visibility",""),w&&++n==l.length&&("string"==typeof r&&(z=-1===r.indexOf(".")?null:b().resolve(r.replace(/\.\w+$/,"")),r=b().resolve(r)),r.apply(z||b(),l))}))}),i.each(l,function(r,o){o.render()})};if(j.tinymce||k||!(q=s.script_url)){1===k?g.push(u):u()}else{k=1,m=q.substring(0,q.lastIndexOf("/")),-1!=q.indexOf(".min")&&(p=".min"),j.tinymce=j.tinyMCEPreInit||{base:m,suffix:p},-1!=q.indexOf("gzip")&&(f=s.language||"en",q=q+(/\?/.test(q)?"&":"?")+"js=true&core=true&suffix="+escape(p)+"&themes="+escape(s.theme||"modern")+"&plugins="+escape(s.plugins||"")+"&languages="+(f||""),j.tinyMCE_GZ||(j.tinyMCE_GZ={start:function(){var l=function(n){b().ScriptLoader.markDone(b().baseURI.toAbsolute(n))};l("langs/"+f+".js"),l("themes/"+s.theme+"/theme"+p+".js"),l("themes/"+s.theme+"/langs/"+f+".js"),i.each(s.plugins.split(","),function(o,n){n&&(l("plugins/"+n+"/plugin"+p+".js"),l("plugins/"+n+"/langs/"+f+".js"))})},end:function(){}}));var c=document.createElement("script");c.type="text/javascript",c.onload=c.onreadystatechange=function(l){l=l||window.event,2===k||"load"!=l.type&&!/complete|loaded/.test(c.readyState)||(b().dom.Event.domLoaded=1,k=2,s.script_loaded&&s.script_loaded(),u(),i.each(g,function(o,n){n()}))},c.src=q,document.body.appendChild(c)}return d},i.extend(i.expr[":"],{tinymce:function(d){var c;return !!(d.id&&"tinymce" in j&&(c=b().get(d.id))&&c.editorManager===b())}});var a=function(){var m=function(l){"remove"===l&&this.each(function(p,o){var q=c(o);q&&q.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(p,o){var q=b().get(o.id.replace(/_parent$/,""));q&&q.remove()})},n=function(o){var p,l=this;if(null!=o){m.call(l),l.each(function(r,q){var s;(s=b().get(q.id))&&s.setContent(o)})}else{if(0<l.length&&(p=b().get(l[0].id))){return p.getContent()}}},c=function(o){var l=null;return o&&o.id&&j.tinymce&&(l=b().get(o.id)),l},d=function(l){return !!(l&&l.length&&j.tinymce&&l.is(":tinymce"))},f={};i.each(["text","html","val"],function(p,o){var l=f[o]=i.fn[o],q="text"===o;i.fn[o]=function(w){var u=this;if(!d(u)){return l.apply(u,arguments)}if(w!==h){return n.call(u.filter(":tinymce"),w),l.apply(u.not(":tinymce"),arguments),u}var s="",v=arguments;return(q?u:u.eq(0)).each(function(x,r){var y=c(r);s+=y?q?y.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):y.getContent({save:!0}):l.apply(i(r),v)}),s}}),i.each(["append","prepend"],function(p,l){var q=f[l]=i.fn[l],o="prepend"===l;i.fn[l]=function(r){var s=this;return d(s)?r!==h?("string"==typeof r&&s.filter(":tinymce").each(function(v,u){var w=c(u);w&&w.setContent(o?r+w.getContent():w.getContent()+r)}),q.apply(s.not(":tinymce"),arguments),s):void 0:q.apply(s,arguments)}}),i.each(["remove","replaceWith","replaceAll","empty"],function(o,l){var p=f[l]=i.fn[l];i.fn[l]=function(){return m.call(this,l),p.apply(this,arguments)}}),f.attr=i.fn.attr,i.fn.attr=function(s,p){var u=this,o=arguments;if(!s||"value"!==s||!d(u)){return f.attr.apply(u,o)}if(p!==h){return n.call(u.filter(":tinymce"),p),f.attr.apply(u.not(":tinymce"),o),u}var q=u[0],l=c(q);return l?l.getContent({save:!0}):f.attr.apply(i(q),o)}}}();