!function(){var E0,Eq,EK,ED,EJ,EU,E8,Ek,EA,E4,EO,EY,E2,EM,EW,EH,EV,D9=function(){for(var b=[],a=0;a<arguments.length;a++){b[a]=arguments[a]}},EF=function(b,a){return function(){for(var d=[],c=0;c<arguments.length;c++){d[c]=arguments[c]}return b(a.apply(null,arguments))}},F6=function(a){return function(){return a}},ES=function(a){return a},E6=function(d){for(var f=[],c=1;c<arguments.length;c++){f[c-1]=arguments[c]}for(var b=new Array(arguments.length-1),g=1;g<arguments.length;g++){b[g-1]=arguments[g]}return function(){for(var i=[],a=0;a<arguments.length;a++){i[a]=arguments[a]}for(var k=new Array(arguments.length),h=0;h<k.length;h++){k[h]=arguments[h]}var j=b.concat(k);return d.apply(null,j)}},D4=F6(!1),GB=F6(!0),D5=D4,D6=GB,FW=function(){return Gq},Gq=(ED={fold:function(b,a){return b()},is:D5,isSome:D5,isNone:D6,getOr:EK=function(a){return a},getOrThunk:Eq=function(a){return a()},getOrDie:function(a){throw new Error(a||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){return undefined},or:EK,orThunk:Eq,map:FW,ap:FW,each:function(){},bind:FW,flatten:FW,exists:D5,forall:D6,filter:FW,equals:E0=function(a){return a.isNone()},equals_:E0,toArray:function(){return[]},toString:F6("none()")},Object.freeze&&Object.freeze(ED),ED),FN=function(f){var c=function(){return f},a=function(){return d},b=function(g){return g(f)},d={fold:function(h,g){return g(f)},is:function(g){return f===g},isSome:D6,isNone:D5,getOr:c,getOrThunk:c,getOrDie:c,getOrNull:c,getOrUndefined:c,or:a,orThunk:a,map:function(g){return FN(g(f))},ap:function(g){return g.fold(FW,function(h){return FN(h(f))})},each:function(g){g(f)},bind:b,flatten:c,exists:b,forall:b,filter:function(g){return g(f)?d:Gq},equals:function(g){return g.is(f)},equals_:function(h,g){return h.fold(D5,function(i){return g(f,i)})},toArray:function(){return[f]},toString:function(){return"some("+f+")"}};return d},GG={some:FN,none:FW,from:function(a){return null===a||a===undefined?Gq:FN(a)}},FL=function(a){return function(b){return function(d){if(null===d){return"null"}var c=typeof d;return"object"===c&&Array.prototype.isPrototypeOf(d)?"array":"object"===c&&String.prototype.isPrototypeOf(d)?"string":c}(b)===a}},EQ=FL("string"),Fq=FL("object"),FP=FL("array"),Gz=FL("null"),GE=FL("boolean"),FU=FL("function"),FT=FL("number"),F0=(EJ=Array.prototype.indexOf)===undefined?function(b,a){return FD(b,a)}:function(b,a){return EJ.call(b,a)},F5=function(b,a){return -1<F0(b,a)},FY=function(b,a){return F2(b,a).isSome()},G2=function(d,b){for(var g=d.length,c=new Array(g),f=0;f<g;f++){var a=d[f];c[f]=b(a,f,d)}return c},Gj=function(c,a){for(var d=0,b=c.length;d<b;d++){a(c[d],d,c)}},FG=function(g,d){for(var j=[],f=[],h=0,c=g.length;h<c;h++){var b=g[h];(d(b,h,g)?j:f).push(b)}return{pass:j,fail:f}},FJ=function(d,b){for(var g=[],c=0,f=d.length;c<f;c++){var a=d[c];b(a,c,d)&&g.push(a)}return g},D3=function(b,a,c){return Gj(b,function(d){c=a(c,d)}),c},FI=function(c,a){for(var f=0,b=c.length;f<b;f++){var d=c[f];if(a(d,f,c)){return GG.some(d)}}return GG.none()},F2=function(c,a){for(var d=0,b=c.length;d<b;d++){if(a(c[d],d,c)){return GG.some(d)}}return GG.none()},FD=function(c,a){for(var d=0,b=c.length;d<b;++d){if(c[d]===a){return d}}return -1},FB=Array.prototype.push,F8=function(b,a){return function(f){for(var c=[],g=0,d=f.length;g<d;++g){if(!Array.prototype.isPrototypeOf(f[g])){throw new Error("Arr.flatten item "+g+" was not an array, input: "+f)}FB.apply(c,f[g])}return c}(G2(b,a))},F4=function(c,a){for(var d=0,b=c.length;d<b;++d){if(!0!==a(c[d],d,c)){return !1}}return !0},FR=Array.prototype.slice,FA=function(b,a){return FJ(b,function(c){return !F5(a,c)})},DA=function(a){return 0===a.length?GG.none():GG.some(a[0])},uJ=function(a){return 0===a.length?GG.none():GG.some(a[a.length-1])},x4=FU(Array.from)?Array.from:function(a){return FR.call(a)},vQ="undefined"!=typeof window?window:Function("return this;")(),xH=function(b,a){return function(f,c){for(var g=c!==undefined&&null!==c?c:vQ,d=0;d<f.length&&g!==undefined&&null!==g;++d){g=g[f[d]]}return g}(b.split("."),a)},A0={getOrDie:function(b,a){var c=xH(b,a);if(c===undefined||null===c){throw b+" not available on this browser"}return c}},G1=function(){return A0.getOrDie("URL")},tZ={createObjectURL:function(a){return G1().createObjectURL(a)},revokeObjectURL:function(a){G1().revokeObjectURL(a)}},u6=navigator,E5=u6.userAgent,zk=function(a){return"matchMedia" in window&&matchMedia(a).matches};E2=/Android/.test(E5),E8=(E8=!(EU=/WebKit/.test(E5))&&/MSIE/gi.test(E5)&&/Explorer/gi.test(u6.appName))&&/MSIE (\w+)\./.exec(E5)[1],Ek=-1!==E5.indexOf("Trident/")&&(-1!==E5.indexOf("rv:")||-1!==u6.appName.indexOf("Netscape"))&&11,EA=-1!==E5.indexOf("Edge/")&&!E8&&!Ek&&12,E8=E8||Ek||EA,E4=!EU&&!Ek&&/Gecko/.test(E5),EO=-1!==E5.indexOf("Mac"),EY=/(iPad|iPhone)/.test(E5),EM="FormData" in window&&"FileReader" in window&&"URL" in window&&!!tZ.createObjectURL,EW=zk("only screen and (max-device-width: 480px)")&&(E2||EY),EH=zk("only screen and (min-width: 800px)")&&(E2||EY),EV=-1!==E5.indexOf("Windows Phone"),EA&&(EU=!1);var CR,DX,yO,B7,wX,BK,tB,GA,rL,oN,r8,sS,h9,nG,fq,eP,zV,pU,aO,fW={opera:!1,webkit:EU,ie:E8,gecko:E4,mac:EO,iOS:EY,android:E2,contentEditable:!EY||EM||534<=parseInt(E5.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==E8,range:window.getSelection&&"Range" in window,documentMode:E8&&!EA?document.documentMode||7:10,fileApi:EM,ceFalse:!1===E8||8<E8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===E8||11<E8,desktop:!EW&&!EH,windowsPhone:EV},n3=window.Promise?window.Promise:function(){function b(c,a){return function(){c.apply(a,arguments)}}var h=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=function(a){if("object"!=typeof this){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof a){throw new TypeError("not a function")}this._state=null,this._value=null,this._deferreds=[],f(a,b(d,this),b(m,this))},n=g.immediateFn||"function"==typeof setImmediate&&setImmediate||function(a){setTimeout(a,1)};function k(a){var c=this;null!==this._state?n(function(){var l=c._state?a.onFulfilled:a.onRejected;if(null!==l){var i;try{i=l(c._value)}catch(o){return void a.reject(o)}a.resolve(i)}else{(c._state?a.resolve:a.reject)(c._value)}}):this._deferreds.push(a)}function d(c){try{if(c===this){throw new TypeError("A promise cannot be resolved with itself.")}if(c&&("object"==typeof c||"function"==typeof c)){var a=c.then;if("function"==typeof a){return void f(b(a,c),b(d,this),b(m,this))}}this._state=!0,this._value=c,p.call(this)}catch(i){m.call(this,i)}}function m(a){this._state=!1,this._value=a,p.call(this)}function p(){for(var c=0,a=this._deferreds.length;c<a;c++){k.call(this,this._deferreds[c])}this._deferreds=null}function j(i,a,l,c){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof a?a:null,this.resolve=l,this.reject=c}function f(i,a,q){var c=!1;try{i(function(o){c||(c=!0,a(o))},function(o){c||(c=!0,q(o))})}catch(l){if(c){return}c=!0,q(l)}}return g.prototype["catch"]=function(a){return this.then(null,a)},g.prototype.then=function(e,a){var c=this;return new g(function(l,i){k.call(c,new j(e,a,l,i))})},g.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&h(arguments[0])?arguments[0]:arguments);return new g(function(s,q){if(0===a.length){return s([])}var c=a.length;function l(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var v=u.then;if("function"==typeof v){return void v.call(u,function(t){l(i,t)},q)}}a[i]=u,0==--c&&s(a)}catch(o){q(o)}}for(var r=0;r<a.length;r++){l(r,a[r])}})},g.resolve=function(a){return a&&"object"==typeof a&&a.constructor===g?a:new g(function(c){c(a)})},g.reject=function(a){return new g(function(i,c){c(a)})},g.race=function(a){return new g(function(l,c){for(var o=0,i=a.length;o<i;o++){a[o].then(l,c)}})},g}(),pj=function(b,a){return"number"!=typeof a&&(a=0),setTimeout(b,a)},hM=function(b,a){return"number"!=typeof a&&(a=1),setInterval(b,a)},g2=function(a,d){var b,c;return(c=function(){var f=arguments;clearTimeout(b),b=pj(function(){a.apply(this,f)},d)}).stop=function(){clearTimeout(b)},c},jD={requestAnimationFrame:function(b,a){CR?CR.then(b):CR=new n3(function(c){a||(a=document.body),function(g,d){var i,f=window.requestAnimationFrame,h=["ms","moz","webkit"];for(i=0;i<h.length&&!f;i++){f=window[h[i]+"RequestAnimationFrame"]}f||(f=function(j){window.setTimeout(j,0)}),f(g,d)}(c,a)}).then(b)},setTimeout:pj,setInterval:hM,setEditorTimeout:function(b,a,c){return pj(function(){b.removed||a()},c)},setEditorInterval:function(c,a,d){var b;return b=hM(function(){c.removed?clearInterval(b):a()},d)},debounce:g2,throttle:g2,clearInterval:function(a){return clearInterval(a)},clearTimeout:function(a){return clearTimeout(a)}},k6=/^(?:mouse|contextmenu)|click/,iT={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},mW=function(){return !1},d5=function(){return !0},q2=function(c,a,d,b){c.addEventListener?c.addEventListener(a,d,b||!1):c.attachEvent&&c.attachEvent("on"+a,d)},dI=function(c,a,d,b){c.removeEventListener?c.removeEventListener(a,d,b||!1):c.detachEvent&&c.detachEvent("on"+a,d)},wz=function(m,w){var g,b,d,j,q,v,x=w||{};for(g in m){iT[g]||(x[g]=m[g])}if(x.target||(x.target=x.srcElement||document),fW.experimentalShadowDom&&(x.target=(b=m,d=x.target,q=d,(j=b.path)&&0<j.length&&(q=j[0]),b.composedPath&&(j=b.composedPath())&&0<j.length&&(q=j[0]),q)),m&&k6.test(m.type)&&m.pageX===undefined&&m.clientX!==undefined){var p=x.target.ownerDocument||document,h=p.documentElement,k=p.body;x.pageX=m.clientX+(h&&h.scrollLeft||k&&k.scrollLeft||0)-(h&&h.clientLeft||k&&k.clientLeft||0),x.pageY=m.clientY+(h&&h.scrollTop||k&&k.scrollTop||0)-(h&&h.clientTop||k&&k.clientTop||0)}return x.preventDefault=function(){x.isDefaultPrevented=d5,m&&(m.preventDefault?m.preventDefault():m.returnValue=!1)},x.stopPropagation=function(){x.isPropagationStopped=d5,m&&(m.stopPropagation?m.stopPropagation():m.cancelBubble=!0)},!(x.stopImmediatePropagation=function(){x.isImmediatePropagationStopped=d5,x.stopPropagation()})==((v=x).isDefaultPrevented===d5||v.isDefaultPrevented===mW)&&(x.isDefaultPrevented=mW,x.isPropagationStopped=mW,x.isImmediatePropagationStopped=mW),"undefined"==typeof x.metaKey&&(x.metaKey=!1),x},lQ=function(g,k,d){var b=g.document,c={type:"ready"};if(d.domLoaded){k(c)}else{var f=function(){return"complete"===b.readyState||"interactive"===b.readyState&&b.body},h=function(){d.domLoaded||(d.domLoaded=!0,k(c))},j=function(){f()&&(dI(b,"readystatechange",j),h())},l=function(){try{b.documentElement.doScroll("left")}catch(a){return void jD.setTimeout(l)}h()};!b.addEventListener||fW.ie&&fW.ie<11?(q2(b,"readystatechange",j),b.documentElement.doScroll&&g.self===g.top&&l()):f()?h():q2(g,"DOMContentLoaded",h),q2(g,"load",h)}},AF=function(){var c,f,i,e,d,a=this,k={};f="mce-data-"+(+new Date).toString(32),e="onmouseenter" in document.documentElement,i="onfocusin" in document.documentElement,d={mouseenter:"mouseover",mouseleave:"mouseout"},c=1,a.domLoaded=!1,a.events=k;var j=function(m,h){var q,l,p,g,b=k[h];if(q=b&&b[m.type]){for(l=0,p=q.length;l<p;l++){if((g=q[l])&&!1===g.func.call(g.scope,m)&&m.preventDefault(),m.isImmediatePropagationStopped()){return}}}};a.bind=function(v,A,h,b){var g,p,y,z,B,x,m,q=window,w=function(l){j(wz(l||q.event),g)};if(v&&3!==v.nodeType&&8!==v.nodeType){for(v[f]?g=v[f]:(g=c++,v[f]=g,k[g]={}),b=b||v,y=(A=A.split(" ")).length;y--;){x=w,B=m=!1,"DOMContentLoaded"===(z=A[y])&&(z="ready"),a.domLoaded&&"ready"===z&&"complete"===v.readyState?h.call(b,wz({type:z})):(e||(B=d[z])&&(x=function(o){var l,r;if(l=o.currentTarget,(r=o.relatedTarget)&&l.contains){r=l.contains(r)}else{for(;r&&r!==l;){r=r.parentNode}}r||((o=wz(o||q.event)).type="mouseout"===o.type?"mouseleave":"mouseenter",o.target=l,j(o,g))}),i||"focusin"!==z&&"focusout"!==z||(m=!0,B="focusin"===z?"focus":"blur",x=function(l){(l=wz(l||q.event)).type="focus"===l.type?"focusin":"focusout",j(l,g)}),(p=k[g][z])?"ready"===z&&a.domLoaded?h({type:z}):p.push({func:h,scope:b}):(k[g][z]=p=[{func:h,scope:b}],p.fakeName=B,p.capture=m,p.nativeHandler=x,"ready"===z?lQ(v,x,a):q2(v,B||z,x,m)))}return v=p=0,h}},a.unbind=function(v,A,h){var b,g,p,y,z,B;if(!v||3===v.nodeType||8===v.nodeType){return a}if(b=v[f]){if(B=k[b],A){for(p=(A=A.split(" ")).length;p--;){if(g=B[z=A[p]]){if(h){for(y=g.length;y--;){if(g[y].func===h){var x=g.nativeHandler,m=g.fakeName,q=g.capture;(g=g.slice(0,y).concat(g.slice(y+1))).nativeHandler=x,g.fakeName=m,g.capture=q,B[z]=g}}}h&&0!==g.length||(delete B[z],dI(v,g.fakeName||z,g.nativeHandler,g.capture))}}}else{for(z in B){g=B[z],dI(v,g.fakeName||z,g.nativeHandler,g.capture)}B={}}for(z in B){return a}delete k[b];try{delete v[f]}catch(w){v[f]=null}}return a},a.fire=function(h,b,l){var g;if(!h||3===h.nodeType||8===h.nodeType){return a}for((l=wz(null,l)).type=b,l.target=h;(g=h[f])&&j(l,g),(h=h.parentNode||h.ownerDocument||h.defaultView||h.parentWindow)&&!l.isPropagationStopped();){}return a},a.clean=function(h){var b,l,g=a.unbind;if(!h||3===h.nodeType||8===h.nodeType){return a}if(h[f]&&g(h),h.getElementsByTagName||(h=h.document),h&&h.getElementsByTagName){for(g(h),b=(l=h.getElementsByTagName("*")).length;b--;){(h=l[b])[f]&&g(h)}}return a},a.destroy=function(){k={}},a.cancel=function(b){return b&&(b.preventDefault(),b.stopImmediatePropagation()),!1}};AF.Event=new AF,AF.Event.bind(window,"ready",function(){});var qF="sizzle"+-new Date,cY=window.document,j0=0,cA=0,bS=zJ(),mq=zJ(),kJ=zJ(),gF=function(b,a){return b===a&&(sS=!0),0},bj=typeof undefined,C2={}.hasOwnProperty,uj=[],xS=uj.pop,vE=uj.push,w8=uj.push,AQ=uj.slice,GP=uj.indexOf||function(b){for(var a=0,c=this.length;a<c;a++){if(this[a]===b){return a}}return -1},tN="[\\x20\\t\\r\\n\\f]",uU="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",EE="\\["+tN+"*("+uU+")(?:"+tN+"*([*^$|!~]?=)"+tN+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+uU+"))|)"+tN+"*\\]",yZ=":("+uU+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+EE+")*)|.*)\\)|)",CF=new RegExp("^"+tN+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tN+"+$","g"),DM=new RegExp("^"+tN+"*,"+tN+"*"),yB=new RegExp("^"+tN+"*([>+~]|"+tN+")"+tN+"*"),BV=new RegExp("="+tN+"*([^\\]'\"]*?)"+tN+"*\\]","g"),wL=new RegExp(yZ),Bk=new RegExp("^"+uU+"$"),s3={ID:new RegExp("^#("+uU+")"),CLASS:new RegExp("^\\.("+uU+")"),TAG:new RegExp("^("+uU+"|[*])"),ATTR:new RegExp("^"+EE),PSEUDO:new RegExp("^"+yZ),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tN+"*(even|odd|(([+-]|)(\\d*)n|)"+tN+"*(?:([+-]|)"+tN+"*(\\d+)|))"+tN+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+tN+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tN+"*((?:-\\d)?\\d*)"+tN+"*\\)|)(?=[^-]|$)","i")},FO=/^(?:input|select|textarea|button)$/i,rq=/^h\d$/i,oA=/^[^{]+\{\s*\[native \w/,rW=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sG=/[+~]/,hX=/'|\\/g,m7=new RegExp("\\\\([\\da-f]{1,6}"+tN+"?|("+tN+")|.)","ig"),e0=function(c,a,d){var b="0x"+a-65536;return b!=b||d?a:b<0?String.fromCharCode(b+65536):String.fromCharCode(b>>10|55296,1023&b|56320)};try{w8.apply(uj=AQ.call(cY.childNodes),cY.childNodes),uj[cY.childNodes.length].nodeType}catch(jL){w8={apply:uj.length?function(b,a){vE.apply(b,AQ.call(a))}:function(c,a){for(var d=c.length,b=0;c[d++]=a[b++];){}c.length=d-1}}}var eD=function(x,C,j,b){var h,q,A,B,D,z,p,w,y,k;if((C?C.ownerDocument||C:cY)!==nG&&h9(C),j=j||[],!x||"string"!=typeof x){return j}if(1!==(B=(C=C||nG).nodeType)&&9!==B){return[]}if(eP&&!b){if(h=rW.exec(x)){if(A=h[1]){if(9===B){if(!(q=C.getElementById(A))||!q.parentNode){return j}if(q.id===A){return j.push(q),j}}else{if(C.ownerDocument&&(q=C.ownerDocument.getElementById(A))&&aO(C,q)&&q.id===A){return j.push(q),j}}}else{if(h[2]){return w8.apply(j,C.getElementsByTagName(x)),j}if((A=h[3])&&yO.getElementsByClassName){return w8.apply(j,C.getElementsByClassName(A)),j}}}if(yO.qsa&&(!zV||!zV.test(x))){if(w=p=qF,y=C,k=9===B&&x,1===B&&"object"!==C.nodeName.toLowerCase()){for(z=tB(x),(p=C.getAttribute("id"))?w=p.replace(hX,"\\$&"):C.setAttribute("id",w),w="[id='"+w+"'] ",D=z.length;D--;){z[D]=w+i4(z[D])}y=sG.test(x)&&hz(C.parentNode)||C,k=z.join(",")}if(k){try{return w8.apply(j,y.querySelectorAll(k)),j}catch(v){}finally{p||C.removeAttribute("id")}}}}return rL(x.replace(CF,"$1"),C,j,b)};function zJ(){var a=[];return function b(c,d){return a.push(c+" ")>B7.cacheLength&&delete b[a.shift()],b[c+" "]=d}}function pI(a){return a[qF]=!0,a}function aB(c,a){var d=a&&c,b=d&&1===c.nodeType&&1===a.nodeType&&(~a.sourceIndex||1<<31)-(~c.sourceIndex||1<<31);if(b){return b}if(d){for(;d=d.nextSibling;){if(d===a){return -1}}}return c?1:-1}function fK(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function nR(a){return function(c){var b=c.nodeName.toLowerCase();return("input"===b||"button"===b)&&c.type===a}}function oY(b){return pI(function(a){return a=+a,pI(function(f,c){for(var h,d=b([],f.length,a),g=d.length;g--;){f[h=d[g]]&&(f[h]=!(c[h]=f[h]))}})})}function hz(a){return a&&typeof a.getElementsByTagName!==bj&&a}for(DX in yO=eD.support={},BK=eD.isXML=function(b){var a=b&&(b.ownerDocument||b).documentElement;return !!a&&"HTML"!==a.nodeName},h9=eD.setDocument=function(c){var a,b=c?c.ownerDocument||c:cY,d=b.defaultView;return b!==nG&&9===b.nodeType&&b.documentElement?(fq=(nG=b).documentElement,eP=!BK(b),d&&d!==function(g){try{return g.top}catch(f){}return null}(d)&&(d.addEventListener?d.addEventListener("unload",function(){h9()},!1):d.attachEvent&&d.attachEvent("onunload",function(){h9()})),yO.attributes=!0,yO.getElementsByTagName=!0,yO.getElementsByClassName=oA.test(b.getElementsByClassName),yO.getById=!0,B7.find.ID=function(g,f){if(typeof f.getElementById!==bj&&eP){var h=f.getElementById(g);return h&&h.parentNode?[h]:[]}},B7.filter.ID=function(g){var f=g.replace(m7,e0);return function(h){return h.getAttribute("id")===f}},B7.find.TAG=yO.getElementsByTagName?function(g,f){if(typeof f.getElementsByTagName!==bj){return f.getElementsByTagName(g)}}:function(j,g){var l,h=[],k=0,f=g.getElementsByTagName(j);if("*"===j){for(;l=f[k++];){1===l.nodeType&&h.push(l)}return h}return f},B7.find.CLASS=yO.getElementsByClassName&&function(g,f){if(eP){return f.getElementsByClassName(g)}},pU=[],zV=[],yO.disconnectedMatch=!0,zV=zV.length&&new RegExp(zV.join("|")),pU=pU.length&&new RegExp(pU.join("|")),a=oA.test(fq.compareDocumentPosition),aO=a||oA.test(fq.contains)?function(h,f){var i=9===h.nodeType?h.documentElement:h,g=f&&f.parentNode;return h===g||!(!g||1!==g.nodeType||!(i.contains?i.contains(g):h.compareDocumentPosition&&16&h.compareDocumentPosition(g)))}:function(g,f){if(f){for(;f=f.parentNode;){if(f===g){return !0}}}return !1},gF=a?function(g,f){if(g===f){return sS=!0,0}var h=!g.compareDocumentPosition-!f.compareDocumentPosition;return h||(1&(h=(g.ownerDocument||g)===(f.ownerDocument||f)?g.compareDocumentPosition(f):1)||!yO.sortDetached&&f.compareDocumentPosition(g)===h?g===b||g.ownerDocument===cY&&aO(cY,g)?-1:f===b||f.ownerDocument===cY&&aO(cY,f)?1:r8?GP.call(r8,g)-GP.call(r8,f):0:4&h?-1:1)}:function(l,j){if(l===j){return sS=!0,0}var p,k=0,m=l.parentNode,h=j.parentNode,f=[l],g=[j];if(!m||!h){return l===b?-1:j===b?1:m?-1:h?1:r8?GP.call(r8,l)-GP.call(r8,j):0}if(m===h){return aB(l,j)}for(p=l;p=p.parentNode;){f.unshift(p)}for(p=j;p=p.parentNode;){g.unshift(p)}for(;f[k]===g[k];){k++}return k?aB(f[k],g[k]):f[k]===cY?-1:g[k]===cY?1:0},b):nG},eD.matches=function(b,a){return eD(b,null,null,a)},eD.matchesSelector=function(c,a){if((c.ownerDocument||c)!==nG&&h9(c),a=a.replace(BV,"='$1']"),yO.matchesSelector&&eP&&(!pU||!pU.test(a))&&(!zV||!zV.test(a))){try{var d=(void 0).call(c,a);if(d||yO.disconnectedMatch||c.document&&11!==c.document.nodeType){return d}}catch(b){}}return 0<eD(a,nG,null,[c]).length},eD.contains=function(b,a){return(b.ownerDocument||b)!==nG&&h9(b),aO(b,a)},eD.attr=function(c,a){(c.ownerDocument||c)!==nG&&h9(c);var d=B7.attrHandle[a.toLowerCase()],b=d&&C2.call(B7.attrHandle,a.toLowerCase())?d(c,a,!eP):undefined;return b!==undefined?b:yO.attributes||!eP?c.getAttribute(a):(b=c.getAttributeNode(a))&&b.specified?b.value:null},eD.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},eD.uniqueSort=function(c){var a,f=[],b=0,d=0;if(sS=!yO.detectDuplicates,r8=!yO.sortStable&&c.slice(0),c.sort(gF),sS){for(;a=c[d++];){a===c[d]&&(b=f.push(d))}for(;b--;){c.splice(f[b],1)}}return r8=null,c},wX=eD.getText=function(c){var a,f="",b=0,d=c.nodeType;if(d){if(1===d||9===d||11===d){if("string"==typeof c.textContent){return c.textContent}for(c=c.firstChild;c;c=c.nextSibling){f+=wX(c)}}else{if(3===d||4===d){return c.nodeValue}}}else{for(;a=c[b++];){f+=wX(a)}}return f},(B7=eD.selectors={cacheLength:50,createPseudo:pI,match:s3,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(m7,e0),a[3]=(a[3]||a[4]||a[5]||"").replace(m7,e0),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||eD.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&eD.error(a[0]),a},PSEUDO:function(b){var a,c=!b[6]&&b[2];return s3.CHILD.test(b[0])?null:(b[3]?b[2]=b[4]||b[5]||"":c&&wL.test(c)&&(a=tB(c,!0))&&(a=c.indexOf(")",c.length-a)-c.length)&&(b[0]=b[0].slice(0,a),b[2]=c.slice(0,a)),b.slice(0,3))}},filter:{TAG:function(b){var a=b.replace(m7,e0).toLowerCase();return"*"===b?function(){return !0}:function(c){return c.nodeName&&c.nodeName.toLowerCase()===a}},CLASS:function(b){var a=bS[b+" "];return a||(a=new RegExp("(^|"+tN+")"+b+"("+tN+"|$)"))&&bS(b,function(c){return a.test("string"==typeof c.className&&c.className||typeof c.getAttribute!==bj&&c.getAttribute("class")||"")})},ATTR:function(c,a,b){return function(f){var d=eD.attr(f,c);return null==d?"!="===a:!a||(d+="","="===a?d===b:"!="===a?d!==b:"^="===a?b&&0===d.indexOf(b):"*="===a?b&&-1<d.indexOf(b):"$="===a?b&&d.slice(-b.length)===b:"~="===a?-1<(" "+d+" ").indexOf(b):"|="===a&&(d===b||d.slice(0,b.length+1)===b+"-"))}},CHILD:function(c,l,f,j,k){var i="nth"!==c.slice(0,3),d="last"!==c.slice(-4),a="of-type"===l;return 1===j&&0===k?function(b){return !!b.parentNode}:function(v,A,h){var b,g,p,y,z,B,x=i!==d?"nextSibling":"previousSibling",m=v.parentNode,q=a&&v.nodeName.toLowerCase(),w=!h&&!a;if(m){if(i){for(;x;){for(p=v;p=p[x];){if(a?p.nodeName.toLowerCase()===q:1===p.nodeType){return !1}}B=x="only"===c&&!B&&"nextSibling"}return !0}if(B=[d?m.firstChild:m.lastChild],d&&w){for(z=(b=(g=m[qF]||(m[qF]={}))[c]||[])[0]===j0&&b[1],y=b[0]===j0&&b[2],p=z&&m.childNodes[z];p=++z&&p&&p[x]||(y=z=0)||B.pop();){if(1===p.nodeType&&++y&&p===v){g[c]=[j0,z,y];break}}}else{if(w&&(b=(v[qF]||(v[qF]={}))[c])&&b[0]===j0){y=b[1]}else{for(;(p=++z&&p&&p[x]||(y=z=0)||B.pop())&&((a?p.nodeName.toLowerCase()!==q:1!==p.nodeType)||!++y||(w&&((p[qF]||(p[qF]={}))[c]=[j0,y]),p!==v));){}}}return(y-=k)===j||y%j==0&&0<=y/j}}},PSEUDO:function(f,d){var c,b=B7.pseudos[f]||B7.setFilters[f.toLowerCase()]||eD.error("unsupported pseudo: "+f);return b[qF]?b(d):1<b.length?(c=[f,f,"",d],B7.setFilters.hasOwnProperty(f.toLowerCase())?pI(function(h,a){for(var j,g=b(h,d),i=g.length;i--;){h[j=GP.call(h,g[i])]=!(a[j]=g[i])}}):function(a){return b(a,0,c)}):b}},pseudos:{not:pI(function(c){var b=[],d=[],a=GA(c.replace(CF,"$1"));return a[qF]?pI(function(k,h,m,j){for(var l,g=a(k,null,j,[]),f=k.length;f--;){(l=g[f])&&(k[f]=!(h[f]=l))}}):function(g,f,h){return b[0]=g,a(b,null,h,d),!d.pop()}}),has:pI(function(a){return function(b){return 0<eD(a,b).length}}),contains:pI(function(a){return a=a.replace(m7,e0),function(b){return -1<(b.textContent||b.innerText||wX(b)).indexOf(a)}}),lang:pI(function(a){return Bk.test(a||"")||eD.error("unsupported lang: "+a),a=a.replace(m7,e0).toLowerCase(),function(c){var b;do{if(b=eP?c.lang:c.getAttribute("xml:lang")||c.getAttribute("lang")){return(b=b.toLowerCase())===a||0===b.indexOf(a+"-")}}while((c=c.parentNode)&&1===c.nodeType);return !1}}),target:function(b){var a=window.location&&window.location.hash;return a&&a.slice(1)===b.id},root:function(a){return a===fq},focus:function(a){return a===nG.activeElement&&(!nG.hasFocus||nG.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return !1===a.disabled},disabled:function(a){return !0===a.disabled},checked:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&!!b.checked||"option"===a&&!!b.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !B7.pseudos.empty(a)},header:function(a){return rq.test(a.nodeName)},input:function(a){return FO.test(a.nodeName)},button:function(b){var a=b.nodeName.toLowerCase();return"input"===a&&"button"===b.type||"button"===a},text:function(b){var a;return"input"===b.nodeName.toLowerCase()&&"text"===b.type&&(null==(a=b.getAttribute("type"))||"text"===a.toLowerCase())},first:oY(function(){return[0]}),last:oY(function(b,a){return[a-1]}),eq:oY(function(b,a,c){return[c<0?c+a:c]}),even:oY(function(b,a){for(var c=0;c<a;c+=2){b.push(c)}return b}),odd:oY(function(b,a){for(var c=1;c<a;c+=2){b.push(c)}return b}),lt:oY(function(c,a,d){for(var b=d<0?d+a:d;0<=--b;){c.push(b)}return c}),gt:oY(function(c,a,d){for(var b=d<0?d+a:d;++b<a;){c.push(b)}return c})}}).pseudos.nth=B7.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){B7.pseudos[DX]=fK(DX)}for(DX in {submit:!0,reset:!0}){B7.pseudos[DX]=nR(DX)}function gQ(){}function i4(c){for(var a=0,d=c.length,b="";a<d;a++){b+=c[a].value}return b}function kU(b,h,f){var d=h.dir,g=f&&"parentNode"===d,i=cA++;return h.first?function(c,a,j){for(;c=c[d];){if(1===c.nodeType||g){return b(c,a,j)}}}:function(k,c,m){var j,l,a=[j0,i];if(m){for(;k=k[d];){if((1===k.nodeType||g)&&b(k,c,m)){return !0}}}else{for(;k=k[d];){if(1===k.nodeType||g){if((j=(l=k[qF]||(k[qF]={}))[d])&&j[0]===j0&&j[1]===i){return a[2]=j[2]}if((l[d]=a)[2]=b(k,c,m)){return !0}}}}}}function iH(a){return 1<a.length?function(d,b,f){for(var c=a.length;c--;){if(!a[c](d,b,f)){return !1}}return !0}:a[0]}function mK(h,m,f,b,d){for(var g,k=[],l=0,p=h.length,j=null!=m;l<p;l++){(g=h[l])&&(f&&!f(g,b,d)||(k.push(g),j&&m.push(l)))}return k}function dT(a,d,i,c,b,f){return c&&!c[qF]&&(c=dT(c)),b&&!b[qF]&&(b=dT(b,f)),pI(function(q,z,j,g){var h,m,x,y=[],A=[],w=z.length,k=q||function(u,l,C){for(var s=0,B=l.length;s<B;s++){eD(u,l[s],C)}return C}(d||"*",j.nodeType?[j]:j,[]),p=!a||!q&&d?k:mK(k,y,a,j,g),v=i?b||(q?a:w||c)?[]:z:p;if(i&&i(p,v,j,g),c){for(h=mK(v,A),c(h,[],j,g),m=h.length;m--;){(x=h[m])&&(v[A[m]]=!(p[A[m]]=x))}}if(q){if(b||a){if(b){for(h=[],m=v.length;m--;){(x=v[m])&&h.push(p[m]=x)}b(null,v=[],h,g)}for(m=v.length;m--;){(x=v[m])&&-1<(h=b?GP.call(q,x):y[m])&&(q[h]=!(z[h]=x))}}}else{v=mK(v===z?v.splice(w,v.length):v),b?b(null,z,v,g):w8.apply(z,v)}})}function qQ(j){for(var b,q,f,d=j.length,h=B7.relative[j[0].type],m=h||B7.relative[" "],p=h?1:0,v=kU(function(a){return a===b},m,!0),k=kU(function(a){return -1<GP.call(b,a)},m,!0),g=[function(c,a,i){return !h&&(i||a!==oN)||((b=a).nodeType?v(c,a,i):k(c,a,i))}];p<d;p++){if(q=B7.relative[j[p].type]){g=[kU(iH(g),q)]}else{if((q=B7.filter[j[p].type].apply(null,j[p].matches))[qF]){for(f=++p;f<d&&!B7.relative[j[f].type];f++){}return dT(1<p&&iH(g),1<p&&i4(j.slice(0,p-1).concat({value:" "===j[p-2].type?"*":""})).replace(CF,"$1"),q,p<f&&qQ(j.slice(p,f)),f<d&&qQ(j=j.slice(f)),f<d&&i4(j))}g.push(q)}}return iH(g)}gQ.prototype=B7.filters=B7.pseudos,B7.setFilters=new gQ,tB=eD.tokenize=function(h,m){var f,b,d,g,k,l,p,j=mq[h+" "];if(j){return m?0:j.slice(0)}for(k=h,l=[],p=B7.preFilter;k;){for(g in f&&!(b=DM.exec(k))||(b&&(k=k.slice(b[0].length)||k),l.push(d=[])),f=!1,(b=yB.exec(k))&&(f=b.shift(),d.push({value:f,type:b[0].replace(CF," ")}),k=k.slice(f.length)),B7.filter){!(b=s3[g].exec(k))||p[g]&&!(b=p[g](b))||(f=b.shift(),d.push({value:f,type:g,matches:b}),k=k.slice(f.length))}if(!f){break}}return m?k.length:k?eD.error(h):mq(h,l).slice(0)},GA=eD.compile=function(k,s){var f,j,q,m,l,c,d=[],g=[],p=kJ[k+" "];if(!p){for(s||(s=tB(k)),f=s.length;f--;){(p=qQ(s[f]))[qF]?d.push(p):g.push(p)}(p=kJ(k,(j=g,m=0<(q=d).length,l=0<j.length,c=function(C,H,w,b,v){var z,F,G,I=0,E="0",y=C&&[],B=[],D=oN,x=C||l&&B7.find.TAG("*",v),A=j0+=null==D?1:Math.random()||0.1,h=x.length;for(v&&(oN=H!==nG&&H);E!==h&&null!=(z=x[E]);E++){if(l&&z){for(F=0;G=j[F++];){if(G(z,H,w)){b.push(z);break}}v&&(j0=A)}m&&((z=!G&&z)&&I--,C&&y.push(z))}if(I+=E,m&&E!==I){for(F=0;G=q[F++];){G(y,B,H,w)}if(C){if(0<I){for(;E--;){y[E]||B[E]||(B[E]=xS.call(b))}}B=mK(B)}w8.apply(b,B),v&&!C&&0<B.length&&1<I+q.length&&eD.uniqueSort(b)}return v&&(j0=A,oN=D),y},m?pI(c):c))).selector=k}return p},rL=eD.select=function(j,q,f,b){var d,h,m,p,v,k="function"==typeof j&&j,g=!b&&tB(j=k.selector||j);if(f=f||[],1===g.length){if(2<(h=g[0]=g[0].slice(0)).length&&"ID"===(m=h[0]).type&&yO.getById&&9===q.nodeType&&eP&&B7.relative[h[1].type]){if(!(q=(B7.find.ID(m.matches[0].replace(m7,e0),q)||[])[0])){return f}k&&(q=q.parentNode),j=j.slice(h.shift().value.length)}for(d=s3.needsContext.test(j)?0:h.length;d--&&(m=h[d],!B7.relative[p=m.type]);){if((v=B7.find[p])&&(b=v(m.matches[0].replace(m7,e0),sG.test(h[0].type)&&hz(q.parentNode)||q))){if(h.splice(d,1),!(j=b.length&&i4(h))){return w8.apply(f,b),f}break}}}return(k||GA(j,g))(b,q,!eP,f,sG.test(j)&&hz(q.parentNode)||q),f},yO.sortStable=qF.split("").sort(gF).join("")===qF,yO.detectDuplicates=!!sS,h9(),yO.sortDetached=!0;var c9=Array.isArray,v1=function(c,a,f){var b,d;if(!c){return 0}if(f=f||c,c.length!==undefined){for(b=0,d=c.length;b<d;b++){if(!1===a.call(f,c[b],b,c)){return 0}}}else{for(b in c){if(c.hasOwnProperty(b)&&!1===a.call(f,c[b],b,c)){return 0}}}return 1},lE=function(c,a,f){var b,d;for(b=0,d=c.length;b<d;b++){if(a.call(f,c[b],b,c)){return b}}return -1},z6={isArray:c9,toArray:function(c){var a,d,b=c;if(!c9(c)){for(b=[],a=0,d=c.length;a<d;a++){b[a]=c[a]}}return b},each:v1,map:function(c,a){var b=[];return v1(c,function(f,d){b.push(a(f,d,c))}),b},filter:function(c,a){var b=[];return v1(c,function(f,d){a&&!a(f,d,c)||b.push(f)}),b},indexOf:function(c,a){var d,b;if(c){for(d=0,b=c.length;d<b;d++){if(c[d]===a){return d}}}return -1},reduce:function(c,a,f,b){var d=0;for(arguments.length<3&&(f=c[0]);d<c.length;d++){f=a.call(b,f,c[d],d)}return f},findIndex:lE,find:function(c,a,d){var b=lE(c,a,d);return -1!==b?c[b]:undefined},last:function(a){return a[a.length-1]}},p6=/^\s*|\s*$/g,cM=function(a){return null===a||a===undefined?"":(""+a).replace(p6,"")},jO=function(b,a){return a?!("array"!==a||!z6.isArray(b))||typeof b===a:b!==undefined},b2=function(b,d,a,c){c=c||this,b&&(a&&(b=b[a]),z6.each(b,function(g,f){if(!1===d.call(c,g,f,a)){return !1}b2(g,d,a,c)}))},bG={trim:cM,isArray:z6.isArray,is:jO,toArray:z6.toArray,makeMap:function(c,a,d){var b;for(a=a||",","string"==typeof(c=c||[])&&(c=c.split(a)),d=d||{},b=c.length;b--;){d[c[b]]={}}return d},each:z6.each,map:z6.map,grep:z6.filter,inArray:z6.indexOf,hasOwn:function(b,a){return Object.prototype.hasOwnProperty.call(b,a)},extend:function(g,k){for(var d,b,c,f=[],h=2;h<arguments.length;h++){f[h-2]=arguments[h]}var j,l=arguments;for(d=1,b=l.length;d<b;d++){for(c in k=l[d]){k.hasOwnProperty(c)&&(j=k[c])!==undefined&&(g[c]=j)}}return g},create:function(h,m,f){var b,d,g,k,l,p=this,j=0;if(h=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(h),g=h[3].match(/(^|\.)(\w+)$/i)[2],!(d=p.createNS(h[3].replace(/\.\w+$/,""),f))[g]){if("static"===h[2]){return d[g]=m,void (this.onCreate&&this.onCreate(h[2],h[3],d[g]))}m[g]||(m[g]=function(){},j=1),d[g]=m[g],p.extend(d[g].prototype,m),h[5]&&(b=p.resolve(h[5]).prototype,k=h[5].match(/\.(\w+)$/i)[1],l=d[g],d[g]=j?function(){return b[k].apply(this,arguments)}:function(){return this.parent=b[k],l.apply(this,arguments)},d[g].prototype[g]=d[g],p.each(b,function(c,a){d[g].prototype[a]=b[a]}),p.each(m,function(c,a){b[a]?d[g].prototype[a]=function(){return this.parent=b[a],c.apply(this,arguments)}:a!==g&&(d[g].prototype[a]=c)})),p.each(m["static"],function(c,a){d[g][a]=c})}},walk:b2,createNS:function(c,a){var d,b;for(a=a||window,c=c.split("."),d=0;d<c.length;d++){a[b=c[d]]||(a[b]={}),a=a[b]}return a},resolve:function(c,a){var d,b;for(a=a||window,d=0,b=(c=c.split(".")).length;d<b&&(a=a[c[d]]);d++){}return a},explode:function(b,a){return !b||jO(b,"array")?b:z6.map(b.split(a||","),cM)},_addCacheSuffix:function(b){var a=fW.cacheSuffix;return a&&(b+=(-1===b.indexOf("?")?"?":"&")+a),b}},l0=document,kj=Array.prototype.push,f6=Array.prototype.slice,aY=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,C7=AF.Event,uB=bG.makeMap("children,contents,next,prev"),xX=function(a){return void 0!==a},vJ=function(a){return"string"==typeof a},xz=function(c,a){var f,b,d;for(d=(a=a||l0).createElement("div"),f=a.createDocumentFragment(),d.innerHTML=c;b=d.firstChild;){f.appendChild(b)}return f},GU=function(c,a,f,b){var d;if(vJ(a)){a=xz(a,oG(c[0]))}else{if(a.length&&!a.nodeType){if(a=wQ.makeArray(a),b){for(d=a.length-1;0<=d;d--){GU(c,a[d],f,b)}}else{for(d=0;d<a.length;d++){GU(c,a[d],f,b)}}return c}}if(a.nodeType){for(d=c.length;d--;){f.call(c[d],a)}}return c},tS=function(b,a){return b&&a&&-1!==(" "+b.className+" ").indexOf(" "+a+" ")},uZ=function(c,a,f){var b,d;return a=wQ(a)[0],c.each(function(){var g=this;f&&b===g.parentNode||(b=g.parentNode,d=a.cloneNode(!1),g.parentNode.insertBefore(d,g)),d.appendChild(g)}),c},EP=bG.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),y4=bG.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),CK={"for":"htmlFor","class":"className",readonly:"readOnly"},DQ={"float":"cssFloat"},yH={},B0={},wQ=function(b,a){return new wQ.fn.init(b,a)},BD=/^\s*|\s*$/g,s8=function(a){return null===a||a===undefined?"":(""+a).replace(BD,"")},FZ=function(d,b){var g,c,f,a;if(d){if((g=d.length)===undefined){for(c in d){if(d.hasOwnProperty(c)&&(a=d[c],!1===b.call(a,c,a))){break}}}else{for(f=0;f<g&&(a=d[f],!1!==b.call(a,f,a));f++){}}}return d},rE=function(b,c){var a=[];return FZ(b,function(f,d){c(d,f)&&a.push(d)}),a},oG=function(a){return a?9===a.nodeType?a:a.ownerDocument:l0};wQ.fn=wQ.prototype={constructor:wQ,selector:"",context:null,length:0,init:function(c,a){var f,b,d=this;if(!c){return d}if(c.nodeType){return d.context=d[0]=c,d.length=1,d}if(a&&a.nodeType){d.context=a}else{if(a){return wQ(c).attr(a)}d.context=a=document}if(vJ(c)){if(!(f="<"===(d.selector=c).charAt(0)&&">"===c.charAt(c.length-1)&&3<=c.length?[null,c,null]:aY.exec(c))){return wQ(a).find(c)}if(f[1]){for(b=xz(c,oG(a)).firstChild;b;){kj.call(d,b),b=b.nextSibling}}else{if(!(b=oG(a).getElementById(f[2]))){return d}if(b.id!==f[2]){return d.find(c)}d.length=1,d[0]=b}}else{this.add(c,!1)}return d},toArray:function(){return bG.toArray(this)},add:function(c,a){var f,b,d=this;if(vJ(c)){return d.add(wQ(c))}if(!1!==a){for(f=wQ.unique(d.toArray().concat(wQ.makeArray(c))),d.length=f.length,b=0;b<f.length;b++){d[b]=f[b]}}else{kj.apply(d,wQ.makeArray(c))}return d},attr:function(a,d){var c,b=this;if("object"==typeof a){FZ(a,function(g,f){b.attr(g,f)})}else{if(!xX(d)){if(b[0]&&1===b[0].nodeType){if((c=yH[a])&&c.get){return c.get(b[0],a)}if(y4[a]){return b.prop(a)?a:undefined}null===(d=b[0].getAttribute(a,2))&&(d=undefined)}return d}this.each(function(){var f;if(1===this.nodeType){if((f=yH[a])&&f.set){return void f.set(this,d)}null===d?this.removeAttribute(a,2):this.setAttribute(a,d,2)}})}return b},removeAttr:function(a){return this.attr(a,null)},prop:function(b,a){var c=this;if("object"==typeof(b=CK[b]||b)){FZ(b,function(f,d){c.prop(f,d)})}else{if(!xX(a)){return c[0]&&c[0].nodeType&&b in c[0]?c[0][b]:a}this.each(function(){1===this.nodeType&&(this[b]=a)})}return c},css:function(k,g){var h,j,f=this,d=function(a){return a.replace(/-(\D)/g,function(l,i){return i.toUpperCase()})},b=function(a){return a.replace(/[A-Z]/g,function(i){return"-"+i})};if("object"==typeof k){FZ(k,function(i,a){f.css(i,a)})}else{if(xX(g)){k=d(k),"number"!=typeof g||EP[k]||(g=g.toString()+"px"),f.each(function(){var i=this.style;if((j=B0[k])&&j.set){j.set(this,g)}else{try{this.style[DQ[k]||k]=g}catch(a){}null!==g&&""!==g||(i.removeProperty?i.removeProperty(b(k)):i.removeAttribute(k))}})}else{if(h=f[0],(j=B0[k])&&j.get){return j.get(h)}if(!h.ownerDocument.defaultView){return h.currentStyle?h.currentStyle[d(k)]:""}try{return h.ownerDocument.defaultView.getComputedStyle(h,null).getPropertyValue(b(k))}catch(c){return undefined}}}return f},remove:function(){for(var b,a=this.length;a--;){b=this[a],C7.clean(b),b.parentNode&&b.parentNode.removeChild(b)}return this},empty:function(){for(var b,a=this.length;a--;){for(b=this[a];b.firstChild;){b.removeChild(b.firstChild)}}return this},html:function(c){var a,d=this;if(xX(c)){a=d.length;try{for(;a--;){d[a].innerHTML=c}}catch(b){wQ(d[a]).empty().append(c)}return d}return d[0]?d[0].innerHTML:""},text:function(b){var a,c=this;if(xX(b)){for(a=c.length;a--;){"innerText" in c[a]?c[a].innerText=b:c[0].textContent=b}return c}return c[0]?c[0].innerText||c[0].textContent:""},append:function(){return GU(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(a)})},prepend:function(){return GU(this,arguments,function(a){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(a,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?GU(this,arguments,function(a){this.parentNode.insertBefore(a,this)}):this},after:function(){return this[0]&&this[0].parentNode?GU(this,arguments,function(a){this.parentNode.insertBefore(a,this.nextSibling)},!0):this},appendTo:function(a){return wQ(a).append(this),this},prependTo:function(a){return wQ(a).prepend(this),this},replaceWith:function(a){return this.before(a).remove()},wrap:function(a){return uZ(this,a)},wrapAll:function(a){return uZ(this,a,!0)},wrapInner:function(a){return this.each(function(){wQ(this).contents().wrapAll(a)}),this},unwrap:function(){return this.parent().each(function(){wQ(this).replaceWith(this.childNodes)})},clone:function(){var a=[];return this.each(function(){a.push(this.cloneNode(!0))}),wQ(a)},addClass:function(a){return this.toggleClass(a,!0)},removeClass:function(a){return this.toggleClass(a,!1)},toggleClass:function(c,a){var b=this;return"string"!=typeof c||(-1!==c.indexOf(" ")?FZ(c.split(" "),function(){b.toggleClass(this,a)}):b.each(function(g,d){var h,f;(f=tS(d,c))!==a&&(h=d.className,f?d.className=s8((" "+h+" ").replace(" "+c+" "," ")):d.className+=h?" "+c:c)})),b},hasClass:function(a){return tS(this[0],a)},each:function(a){return FZ(this,a)},on:function(b,a){return this.each(function(){C7.bind(this,b,a)})},off:function(b,a){return this.each(function(){C7.unbind(this,b,a)})},trigger:function(a){return this.each(function(){"object"==typeof a?C7.fire(this,a.type,a):C7.fire(this,a)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new wQ(f6.apply(this,arguments))},eq:function(a){return -1===a?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(c){var a,d,b=[];for(a=0,d=this.length;a<d;a++){wQ.find(c,this[a],b)}return wQ(b)},filter:function(a){return wQ("function"==typeof a?rE(this.toArray(),function(c,b){return a(b,c)}):wQ.filter(a,this.toArray()))},closest:function(b){var a=[];return b instanceof wQ&&(b=b[0]),this.each(function(d,c){for(;c;){if("string"==typeof b&&wQ(c).is(b)){a.push(c);break}if(c===b){a.push(c);break}c=c.parentNode}}),wQ(a)},offset:function(g){var d,j,f,h,c=0,b=0;return g?this.css(g):((d=this[0])&&(f=(j=d.ownerDocument).documentElement,d.getBoundingClientRect&&(c=(h=d.getBoundingClientRect()).left+(f.scrollLeft||j.body.scrollLeft)-f.clientLeft,b=h.top+(f.scrollTop||j.body.scrollTop)-f.clientTop)),{left:c,top:b})},push:kj,sort:[].sort,splice:[].splice},bG.extend(wQ,{extend:bG.extend,makeArray:function(b){return(a=b)&&a===a.window||b.nodeType?[b]:bG.toArray(b);var a},inArray:function(b,a){var c;if(a.indexOf){return a.indexOf(b)}for(c=a.length;c--;){if(a[c]===b){return c}}return -1},isArray:bG.isArray,each:FZ,trim:s8,grep:rE,find:eD,expr:eD.selectors,unique:eD.uniqueSort,text:eD.getText,contains:eD.contains,filter:function(c,a,d){var b=a.length;for(d&&(c=":not("+c+")");b--;){1!==a[b].nodeType&&a.splice(b,1)}return a=1===a.length?wQ.find.matchesSelector(a[0],c)?[a[0]]:[]:wQ.find.matches(c,a)}});var r1=function(c,a,f){var b=[],d=c[a];for("string"!=typeof f&&f instanceof wQ&&(f=f[0]);d&&9!==d.nodeType;){if(f!==undefined){if(d===f){break}if("string"==typeof f&&wQ(d).is(f)){break}}1===d.nodeType&&b.push(d),d=d[a]}return b},sL=function(c,a,f,b){var d=[];for(b instanceof wQ&&(b=b[0]);c;c=c[a]){if(!f||c.nodeType===f){if(b!==undefined){if(c===b){break}if("string"==typeof b&&wQ(c).is(b)){break}}d.push(c)}}return d},h2=function(b,a,c){for(b=b[a];b;b=b[a]){if(b.nodeType===c){return b}}return null};FZ({parent:function(b){var a=b.parentNode;return a&&11!==a.nodeType?a:null},parents:function(a){return r1(a,"parentNode")},next:function(a){return h2(a,"nextSibling",1)},prev:function(a){return h2(a,"previousSibling",1)},children:function(a){return sL(a.firstChild,"nextSibling",1)},contents:function(a){return bG.toArray(("iframe"===a.nodeName?a.contentDocument||a.contentWindow.document:a).childNodes)}},function(b,a){wQ.fn[b]=function(c){var d=[];return this.each(function(){var f=a.call(d,this,c,d);f&&(wQ.isArray(f)?d.push.apply(d,f):d.push(f))}),1<this.length&&(uB[b]||(d=wQ.unique(d)),0===b.indexOf("parents")&&(d=d.reverse())),d=wQ(d),c?d.filter(c):d}}),FZ({parentsUntil:function(b,a){return r1(b,"parentNode",a)},nextUntil:function(b,a){return sL(b,"nextSibling",1,a).slice(1)},prevUntil:function(b,a){return sL(b,"previousSibling",1,a).slice(1)}},function(a,b){wQ.fn[a]=function(c,d){var f=[];return this.each(function(){var g=b.call(f,this,c,f);g&&(wQ.isArray(g)?f.push.apply(f,g):f.push(g))}),1<this.length&&(f=wQ.unique(f),0!==a.indexOf("parents")&&"prevUntil"!==a||(f=f.reverse())),f=wQ(f),d?f.filter(d):f}}),wQ.fn.is=function(a){return !!a&&0<this.filter(a).length},wQ.fn.init.prototype=wQ.fn,wQ.overrideDefaults=function(c){var a,b=function(f,d){return a=a||c(),0===arguments.length&&(f=a.element),d||(d=a.context),new b.fn.init(f,d)};return wQ.extend(b,this),b};var nq=function(c,a,b){FZ(b,function(f,d){c[f]=c[f]||{},c[f][a]=d})};fW.ie&&fW.ie<8&&(nq(yH,"get",{maxlength:function(b){var a=b.maxLength;return 2147483647===a?undefined:a},size:function(b){var a=b.size;return 20===a?undefined:a},"class":function(a){return a.className},style:function(b){var a=b.style.cssText;return 0===a.length?undefined:a}}),nq(yH,"set",{"class":function(b,a){b.className=a},style:function(b,a){b.style.cssText=a}})),fW.ie&&fW.ie<9&&(DQ["float"]="styleFloat",nq(B0,"set",{opacity:function(b,a){var c=b.style;null===a||""===a?c.removeAttribute("filter"):(c.zoom=1,c.filter="alpha(opacity="+100*a+")")}})),wQ.attrHooks=yH,wQ.cssHooks=B0;var e5=function(c){var a,b=!1;return function(){for(var f=[],d=0;d<arguments.length;d++){f[d]=arguments[d]}return b||(b=!0,a=c.apply(null,f)),a}},eI=function(c,a){var d=function(h,f){for(var i=0;i<h.length;i++){var g=h[i];if(g.test(f)){return g}}return undefined}(c,a);if(!d){return{major:0,minor:0}}var b=function(f){return Number(a.replace(d,"$"+f))};return pN(b(1),b(2))},zO=function(){return pN(0,0)},pN=function(b,a){return{major:b,minor:a}},aH={nu:pN,detect:function(b,a){var c=String(a).toLowerCase();return 0===b.length?zO():eI(b,c)},unknown:zO},fP="Firefox",nW=function(b,a){return function(){return a===b}},o3=function(b){var a=b.current;return{current:a,version:b.version,isEdge:nW("Edge",a),isChrome:nW("Chrome",a),isIE:nW("IE",a),isOpera:nW("Opera",a),isFirefox:nW(fP,a),isSafari:nW("Safari",a)}},hF={unknown:function(){return o3({current:undefined,version:aH.unknown()})},nu:o3,edge:F6("Edge"),chrome:F6("Chrome"),ie:F6("IE"),opera:F6("Opera"),firefox:F6(fP),safari:F6("Safari")},gV="Windows",i9="Android",kZ="Solaris",iM="FreeBSD",mP=function(b,a){return function(){return a===b}},dY=function(b){var a=b.current;return{current:a,version:b.version,isWindows:mP(gV,a),isiOS:mP("iOS",a),isAndroid:mP(i9,a),isOSX:mP("OSX",a),isLinux:mP("Linux",a),isSolaris:mP(kZ,a),isFreeBSD:mP(iM,a)}},qV={unknown:function(){return dY({current:undefined,version:aH.unknown()})},nu:dY,windows:F6(gV),ios:F6("iOS"),android:F6(i9),linux:F6("Linux"),osx:F6("OSX"),solaris:F6(kZ),freebsd:F6(iM)},dA=function(b,a){var c=String(a).toLowerCase();return FI(b,function(d){return d.search(c)})},v6=function(a,b){return dA(a,b).map(function(d){var c=aH.detect(d.versionRegexes,b);return{current:d.name,version:c}})},lJ=function(a,b){return dA(a,b).map(function(d){var c=aH.detect(d.versionRegexes,b);return{current:d.name,version:c}})},Ak=function(b,a){return -1!==b.indexOf(a)},qk=function(a){return a.replace(/^\s+|\s+$/g,"")},cR=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,jT=function(a){return function(b){return Ak(b,a)}},b7=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return Ak(a,"edge/")&&Ak(a,"chrome")&&Ak(a,"safari")&&Ak(a,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,cR],search:function(a){return Ak(a,"chrome")&&!Ak(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return Ak(a,"msie")||Ak(a,"trident")}},{name:"Opera",versionRegexes:[cR,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:jT("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:jT("firefox")},{name:"Safari",versionRegexes:[cR,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(Ak(a,"safari")||Ak(a,"mobile/"))&&Ak(a,"applewebkit")}}],bL=[{name:"Windows",search:jT("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return Ak(a,"iphone")||Ak(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:jT("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:jT("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:jT("linux"),versionRegexes:[]},{name:"Solaris",search:jT("sunos"),versionRegexes:[]},{name:"FreeBSD",search:jT("freebsd"),versionRegexes:[]}],l5={browsers:F6(b7),oses:F6(bL)},kB=function(z){var E,k,b,j,w,C,D,F,B,v,y,A=l5.browsers(),q=l5.oses(),x=v6(A,z).fold(hF.unknown,hF.nu),h=lJ(q,z).fold(qV.unknown,qV.nu);return{browser:x,os:h,deviceType:(k=x,b=z,j=(E=h).isiOS()&&!0===/ipad/i.test(b),w=E.isiOS()&&!j,C=E.isAndroid()&&3===E.version.major,D=E.isAndroid()&&4===E.version.major,F=j||C||D&&!0===/mobile/i.test(b),B=E.isiOS()||E.isAndroid(),v=B&&!F,y=k.isSafari()&&E.isiOS()&&!1===/safari/i.test(b),{isiPad:F6(j),isiPhone:F6(w),isTablet:F6(F),isPhone:F6(v),isTouch:F6(B),isAndroid:E.isAndroid,isiOS:E.isiOS,isWebView:F6(y)})}},gk={detect:e5(function(){var a=navigator.userAgent;return kB(a)})},a3=function(a){if(null===a||a===undefined){throw new Error("Node cannot be null or undefined")}return{dom:F6(a)}},C4={fromHtml:function(b,a){var c=(a||document).createElement("div");if(c.innerHTML=b,!c.hasChildNodes()||1<c.childNodes.length){throw console.error("HTML does not have a single root node",b),"HTML must have a single root node"}return a3(c.childNodes[0])},fromTag:function(b,a){var c=(a||document).createElement(b);return a3(c)},fromText:function(b,a){var c=(a||document).createTextNode(b);return a3(c)},fromDom:a3,fromPoint:function(c,a,d){var b=c.dom();return GG.from(b.elementFromPoint(a,d)).map(a3)}},uq={ATTRIBUTE:Node.ATTRIBUTE_NODE,CDATA_SECTION:Node.CDATA_SECTION_NODE,COMMENT:Node.COMMENT_NODE,DOCUMENT:Node.DOCUMENT_NODE,DOCUMENT_TYPE:Node.DOCUMENT_TYPE_NODE,DOCUMENT_FRAGMENT:Node.DOCUMENT_FRAGMENT_NODE,ELEMENT:Node.ELEMENT_NODE,TEXT:Node.TEXT_NODE,PROCESSING_INSTRUCTION:Node.PROCESSING_INSTRUCTION_NODE,ENTITY_REFERENCE:Node.ENTITY_REFERENCE_NODE,ENTITY:Node.ENTITY_NODE,NOTATION:Node.NOTATION_NODE},xU=function(a){return a.dom().nodeName.toLowerCase()},vG=function(a){return a.dom().nodeType},xj=function(a){return function(b){return vG(b)===a}},AS=xj(uq.ELEMENT),GR=xj(uq.TEXT),tP=xj(uq.DOCUMENT),uW={name:xU,type:vG,value:function(a){return a.dom().nodeValue},isElement:AS,isText:GR,isDocument:tP,isComment:function(a){return vG(a)===uq.COMMENT||"#comment"===xU(a)}},EI=Object.keys,y1=function(d,b){for(var g=EI(d),c=0,f=g.length;c<f;c++){var a=g[c];b(d[a],a,d)}},CH=function(b,a){return DO(b,function(d,c,f){return{k:c,v:a(d,c,f)}})},DO=function(b,c){var a={};return y1(b,function(f,d){var g=c(f,d,b);a[g.k]=g.v}),a},yE=function(b,a,c){if(!(EQ(c)||GE(c)||FT(c))){throw console.error("Invalid call to Attr.set. Key ",a,":: Value ",c,":: Element ",b),new Error("Attribute value was not simple")}b.setAttribute(a,c+"")},BX=function(b,a,c){yE(b.dom(),a,c)},wN=function(b,a){var c=b.dom().getAttribute(a);return null===c?undefined:c},Bz=function(b,a){var c=b.dom();return !(!c||!c.hasAttribute)&&c.hasAttribute(a)},s5={clone:function(a){return D3(a.dom().attributes,function(c,b){return c[b.name]=b.value,c},{})},set:BX,setAll:function(b,a){var c=b.dom();y1(a,function(f,d){yE(c,d,f)})},get:wN,has:Bz,remove:function(b,a){b.dom().removeAttribute(a)},hasNone:function(b){var a=b.dom().attributes;return a===undefined||null===a||0===a.length},transfer:function(c,a,b){uW.isElement(c)&&uW.isElement(a)&&Gj(b,function(g){var d,h,f;h=a,Bz(d=c,f=g)&&!Bz(h,f)&&BX(h,f,wN(d,f))})}},FS=e5(function(){return rA(C4.fromDom(document))}),rA=function(b){var a=b.dom().body;if(null===a||a===undefined){throw"Body is not available yet"}return C4.fromDom(a)},oD={body:FS,getBody:rA,inBody:function(b){var a=uW.isText(b)?b.dom().parentNode:b.dom();return a!==undefined&&null!==a&&a.ownerDocument.body.contains(a)}},rY=function(a){return a.style!==undefined},sI=function(b,a,c){if(!EQ(c)){throw console.error("Invalid call to CSS.set. Property ",a,":: Value ",c,":: Element ",b),new Error("CSS value must be a string: "+c)}rY(b)&&b.style.setProperty(a,c)},hZ=function(b,a){return rY(b)?b.style.getPropertyValue(a):""},m9=function(c,a){var d=c.dom(),b=hZ(d,a);return GG.from(b).filter(function(f){return 0<f.length})},e2=function(b,a){var c=b.dom();y1(a,function(f,d){sI(c,d,f)})},eF=function(c,a){var f=c.dom(),b=window.getComputedStyle(f).getPropertyValue(a),d=""!==b||oD.inBody(c)?b:hZ(f,a);return null===d?undefined:d},zL=m9,pK=function(){for(var a=[],b=0;b<arguments.length;b++){a[b]=arguments[b]}return function(){for(var f=[],d=0;d<arguments.length;d++){f[d]=arguments[d]}if(a.length!==f.length){throw new Error('Wrong number of arguments to struct. Expected "['+a.length+']", got '+f.length+" arguments")}var c={};return Gj(a,function(h,g){c[h]=F6(f[g])}),c}},aE=function(c,a){for(var f=[],b=function(g){return f.push(g),a(g)},d=a(c);(d=d.bind(b)).isSome();){}return f},fM=function(){return A0.getOrDie("Node")},nT=function(b,a,c){return 0!=(b.compareDocumentPosition(a)&c)},o0=function(b,a){return nT(b,a,fM().DOCUMENT_POSITION_CONTAINED_BY)},hB=uq.ELEMENT,gS=uq.DOCUMENT,i6=function(a){return a.nodeType!==hB&&a.nodeType!==gS||0===a.childElementCount},kW={all:function(b,a){var c=a===undefined?document:a.dom();return i6(c)?[]:G2(c.querySelectorAll(b),C4.fromDom)},is:function(b,a){var c=b.dom();if(c.nodeType!==hB){return !1}if(c.matches!==undefined){return c.matches(a)}if(c.msMatchesSelector!==undefined){return c.msMatchesSelector(a)}if(c.webkitMatchesSelector!==undefined){return c.webkitMatchesSelector(a)}if(c.mozMatchesSelector!==undefined){return c.mozMatchesSelector(a)}throw new Error("Browser lacks native selectors")},one:function(b,a){var c=a===undefined?document:a.dom();return i6(c)?GG.none():GG.from(c.querySelector(b)).map(C4.fromDom)}},iJ=function(b,a){return b.dom()===a.dom()},mM=gk.detect().browser.isIE()?function(b,a){return o0(b.dom(),a.dom())}:function(c,a){var d=c.dom(),b=a.dom();return d!==b&&d.contains(b)},dV={eq:iJ,isEqualNode:function(b,a){return b.dom().isEqualNode(a.dom())},member:function(b,a){return FY(a,E6(iJ,b))},contains:mM,is:kW.is},qS=function(b){var a=b.dom();return GG.from(a.parentNode).map(C4.fromDom)},dk=function(b){var a=b.dom();return GG.from(a.previousSibling).map(C4.fromDom)},v3=function(b){var a=b.dom();return GG.from(a.nextSibling).map(C4.fromDom)},lG=function(b){var a=b.dom();return G2(a.childNodes,C4.fromDom)},z8=function(b,a){var c=b.dom().childNodes;return GG.from(c[a]).map(C4.fromDom)},p8=pK("element","offset"),cO={owner:function(a){return C4.fromDom(a.dom().ownerDocument)},defaultView:function(b){var a=b.dom().ownerDocument.defaultView;return C4.fromDom(a)},documentElement:function(a){return C4.fromDom(a.dom().ownerDocument.documentElement)},parent:qS,findIndex:function(a){return qS(a).bind(function(c){var b=lG(c);return F2(b,function(d){return dV.eq(a,d)})})},parents:function(g,d){for(var j=FU(d)?d:F6(!1),f=g.dom(),h=[];null!==f.parentNode&&f.parentNode!==undefined;){var c=f.parentNode,b=C4.fromDom(c);if(h.push(b),!0===j(b)){break}f=c}return h},siblings:function(a){return qS(a).map(lG).map(function(b){return FJ(b,function(c){return !dV.eq(a,c)})}).getOr([])},prevSibling:dk,offsetParent:function(b){var a=b.dom();return GG.from(a.offsetParent).map(C4.fromDom)},prevSiblings:function(b){return a=aE(b,dk),(c=FR.call(a,0)).reverse(),c;var a,c},nextSibling:v3,nextSiblings:function(a){return aE(a,v3)},children:lG,child:z8,firstChild:function(a){return z8(a,0)},lastChild:function(a){return z8(a,a.dom().childNodes.length-1)},childNodesCount:function(a){return a.dom().childNodes.length},hasChildNodes:function(a){return a.dom().hasChildNodes()},leaf:function(b,a){var c=lG(b);return 0<c.length&&a<c.length?p8(c[a],0):p8(b,a)}},jQ=gk.detect().browser,b4=function(a){return FI(a,uW.isElement)},bI={getPos:function(g,k,d){var b,c,f,h=0,j=0,l=g.ownerDocument;if(d=d||g,k){if(d===g&&k.getBoundingClientRect&&"static"===eF(C4.fromDom(g),"position")){return{x:h=(c=k.getBoundingClientRect()).left+(l.documentElement.scrollLeft||g.scrollLeft)-l.documentElement.clientLeft,y:j=c.top+(l.documentElement.scrollTop||g.scrollTop)-l.documentElement.clientTop}}for(b=k;b&&b!==d&&b.nodeType;){h+=b.offsetLeft||0,j+=b.offsetTop||0,b=b.offsetParent}for(b=k.parentNode;b&&b!==d&&b.nodeType;){h-=b.scrollLeft||0,j-=b.scrollTop||0,b=b.parentNode}j+=(f=C4.fromDom(k),jQ.isFirefox()&&"table"===uW.name(f)?b4(cO.children(f)).filter(function(a){return"caption"===uW.name(a)}).bind(function(a){return b4(cO.nextSiblings(a)).map(function(o){var i=o.dom().offsetTop,p=a.dom().offsetTop,m=a.dom().offsetHeight;return i<=p?-m:0})}).getOr(0):0)}return{x:h,y:j}}},l2=function(g){var j=GG.none(),d=[],f=function(a){h()?b(a):d.push(a)},h=function(){return j.isSome()},c=function(a){Gj(a,b)},b=function(a){j.each(function(i){setTimeout(function(){a(i)},0)})};return g(function(a){j=GG.some(a),c(d),d=[]}),{get:f,map:function(a){return l2(function(e){f(function(i){e(a(i))})})},isReady:h}},kq={nu:l2,pure:function(a){return l2(function(b){b(a)})}},f8=function(a){var b=function(d){var c;a((c=d,function(){for(var g=[],f=0;f<arguments.length;f++){g[f]=arguments[f]}var h=this;setTimeout(function(){c.apply(h,g)},0)}))};return{map:function(c){return f8(function(d){b(function(g){var f=c(g);d(f)})})},bind:function(c){return f8(function(d){b(function(f){c(f).get(d)})})},anonBind:function(c){return f8(function(d){b(function(f){c.get(d)})})},toLazy:function(){return kq.nu(b)},get:b}},a0={nu:f8,pure:function(a){return f8(function(b){b(a)})}},C6=function(b,c){return c(function(d){var e=[],a=0;0===b.length?d([]):Gj(b,function(g,f){var h;g.get((h=f,function(i){e[h]=i,++a>=b.length&&d(e)}))})})},uA=function(a){return C6(a,a0.nu)},xW=function(a){return{is:function(b){return a===b},isValue:GB,isError:D4,getOr:F6(a),getOrThunk:F6(a),getOrDie:F6(a),or:function(b){return xW(a)},orThunk:function(b){return xW(a)},fold:function(c,b){return b(a)},map:function(b){return xW(b(a))},each:function(b){b(a)},bind:function(b){return b(a)},exists:function(b){return b(a)},forall:function(b){return b(a)},toOption:function(){return GG.some(a)}}},vI=function(a){return{is:D4,isValue:D4,isError:GB,getOr:ES,getOrThunk:function(b){return b()},getOrDie:function(){return b=String(a),function(){throw new Error(b)}();var b},or:function(b){return b},orThunk:function(b){return b()},fold:function(c,b){return c(a)},map:function(b){return vI(a)},each:D9,bind:function(b){return vI(a)},exists:D4,forall:GB,toOption:GG.none}},xq={value:xW,error:vI};function AU(c,a){var b=c,d=function(j,g,l,h){var k,f;if(j){if(!h&&j[g]){return j[g]}if(j!==a){if(k=j[l]){return k}for(f=j.parentNode;f&&f!==a;f=f.parentNode){if(k=f[l]){return k}}}}};this.current=function(){return b},this.next=function(f){return b=d(b,"firstChild","nextSibling",f)},this.prev=function(f){return b=d(b,"lastChild","previousSibling",f)},this.prev2=function(f){return b=function(l,j,p,k){var m,h,g;if(l){if(m=l[p],a&&m===a){return}if(m){if(!k){for(g=m[j];g;g=g[j]){if(!g[j]){return g}}}return m}if((h=l.parentNode)&&h!==a){return h}}}(b,"lastChild","previousSibling",f)}}var GT,tR,uY,EN=function(a){var b;return function(c){return(b=b||function(h,f){for(var k={},g=0,j=h.length;g<j;g++){var d=h[g];k[String(d)]=f(d,g)}return k}(a,F6(!0))).hasOwnProperty(uW.name(c))}},y3=EN(["h1","h2","h3","h4","h5","h6"]),CJ=EN(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),yG=function(a){return uW.isElement(a)&&!CJ(a)},BZ=function(a){return uW.isElement(a)&&"br"===uW.name(a)},wP=EN(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),BB=EN(["ul","ol","dl"]),s7=EN(["li","dd","dt"]),FX=EN(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),rD=EN(["thead","tbody","tfoot"]),oF=EN(["td","th"]),r0=EN(["pre","script","textarea","style"]),sK=function(a){return function(b){return !!b&&b.nodeType===a}},h1=sK(1),nk=function(b){var a=b.toLowerCase().split(" ");return function(d){var c,f;if(d&&d.nodeType){for(f=d.nodeName.toLowerCase(),c=0;c<a.length;c++){if(f===a[c]){return !0}}}return !1}},e4=function(a){return function(b){if(h1(b)){if(b.contentEditable===a){return !0}if(b.getAttribute("data-mce-contenteditable")===a){return !0}}return !1}},eH=sK(3),zN=sK(8),pM=sK(9),aG=nk("br"),fO=e4("true"),nV=e4("false"),o2={isText:eH,isElement:h1,isComment:zN,isDocument:pM,isBr:aG,isContentEditableTrue:fO,isContentEditableFalse:nV,matchNodeNames:nk,hasPropValue:function(a,b){return function(c){return h1(c)&&c[a]===b}},hasAttribute:function(a,b){return function(c){return h1(c)&&c.hasAttribute(a)}},hasAttributeValue:function(a,b){return function(c){return h1(c)&&c.getAttribute(a)===b}},matchStyleValues:function(a,b){var c=b.toLowerCase().split(" ");return function(f){var d;if(h1(f)){for(d=0;d<c.length;d++){var g=f.ownerDocument.defaultView.getComputedStyle(f,null);if((g?g.getPropertyValue(a):null)===c[d]){return !0}}}return !1}},isBogus:function(a){return h1(a)&&a.hasAttribute("data-mce-bogus")},isBogusAll:function(a){return h1(a)&&"all"===a.getAttribute("data-mce-bogus")},isTable:function(a){return h1(a)&&"TABLE"===a.tagName}},hE=function(a){return a&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},gU=function(h,f){var k,g=f.childNodes;if(!o2.isElement(f)||!hE(f)){for(k=g.length-1;0<=k;k--){gU(h,g[k])}if(!1===o2.isDocument(f)){if(o2.isText(f)&&0<f.nodeValue.length){var j=bG.trim(f.nodeValue).length;if(h.isBlock(f.parentNode)||0<j){return}if(0===j&&(b=(d=f).previousSibling&&"SPAN"===d.previousSibling.nodeName,c=d.nextSibling&&"SPAN"===d.nextSibling.nodeName,b&&c)){return}}else{if(o2.isElement(f)&&(1===(g=f.childNodes).length&&hE(g[0])&&f.parentNode.insertBefore(g[0],f),g.length||FX(C4.fromDom(f)))){return}}h.remove(f)}var d,b,c;return f}},i8={trimNode:gU},kY=bG.makeMap,iL=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mO=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dX=/[<>&\"\']/g,qU=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,dz={128:"\u20ac",130:"\u201a",131:"\u0192",132:"\u201e",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02c6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017d",145:"\u2018",146:"\u2019",147:"\u201c",148:"\u201d",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02dc",153:"\u2122",154:"\u0161",155:"\u203a",156:"\u0153",158:"\u017e",159:"\u0178"};tR={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},uY={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var v5=function(d,b){var g,c,f,a={};if(d){for(d=d.split(","),b=b||10,g=0;g<d.length;g+=2){c=String.fromCharCode(parseInt(d[g],b)),tR[c]||(f="&"+d[g+1]+";",a[c]=f,a[f]=c)}return a}};GT=v5("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var lI=function(b,a){return b.replace(a?iL:mO,function(c){return tR[c]||c})},Aj=function(b,a){return b.replace(a?iL:mO,function(c){return 1<c.length?"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";":tR[c]||"&#"+c.charCodeAt(0)+";"})},qj=function(b,a,c){return c=c||GT,b.replace(a?iL:mO,function(d){return tR[d]||c[d]||d})},cQ={encodeRaw:lI,encodeAllRaw:function(a){return(""+a).replace(dX,function(b){return tR[b]||b})},encodeNumeric:Aj,encodeNamed:qj,getEncodeFunc:function(c,a){var d=v5(a)||GT,b=kY(c.replace(/\+/g,","));return b.named&&b.numeric?function(g,f){return g.replace(f?iL:mO,function(h){return tR[h]!==undefined?tR[h]:d[h]!==undefined?d[h]:1<h.length?"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";":"&#"+h.charCodeAt(0)+";"})}:b.named?a?function(g,f){return qj(g,f,d)}:qj:b.numeric?Aj:lI},decode:function(a){return a.replace(qU,function(d,b){return b?65535<(b="x"===b.charAt(0).toLowerCase()?parseInt(b.substr(1),16):parseInt(b,10))?(b-=65536,String.fromCharCode(55296+(b>>10),56320+(1023&b))):dz[b]||String.fromCharCode(b):uY[d]||GT[d]||(f=d,(c=C4.fromTag("div").dom()).innerHTML=f,c.textContent||c.innerText||f);var f,c})}},jS={},b6={},bK=bG.makeMap,l4=bG.each,kA=bG.extend,gj=bG.explode,a2=bG.inArray,Dj=function(b,a){return(b=bG.trim(b))?b.split(a||" "):[]},uF=function(h){var l,m,f,b,d,g,p={},k=function(v,s,x){var u,w,q,c=function(y,a){var A,i,z={};for(A=0,i=y.length;A<i;A++){z[y[A]]=a||{}}return z};for(s=s||"","string"==typeof(x=x||[])&&(x=Dj(x)),u=(v=Dj(v)).length;u--;){q={attributes:c(w=Dj([l,s].join(" "))),attributesOrder:w,children:c(x,b6)},p[v[u]]=q}},j=function(s,c){var v,q,u,a;for(v=(s=Dj(s)).length,c=Dj(c);v--;){for(q=p[s[v]],u=0,a=c.length;u<a;u++){q.attributes[c[u]]={},q.attributesOrder.push(c[u])}}};return jS[h]?jS[h]:(l="id accesskey class dir lang style tabindex title role",m="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",f="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==h&&(l+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",m+=" article aside details dialog figure header footer hgroup section nav",f+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==h&&(l+=" xml:lang",f=[f,g="acronym applet basefont big font strike tt"].join(" "),l4(Dj(g),function(a){k(a,"",f)}),m=[m,d="center dir isindex noframes"].join(" "),b=[m,f].join(" "),l4(Dj(d),function(a){k(a,"",b)})),b=b||[m,f].join(" "),k("html","manifest","head body"),k("head","","base command link meta noscript script style title"),k("title hr noscript br"),k("base","href target"),k("link","href rel media hreflang type sizes hreflang"),k("meta","name http-equiv content charset"),k("style","media type scoped"),k("script","src async defer type charset"),k("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",b),k("address dt dd div caption","",b),k("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",f),k("blockquote","cite",b),k("ol","reversed start type","li"),k("ul","","li"),k("li","value",b),k("dl","","dt dd"),k("a","href target rel media hreflang type",f),k("q","cite",f),k("ins del","cite datetime",b),k("img","src sizes srcset alt usemap ismap width height"),k("iframe","src name width height",b),k("embed","src type width height"),k("object","data type typemustmatch name usemap form width height",[b,"param"].join(" ")),k("param","name value"),k("map","name",[b,"area"].join(" ")),k("area","alt coords shape href target rel media hreflang type"),k("table","border","caption colgroup thead tfoot tbody tr"+("html4"===h?" col":"")),k("colgroup","span","col"),k("col","span"),k("tbody thead tfoot","","tr"),k("tr","","td th"),k("td","colspan rowspan headers",b),k("th","colspan rowspan headers scope abbr",b),k("form","accept-charset action autocomplete enctype method name novalidate target",b),k("fieldset","disabled form name",[b,"legend"].join(" ")),k("label","form for",f),k("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),k("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===h?b:f),k("select","disabled form multiple name required size","option optgroup"),k("optgroup","disabled label","option"),k("option","disabled label selected value"),k("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),k("menu","type label",[b,"li"].join(" ")),k("noscript","",b),"html4"!==h&&(k("wbr"),k("ruby","",[f,"rt rp"].join(" ")),k("figcaption","",b),k("mark rt rp summary bdi","",f),k("canvas","width height",b),k("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[b,"track source"].join(" ")),k("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[b,"track source"].join(" ")),k("picture","","img source"),k("source","src srcset type media sizes"),k("track","kind src srclang label default"),k("datalist","",[f,"option"].join(" ")),k("article section nav aside header footer","",b),k("hgroup","","h1 h2 h3 h4 h5 h6"),k("figure","",[b,"figcaption"].join(" ")),k("time","datetime",f),k("dialog","open",b),k("command","type label icon disabled checked radiogroup command"),k("output","for form name",f),k("progress","value max",f),k("meter","value min max low high optimum",f),k("details","open",[b,"summary"].join(" ")),k("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==h&&(j("script","language xml:space"),j("style","xml:space"),j("object","declare classid code codebase codetype archive standby align border hspace vspace"),j("embed","align name hspace vspace"),j("param","valuetype type"),j("a","charset name rev shape coords"),j("br","clear"),j("applet","codebase archive code object alt name width height align hspace vspace"),j("img","name longdesc align border hspace vspace"),j("iframe","longdesc frameborder marginwidth marginheight scrolling align"),j("font basefont","size color face"),j("input","usemap align"),j("select","onchange"),j("textarea"),j("h1 h2 h3 h4 h5 h6 div p legend caption","align"),j("ul","type compact"),j("li","type"),j("ol dl menu dir","compact"),j("pre","width xml:space"),j("hr","align noshade size width"),j("isindex","prompt"),j("table","summary width frame rules cellspacing cellpadding align bgcolor"),j("col","width align char charoff valign"),j("colgroup","width align char charoff valign"),j("thead","align char charoff valign"),j("tr","align char charoff valign bgcolor"),j("th","axis align char charoff valign nowrap bgcolor width height"),j("form","accept"),j("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),j("tfoot","align char charoff valign"),j("tbody","align char charoff valign"),j("area","nohref"),j("body","background bgcolor text link vlink alink")),"html4"!==h&&(j("input button select textarea","autofocus"),j("input textarea","placeholder"),j("a","download"),j("link script img","crossorigin"),j("iframe","sandbox seamless allowfullscreen")),l4(Dj("a form meter progress dfn"),function(a){p[a]&&delete p[a].children[a]}),delete p.caption.children.table,delete p.script,jS[h]=p)},x0=function(b,c){var a;return b&&(a={},"string"==typeof b&&(b={"*":b}),l4(b,function(f,d){a[d]=a[d.toUpperCase()]="map"===c?bK(f,/[, ]/):gj(f,/[, ]/)})),a};function vM(Q){var V,G,M,J,L,Z,D,H,X,P,U,W,O,k={},T={},F=[],K={},R={},B=function(c,a,d){var b=Q[c];return b?b=bK(b,/[, ]/,bK(b.toUpperCase(),/[, ]/)):(b=jS[c])||(b=bK(a," ",bK(a.toUpperCase()," ")),b=kA(b,d),jS[c]=b),b};M=uF((Q=Q||{}).schema),!1===Q.verify_html&&(Q.valid_elements="*[*]"),V=x0(Q.valid_styles),G=x0(Q.invalid_styles,"map"),H=x0(Q.valid_classes,"map"),J=B("whitespace_elements","pre script noscript style textarea video audio iframe object code"),L=B("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Z=B("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),D=B("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),P=B("non_empty_elements","td th iframe video audio object script pre code",Z),U=B("move_caret_before_on_enter_elements","table",P),W=B("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),X=B("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",W),O=B("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),l4((Q.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(a){R[a]=new RegExp("</"+a+"[^>]*>","gi")});var j=function(a){return new RegExp("^"+a.replace(/([?+*])/g,".$1")+"$")},Y=function(at){var ac,ai,af,ah,an,ax,ab,ad,av,am,ar,au,al,ap,ag,ao,aa,aw,E,ae=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,N=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(at){for(at=Dj(at,","),k["@"]&&(ao=k["@"].attributes,aa=k["@"].attributesOrder),ac=0,ai=at.length;ac<ai;ac++){if(an=ae.exec(at[ac])){if(ap=an[1],av=an[2],ag=an[3],ad=an[5],ax={attributes:au={},attributesOrder:al=[]},"#"===ap&&(ax.paddEmpty=!0),"-"===ap&&(ax.removeEmpty=!0),"!"===an[4]&&(ax.removeEmptyAttrs=!0),ao){for(aw in ao){au[aw]=ao[aw]}al.push.apply(al,aa)}if(ad){for(af=0,ah=(ad=Dj(ad,"|")).length;af<ah;af++){if(an=N.exec(ad[af])){if(ab={},ar=an[1],am=an[2].replace(/[\\:]:/g,":"),ap=an[3],E=an[4],"!"===ar&&(ax.attributesRequired=ax.attributesRequired||[],ax.attributesRequired.push(am),ab.required=!0),"-"===ar){delete au[am],al.splice(a2(al,am),1);continue}ap&&("="===ap&&(ax.attributesDefault=ax.attributesDefault||[],ax.attributesDefault.push({name:am,value:E}),ab.defaultValue=E),":"===ap&&(ax.attributesForced=ax.attributesForced||[],ax.attributesForced.push({name:am,value:E}),ab.forcedValue=E),"<"===ap&&(ab.validValues=bK(E,"?"))),S.test(am)?(ax.attributePatterns=ax.attributePatterns||[],ab.pattern=j(am),ax.attributePatterns.push(ab)):(au[am]||al.push(am),au[am]=ab)}}}ao||"@"!==av||(ao=au,aa=al),ag&&(ax.outputName=av,k[ag]=ax),S.test(av)?(ax.pattern=j(av),F.push(ax)):k[av]=ax}}}},q=function(a){k={},F=[],Y(a),l4(M,function(c,b){T[b]=c.children})},I=function(c){var b=/^(~)?(.+)$/;c&&(jS.text_block_elements=jS.block_elements=null,l4(Dj(c,","),function(g){var d=b.exec(g),l="~"===d[1],f=l?"span":"div",h=d[2];if(T[h]=T[f],K[h]=f,l||(X[h.toUpperCase()]={},X[h]={}),!k[h]){var a=k[f];delete (a=kA({},a)).removeEmptyAttrs,delete a.removeEmpty,k[h]=a}l4(T,function(m,i){m[f]&&(T[i]=m=kA({},T[i]),m[h]=m[f])})}))},z=function(a){var b=/^([+\-]?)(\w+)\[([^\]]+)\]$/;jS[Q.schema]=null,a&&l4(Dj(a,","),function(f){var c,g,d=b.exec(f);d&&(g=d[1],c=g?T[d[2]]:T[d[2]]={"#comment":{}},c=T[d[2]],l4(Dj(d[3],"|"),function(h){"-"===g?delete c[h]:c[h]={}}))})},A=function(b){var a,c=k[b];if(c){return c}for(a=F.length;a--;){if((c=F[a]).pattern.test(b)){return c}}};return Q.valid_elements?q(Q.valid_elements):(l4(M,function(b,a){k[a]={attributes:b.attributes,attributesOrder:b.attributesOrder},T[a]=b.children}),"html5"!==Q.schema&&l4(Dj("strong/b em/i"),function(a){a=Dj(a,"/"),k[a[1]].outputName=a[0]}),l4(Dj("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(a){k[a]&&(k[a].removeEmpty=!0)}),l4(Dj("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(a){k[a].paddEmpty=!0}),l4(Dj("span"),function(a){k[a].removeEmptyAttrs=!0})),I(Q.custom_elements),z(Q.valid_children),Y(Q.extended_valid_elements),z("+ol[ul|ol],+ul[ul|ol]"),l4({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(b,a){k[a]&&(k[a].parentsRequired=Dj(b))}),Q.invalid_elements&&l4(gj(Q.invalid_elements),function(a){k[a]&&delete k[a]}),A("span")||Y("span[!data-mce-type|*]"),{children:T,elements:k,getValidStyles:function(){return V},getValidClasses:function(){return H},getBlockElements:function(){return X},getInvalidStyles:function(){return G},getShortEndedElements:function(){return Z},getTextBlockElements:function(){return W},getTextInlineElements:function(){return O},getBoolAttrs:function(){return D},getElementRule:A,getSelfClosingElements:function(){return L},getNonEmptyElements:function(){return P},getMoveCaretBeforeOnEnterElements:function(){return U},getWhiteSpaceElements:function(){return J},getSpecialElements:function(){return R},isValidChild:function(b,a){var c=T[b.toLowerCase()];return !(!c||!c[a.toLowerCase()])},isValid:function(c,a){var f,b,d=A(c);if(d){if(!a){return !0}if(d.attributes[a]){return !0}if(f=d.attributePatterns){for(b=f.length;b--;){if(f[b].pattern.test(c)){return !0}}}}return !1},getCustomElements:function(){return K},addValidElements:Y,setValidElements:q,addCustomElements:I,addValidChildren:z}}var xD=function(c,a,f,b){var d=function(g){return 1<(g=parseInt(g,10).toString(16)).length?g:"0"+g};return"#"+d(a)+d(f)+d(b)};function AX(j,h){var a,n,i,b,k=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,m=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,g=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,f={},d="\ufeff";for(j=j||{},h&&(i=h.getValidStyles(),b=h.getInvalidStyles()),n=("\\\" \\' \\; \\: ; : "+d).split(" "),a=0;a<n.length;a++){f[n[a]]=d+a,f[d+a]=n[a]}return{toHex:function(c){return c.replace(k,xD)},parse:function(J){var x,C,z,B,F,N,w,y,L={},E=j.url_converter,I=j.url_converter_scope||this,K=function(O,s,Q){var v,P,p,c;if((v=L[O+"-top"+s])&&(P=L[O+"-right"+s])&&(p=L[O+"-bottom"+s])&&(c=L[O+"-left"+s])){var l=[v,P,p,c];for(a=l.length-1;a--&&l[a]===l[a+1];){}-1<a&&Q||(L[O+s]=-1===a?l[0]:l.join(" "),delete L[O+"-top"+s],delete L[O+"-right"+s],delete L[O+"-bottom"+s],delete L[O+"-left"+s])}},D=function(l){var c,p=L[l];if(p){for(c=(p=p.split(" ")).length;c--;){if(p[c]!==p[0]){return !1}}return L[l]=p[0],!0}},H=function(c){return B=!0,f[c]},A=function(l,c){return B&&(l=l.replace(/\uFEFF[0-9]/g,function(p){return f[p]})),c||(l=l.replace(/\\([\'\";:])/g,"$1")),l},G=function(c){return String.fromCharCode(parseInt(c.slice(1),16))},q=function(c){return c.replace(/\\[0-9a-f]+/gi,G)},M=function(u,p,O,s,v,l){if(v=v||l){return"'"+(v=A(v)).replace(/\'/g,"\\'")+"'"}if(p=A(p||O||s),!j.allow_script_urls){var c=p.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(c)){return""}if(!j.allow_svg_data_urls&&/^data:image\/svg/i.test(c)){return""}}return E&&(p=E.call(I,p,"style")),"url('"+p.replace(/\'/g,"\\'")+"')"};if(J){for(J=(J=J.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,H).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(c){return c.replace(/[;:]/g,H)});x=g.exec(J);){if(g.lastIndex=x.index+x[0].length,C=x[1].replace(o,"").toLowerCase(),z=x[2].replace(o,""),C&&z){if(C=q(C),z=q(z),-1!==C.indexOf(d)||-1!==C.indexOf('"')){continue}if(!j.allow_script_urls&&("behavior"===C||/expression\s*\(|\/\*|\*\//.test(z))){continue}"font-weight"===C&&"700"===z?z="bold":"color"!==C&&"background-color"!==C||(z=z.toLowerCase()),z=(z=z.replace(k,xD)).replace(m,M),L[C]=B?A(z,!0):z}}K("border","",!0),K("border","-width"),K("border","-color"),K("border","-style"),K("padding",""),K("margin",""),F="border",w="border-style",y="border-color",D(N="border-width")&&D(w)&&D(y)&&(L[F]=L[N]+" "+L[w]+" "+L[y],delete L[N],delete L[w],delete L[y]),"medium none"===L.border&&delete L.border,"none"===L["border-image"]&&delete L["border-image"]}return L},serialize:function(q,v){var y,p,c,l,w,x="",z=function(A){var s,C,u,B;if(s=i[A]){for(C=0,u=s.length;C<u;C++){A=s[C],(B=q[A])&&(x+=(0<x.length?" ":"")+A+": "+B+";")}}};if(v&&i){z("*"),z(v)}else{for(y in q){!(p=q[y])||b&&(c=y,l=v,w=void 0,(w=b["*"])&&w[c]||(w=b[l])&&w[c])||(x+=(0<x.length?" ":"")+y+": "+p+";")}}return x}}}var GX,tV=bG.each,u2=bG.grep,EX=fW.ie,y7=/^([a-z0-9],?)+$/i,CN=/^[ \t\r\n]*$/,DT=function(g,c,f){var d={},b=c.keep_values,a={set:function(i,h,j){c.url_converter&&(h=c.url_converter.call(c.url_converter_scope||f(),h,j,i[0])),i.attr("data-mce-"+j,h).attr(j,h)},get:function(i,h){return i.attr("data-mce-"+h)||i.attr(h)}};return d={style:{set:function(i,h){null===h||"object"!=typeof h?(b&&i.attr("data-mce-style",h),i.attr("style",h)):i.css(h)},get:function(i){var h=i.attr("data-mce-style")||i.attr("style");return h=g.serialize(g.parse(h),i[0].nodeName)}}},b&&(d.href=d.src=a),d},yK=function(c,a){var d=a.attr("style"),b=c.serialize(c.parse(d),a[0].nodeName);b||(b=null),a.attr("data-mce-style",b)},B3=function(c,a){var f,b,d=0;if(c){for(f=c.nodeType,c=c.previousSibling;c;c=c.previousSibling){b=c.nodeType,(!a||3!==b||b!==f&&c.nodeValue.length)&&(d++,f=b)}}return d};function wT(bh,an){var ap,bf=this;void 0===an&&(an={});var ar={},aC=window,au={},ao=0,bd=function(d,k){var i,a=0,f={};i=(k=k||{}).maxLoadTime||5000;var l=function(g){d.getElementsByTagName("head")[0].appendChild(g)},c=function(x,C,m){var h,g,v,A,B=function(){for(var o=A.passed,n=o.length;n--;){o[n]()}A.status=2,A.passed=[],A.failed=[]},D=function(){for(var o=A.failed,n=o.length;n--;){o[n]()}A.status=3,A.passed=[],A.failed=[]},z=function(o,n){o()||((new Date).getTime()-v<i?jD.setTimeout(n):D())},p=function(){z(function(){for(var u,o,E=d.styleSheets,s=E.length;s--;){if((o=(u=E[s]).ownerNode?u.ownerNode:u.owningElement)&&o.id===h.id){return B(),!0}}},p)},w=function(){z(function(){try{var o=g.sheet.cssRules;return B(),!!o}catch(n){}},w)};if(x=bG._addCacheSuffix(x),f[x]?A=f[x]:(A={passed:[],failed:[]},f[x]=A),C&&A.passed.push(C),m&&A.failed.push(m),1!==A.status){if(2!==A.status){if(3!==A.status){if(A.status=1,(h=d.createElement("link")).rel="stylesheet",h.type="text/css",h.id="u"+a++,h.async=!1,h.defer=!1,v=(new Date).getTime(),"onload" in h&&!((y=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(y[1],10)<536)){h.onload=p,h.onerror=D}else{if(0<navigator.userAgent.indexOf("Firefox")){return(g=d.createElement("style")).textContent='@import "'+x+'"',w(),void l(g)}p()}var y;l(h),h.href=x}else{D()}}else{B()}}},r=function(e){return a0.nu(function(g){c(e,EF(g,F6(xq.value(e))),EF(g,F6(xq.error(e))))})},b=function(g){return g.fold(ES,ES)};return{load:c,loadAll:function(h,m,g){uA(G2(h,r)).get(function(o){var n=FG(o,function(p){return p.isValue()});0<n.fail.length?g(n.fail.map(b)):m(n.pass.map(b))})}}}(bh),ax=[],bc=an.schema?an.schema:vM({}),be=AX({url_converter:an.url_converter,url_converter_scope:an.url_converter_scope},an.schema),aw=an.ownEvents?new AF(an.proxy):AF.Event,av=bc.getBlockElements(),bb=wQ.overrideDefaults(function(){return{context:bh,element:j.getRoot()}}),at=function(b){if(b&&bh&&"string"==typeof b){var a=bh.getElementById(b);return a&&a.id!==b?bh.getElementsByName(b)[1]:a}return b},ba=function(a){return"string"==typeof a&&(a=at(a)),bb(a)},am=function(d,b,g){var c,f,a=ba(d);return a.length&&(f=(c=ap[b])&&c.get?c.get(a,b):a.attr(b)),void 0===f&&(f=g||""),f},bg=function(b){var a=at(b);return a?a.attributes:[]},ah=function(d,b,g){var c,f;""===g&&(g=null);var a=ba(d);c=a.attr(b),a.length&&((f=ap[b])&&f.set?f.set(a,g,b):a.attr(b,g),c!==g&&an.onSetAttrib&&an.onSetAttrib({attrElm:a,attrName:b,attrValue:g}))},ad=function(){return an.root_element||bh.body},ai=function(b,a){return bI.getPos(bh.body,at(b),a)},al=function(c,a,d){var b=ba(c);return d?b.css(a):("float"===(a=a.replace(/-(\D)/g,function(g,f){return f.toUpperCase()}))&&(a=fW.ie&&fW.ie<12?"styleFloat":"cssFloat"),b[0]&&b[0].style?b[0].style[a]:undefined)},W=function(b){var a,c;return b=at(b),a=al(b,"width"),c=al(b,"height"),-1===a.indexOf("px")&&(a=0),-1===c.indexOf("px")&&(c=0),{w:parseInt(a,10)||b.offsetWidth||b.clientWidth,h:parseInt(c,10)||b.offsetHeight||b.clientHeight}},ab=function(d,b){var g;if(!d){return !1}if(!Array.isArray(d)){if("*"===b){return 1===d.nodeType}if(y7.test(b)){var c=b.toLowerCase().split(/,/),f=d.nodeName.toLowerCase();for(g=c.length-1;0<=g;g--){if(c[g]===f){return !0}}return !1}if(d.nodeType&&1!==d.nodeType){return !1}}var a=Array.isArray(d)?d:[d];return 0<eD(b,a[0].ownerDocument||a[0],null,a).length},H=function(g,d,k,f){var h,c=[],b=at(g);for(f=f===undefined,k=k||("BODY"!==ad().nodeName?ad().parentNode:null),bG.is(d,"string")&&(d="*"===(h=d)?function(a){return 1===a.nodeType}:function(a){return ab(a,h)});b&&b!==k&&b.nodeType&&9!==b.nodeType;){if(!d||"function"==typeof d&&d(b)){if(!f){return[b]}c.push(b)}b=b.parentNode}return f?c:null},G=function(c,a,d){var b=a;if(c){for("string"==typeof a&&(b=function(f){return ab(f,a)}),c=c[d];c;c=c[d]){if("function"==typeof b&&b(c)){return c}}}return null},ay=function(d,g,c){var f,b="string"==typeof d?at(d):d;if(!b){return !1}if(bG.isArray(b)&&(b.length||0===b.length)){return f=[],tV(b,function(i,h){i&&("string"==typeof i&&(i=at(i)),f.push(g.call(c,i,h)))}),f}var a=c||bf;return g.call(a,b)},af=function(b,a){ba(b).each(function(c,d){tV(a,function(g,f){ah(d,f,g)})})},bi=function(c,b){var a=ba(c);EX?a.each(function(f,d){if(!1!==d.canHaveHTML){for(;d.firstChild;){d.removeChild(d.firstChild)}try{d.innerHTML="<br>"+b,d.removeChild(d.firstChild)}catch(g){wQ("<div></div>").html("<br>"+b).contents().slice(1).appendTo(d)}return b}}):a.html(b)},J=function(c,f,b,d,a){return ay(c,function(h){var g="string"==typeof f?bh.createElement(f):f;return af(g,b),d&&("string"!=typeof d&&d.nodeType?g.appendChild(d):"string"==typeof d&&bi(g,d)),a?g:h.appendChild(g)})},ac=function(b,a,c){return J(bh.createElement(b),b,a,c,!0)},ae=cQ.decode,Q=cQ.encodeAllRaw,K=function(b,a){var c=ba(b);return a?c.each(function(){for(var d;d=this.firstChild;){3===d.nodeType&&0===d.data.length?this.removeChild(d):this.parentNode.insertBefore(d,this)}}).remove():c.remove(),1<c.length?c.toArray():c[0]},Y=function(b,a,c){ba(b).toggleClass(a,c).each(function(){""===this.className&&wQ(this).attr("class",null)})},Z=function(a,b,c){return ay(b,function(d){return bG.is(d,"array")&&(a=a.cloneNode(!0)),c&&tV(u2(d.childNodes),function(f){a.appendChild(f)}),d.parentNode.replaceChild(a,d)})},X=function(){return bh.createRange()},aa=function(c,a,f,b){if(bG.isArray(c)){for(var d=c.length;d--;){c[d]=aa(c[d],a,f,b)}return c}return !an.collect||c!==bh&&c!==aC||ax.push([c,a,f,b]),aw.bind(c,a,f,b||j)},q=function(c,a,f){var b;if(bG.isArray(c)){for(b=c.length;b--;){c[b]=q(c[b],a,f)}return c}if(ax&&(c===bh||c===aC)){for(b=ax.length;b--;){var d=ax[b];c!==d[0]||a&&a!==d[1]||f&&f!==d[2]||aw.unbind(d[0],d[1],d[2])}}return aw.unbind(c,a,f)},ag=function(b){if(b&&o2.isElement(b)){var a=b.getAttribute("data-mce-contenteditable");return a&&"inherit"!==a?a:"inherit"!==b.contentEditable?b.contentEditable:null}return null},j={doc:bh,settings:an,win:aC,files:au,stdMode:!0,boxModel:!0,styleSheetLoader:bd,boundEvents:ax,styles:be,schema:bc,events:aw,isBlock:function(b){if("string"==typeof b){return !!av[b]}if(b){var a=b.nodeType;if(a){return !(1!==a||!av[b.nodeName])}}return !1},$:bb,$$:ba,root:null,clone:function(a,b){if(!EX||1!==a.nodeType||b){return a.cloneNode(b)}if(!b){var c=bh.createElement(a.nodeName);return tV(bg(a),function(d){ah(c,d.nodeName,am(a,d.nodeName))}),c}return null},getRoot:ad,getViewPort:function(c){var a=c||aC,d=a.document,b=d.documentElement;return{x:a.pageXOffset||b.scrollLeft,y:a.pageYOffset||b.scrollTop,w:a.innerWidth||b.clientWidth,h:a.innerHeight||b.clientHeight}},getRect:function(b){var a,c;return b=at(b),a=ai(b),c=W(b),{x:a.x,y:a.y,w:c.w,h:c.h}},getSize:W,getParent:function(c,a,d){var b=H(c,a,d,!1);return b&&0<b.length?b[0]:null},getParents:H,get:at,getNext:function(b,a){return G(b,a,"nextSibling")},getPrev:function(b,a){return G(b,a,"previousSibling")},select:function(b,a){return eD(b,at(a)||an.root_element||bh,[])},is:ab,add:J,create:ac,createHTML:function(c,a,f){var b,d="";for(b in d+="<"+c,a){a.hasOwnProperty(b)&&null!==a[b]&&"undefined"!=typeof a[b]&&(d+=" "+b+'="'+Q(a[b])+'"')}return void 0!==f?d+">"+f+"</"+c+">":d+" />"},createFragment:function(c){var a,d=bh.createElement("div"),b=bh.createDocumentFragment();for(c&&(d.innerHTML=c);a=d.firstChild;){b.appendChild(a)}return b},remove:K,setStyle:function(c,a,d){var b=ba(c).css(a,d);an.update_styles&&yK(be,b)},getStyle:al,setStyles:function(b,a){var c=ba(b).css(a);an.update_styles&&yK(be,c)},removeAllAttribs:function(a){return ay(a,function(c){var b,d=c.attributes;for(b=d.length-1;0<=b;b--){c.removeAttributeNode(d.item(b))}})},setAttrib:ah,setAttribs:af,getAttrib:am,getPos:ai,parseStyle:function(a){return be.parse(a)},serializeStyle:function(b,a){return be.serialize(b,a)},addStyle:function(b){var a,c;if(j!==wT.DOM&&bh===document){if(ar[b]){return}ar[b]=!0}(c=bh.getElementById("mceDefaultStyles"))||((c=bh.createElement("style")).id="mceDefaultStyles",c.type="text/css",(a=bh.getElementsByTagName("head")[0]).firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)),c.styleSheet?c.styleSheet.cssText+=b:c.appendChild(bh.createTextNode(b))},loadCSS:function(a){var b;j===wT.DOM||bh!==document?(a||(a=""),b=bh.getElementsByTagName("head")[0],tV(a.split(","),function(d){var c;d=bG._addCacheSuffix(d),au[d]||(au[d]=!0,c=ac("link",{rel:"stylesheet",href:d}),b.appendChild(c))})):wT.DOM.loadCSS(a)},addClass:function(b,a){ba(b).addClass(a)},removeClass:function(b,a){Y(b,a,!1)},hasClass:function(b,a){return ba(b).hasClass(a)},toggleClass:Y,show:function(a){ba(a).show()},hide:function(a){ba(a).hide()},isHidden:function(a){return"none"===ba(a).css("display")},uniqueId:function(a){return(a||"mce_")+ao++},setHTML:bi,getOuterHTML:function(b){var a="string"==typeof b?at(b):b;return o2.isElement(a)?a.outerHTML:wQ("<div></div>").append(wQ(a).clone()).html()},setOuterHTML:function(b,a){ba(b).each(function(){try{if("outerHTML" in this){return void (this.outerHTML=a)}}catch(c){}K(wQ(this).html(a),!0)})},decode:ae,encode:Q,insertAfter:function(c,a){var b=at(a);return ay(c,function(f){var d,g;return d=b.parentNode,(g=b.nextSibling)?d.insertBefore(f,g):d.appendChild(f),f})},replace:Z,rename:function(a,b){var c;return a.nodeName!==b.toUpperCase()&&(c=ac(b),tV(bg(a),function(d){ah(c,d.nodeName,am(a,d.nodeName))}),Z(c,a,!0)),c||a},findCommonAncestor:function(c,a){for(var d,b=c;b;){for(d=a;d&&b!==d;){d=d.parentNode}if(b===d){break}b=b.parentNode}return !b&&c.ownerDocument?c.ownerDocument.documentElement:b},toHex:function(a){return be.toHex(bG.trim(a))},run:ay,getAttribs:bg,isEmpty:function(h,p){var f,b,d,g,l,m,v=0;if(h=h.firstChild){l=new AU(h,h.parentNode),p=p||(bc?bc.getNonEmptyElements():null),g=bc?bc.getWhiteSpaceElements():{};do{if(d=h.nodeType,o2.isElement(h)){var k=h.getAttribute("data-mce-bogus");if(k){h=l.next("all"===k);continue}if(m=h.nodeName.toLowerCase(),p&&p[m]){if("br"===m){v++,h=l.next();continue}return !1}for(f=(b=bg(h)).length;f--;){if("name"===(m=b[f].nodeName)||"data-mce-bookmark"===m){return !1}}}if(8===d){return !1}if(3===d&&!CN.test(h.nodeValue)){return !1}if(3===d&&h.parentNode&&g[h.parentNode.nodeName]&&CN.test(h.nodeValue)){return !1}h=l.next()}while(h)}return v<=1},createRng:X,nodeIndex:B3,split:function(g,d,k){var f,h,c,b=X();if(g&&d){return b.setStart(g.parentNode,B3(g)),b.setEnd(d.parentNode,B3(d)),f=b.extractContents(),(b=X()).setStart(d.parentNode,B3(d)+1),b.setEnd(g.parentNode,B3(g)+1),h=b.extractContents(),(c=g.parentNode).insertBefore(i8.trimNode(j,f),g),k?c.insertBefore(k,g):c.insertBefore(d,g),c.insertBefore(i8.trimNode(j,h),g),K(g),k||d}},bind:aa,unbind:q,fire:function(b,a,c){return aw.fire(b,a,c)},getContentEditable:ag,getContentEditableParent:function(b){for(var a=ad(),c=null;b&&b!==a&&null===(c=ag(b));b=b.parentNode){}return c},destroy:function(){if(ax){for(var b=ax.length;b--;){var a=ax[b];aw.unbind(a[0],a[1],a[2])}}eD.setDocument&&eD.setDocument()},isChildOf:function(b,a){for(;b;){if(a===b){return !0}b=b.parentNode}return !1},dumpRng:function(a){return"startContainer: "+a.startContainer.nodeName+", startOffset: "+a.startOffset+", endContainer: "+a.endContainer.nodeName+", endOffset: "+a.endOffset}};return ap=DT(be,an,function(){return j}),j}(GX=wT||(wT={})).DOM=GX(document),GX.nodeIndex=B3;var BG=wT,tk=BG.DOM,F7=bG.each,rH=bG.grep,oJ=function(a){return"function"==typeof a},r4=function(){var e={},h=[],c={},b=[],g=0;this.isDone=function(a){return 2===e[a]},this.markDone=function(a){e[a]=2},this.add=this.load=function(f,a,i,d){e[f]===undefined&&(h.push(f),e[f]=0),a&&(c[f]||(c[f]=[]),c[f].push({success:a,failure:d,scope:i||this}))},this.remove=function(a){delete e[a],delete c[a]},this.loadQueue=function(d,a,f){this.loadScripts(h,d,a,f)},this.loadScripts=function(m,j,d,i){var f,k=[],a=function(l,n){F7(c[n],function(o){oJ(o[l])&&o[l].call(o.scope)}),c[n]=undefined};b.push({success:j,failure:i,scope:d||this}),(f=function(){var n=rH(m);if(m.length=0,F7(n,function(x){var v,z,w,y,s,p,q;2!==e[x]?3!==e[x]?1!==e[x]&&(e[x]=1,g++,v=x,z=function(){e[x]=2,g--,a("success",x),f()},w=function(){e[x]=3,g--,k.push(x),a("failure",x),f()},q=function(){p.remove(s),y&&(y.onreadystatechange=y.onload=y=null),z()},s=(p=tk).uniqueId(),(y=document.createElement("script")).id=s,y.type="text/javascript",y.src=bG._addCacheSuffix(v),"onreadystatechange" in y?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&q()}:y.onload=q,y.onerror=function(){oJ(w)?w():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+v)},(document.getElementsByTagName("head")[0]||document.body).appendChild(y)):a("failure",x):a("success",x)}),!g){var l=b.slice(0);b.length=0,F7(l,function(o){0===k.length?oJ(o.success)&&o.success.call(o.scope):oJ(o.failure)&&o.failure.call(o.scope,k)})}})()}};r4.ScriptLoader=new r4;var sO,h5=bG.each;function nB(){var b=this,d=[],k={},m={},g=[],n=function(c){var a;return m[c]&&(a=m[c].dependencies),a||[]},j=function(c,a){return"object"==typeof a?a:"string"==typeof c?{prefix:"",resource:a,suffix:""}:{prefix:c.prefix,resource:a,suffix:c.suffix}},e=function(f,l,a,c){var i=n(f);h5(i,function(p){var o=j(l,p);h(o.resource,o,undefined,undefined)}),a&&(c?a.call(c):a.call(r4))},h=function(l,c,q,f,p){if(!k[l]){var a="string"==typeof c?c:c.prefix+c.resource+c.suffix;0!==a.indexOf("/")&&-1===a.indexOf("://")&&(a=nB.baseURL+"/"+a),k[l]=a.substring(0,a.lastIndexOf("/")),m[l]?e(l,c,q,f):r4.ScriptLoader.add(a,function(){return e(l,c,q,f)},f,p)}};return{items:d,urls:k,lookup:m,_listeners:g,get:function(a){return m[a]?m[a].instance:undefined},dependencies:n,requireLangPack:function(c,a){var f=nB.language;if(f&&!1!==nB.languageLoad){if(a){if(-1!==(a=","+a+",").indexOf(","+f.substr(0,2)+",")){f=f.substr(0,2)}else{if(-1===a.indexOf(","+f+",")){return}}}r4.ScriptLoader.add(k[c]+"/langs/"+f+".js")}},add:function(a,f,i){d.push(f),m[a]={instance:f,dependencies:i};var c=FG(g,function(l){return l.name===a});return g=c.fail,h5(c.pass,function(l){l.callback()}),f},remove:function(a){delete k[a],delete m[a]},createUrl:j,addComponents:function(c,a){var f=b.urls[c];h5(a,function(i){r4.ScriptLoader.add(f+"/"+i)})},load:h,waitFor:function(c,a){m.hasOwnProperty(c)?a():g.push({name:c,callback:a})}}}(sO=nB||(nB={})).PluginManager=sO(),sO.ThemeManager=sO();var e8=function(a,b){cO.parent(a).each(function(c){c.dom().insertBefore(b.dom(),a.dom())})},eL=function(b,a){b.dom().appendChild(a.dom())},zR={before:e8,after:function(b,a){cO.nextSibling(b).fold(function(){cO.parent(b).each(function(c){eL(c,a)})},function(c){e8(c,a)})},prepend:function(a,b){cO.firstChild(a).fold(function(){eL(a,b)},function(c){a.dom().insertBefore(b.dom(),c.dom())})},append:eL,appendAt:function(b,a,c){cO.child(b,c).fold(function(){eL(b,a)},function(d){e8(d,a)})},wrap:function(b,a){e8(b,a),eL(a,b)}},pQ=function(a,b){Gj(b,function(c){zR.before(a,c)})},aK=function(a,b){Gj(b,function(c){zR.append(a,c)})},fS=function(b){var a=b.dom();null!==a.parentNode&&a.parentNode.removeChild(a)},nZ={empty:function(a){a.dom().textContent="",Gj(cO.children(a),function(b){fS(b)})},remove:fS,unwrap:function(b){var a=cO.children(b);0<a.length&&pQ(b,a),fS(b)}},o6=function(c,a){var b=null;return{cancel:function(){null!==b&&(clearTimeout(b),b=null)},throttle:function(){for(var f=[],d=0;d<arguments.length;d++){f[d]=arguments[d]}null===b&&(b=setTimeout(function(){c.apply(null,f),b=null},a))}}},hI=function(b){var a=b,c=function(){return a};return{get:c,set:function(d){a=d},clone:function(){return hI(c())}}},gY=function(b,a){var c=s5.get(b,a);return c===undefined||""===c?[]:c.split(" ")},jq=gY,k2=function(c,a,d){var b=gY(c,a).concat([d]);return s5.set(c,a,b.join(" ")),!0},iP=function(c,a,d){var b=FJ(gY(c,a),function(f){return f!==d});return 0<b.length?s5.set(c,a,b.join(" ")):s5.remove(c,a),!1},mS=function(a){return jq(a,"class")},d1=function(b,a){return k2(b,"class",a)},qY=function(b,a){return iP(b,"class",a)},dE=mS,v9=d1,lM=qY,AA=function(b,a){return F5(mS(b),a)?qY(b,a):d1(b,a)},qA=function(a){return a.dom().classList!==undefined},cU=function(b,a){return qA(b)&&b.dom().classList.contains(a)},jW={add:function(b,a){qA(b)?b.dom().classList.add(a):v9(b,a)},remove:function(b,a){var c;qA(b)?b.dom().classList.remove(a):lM(b,a),0===(qA(c=b)?c.dom().classList:dE(c)).length&&s5.remove(c,"class")},toggle:function(b,a){return qA(b)?b.dom().classList.toggle(a):AA(b,a)},toggler:function(h,m){var f,b,d,g,k,l,p=qA(h),j=h.dom().classList;return f=function(){p?j.remove(m):lM(h,m)},b=function(){p?j.add(m):v9(h,m)},d=cU(h,m),g=d||!1,{on:k=function(){b(),g=!0},off:l=function(){f(),g=!1},toggle:function(){(g?l:k)()},isOn:function(){return g}}},has:cU},cj=function(b,a){return kW.all(a,b)};function bO(c,a,f,b,d){return c(f,b)?GG.some(f):FU(d)&&d(f)?GG.none():a(f,b,d)}var l8,kF=function(d,b,g){for(var c=d.dom(),f=FU(g)?g:F6(!1);c.parentNode;){c=c.parentNode;var a=C4.fromDom(c);if(b(a)){return GG.some(a)}if(f(a)){break}}return GG.none()},gA=function(b,a){return FI(b.dom().childNodes,EF(a,C4.fromDom)).map(C4.fromDom)},a6=function(b,a){var c=function(f){for(var d=0;d<f.childNodes.length;d++){if(a(C4.fromDom(f.childNodes[d]))){return GG.some(C4.fromDom(f.childNodes[d]))}var g=c(f.childNodes[d]);if(g.isSome()){return g}}return GG.none()};return c(b.dom())},DG={first:function(a){return a6(oD.body(),a)},ancestor:kF,closest:function(b,a,c){return bO(function(d){return a(d)},kF,b,a,c)},sibling:function(a,c){var b=a.dom();return b.parentNode?gA(C4.fromDom(b.parentNode),function(d){return !dV.eq(a,d)&&c(d)}):GG.none()},child:gA,descendant:a6},uO=function(b,a,c){return DG.ancestor(b,function(d){return kW.is(d,a)},c)},x9=uO,vV=function(b,a){return kW.one(a,b)},xM=function(b,a,c){return bO(kW.is,uO,b,a,c)},A5=F6("mce-annotation"),G7=F6("data-mce-annotation"),t4=F6("data-mce-annotation-uid"),vk=function(b,g){var k=b.selection.getRng(),d=C4.fromDom(k.startContainer),c=C4.fromDom(b.getBody()),f=g.fold(function(){return"."+A5()},function(a){return"["+G7()+'="'+a+'"]'}),h=cO.child(d,k.startOffset).getOr(d),j=xM(h,f,function(a){return dV.eq(a,c)}),l=function(i,a){return s5.has(i,a)?GG.some(s5.get(i,a)):GG.none()};return j.bind(function(a){return l(a,""+t4()).bind(function(e){return l(a,""+G7()).map(function(m){var i=Fz(b,e);return{uid:e,name:m,elements:i}})})})},Fz=function(b,a){var c=C4.fromDom(b.getBody());return cj(c,"["+t4()+'="'+a+'"]')},zD=function(c,a){var f=C4.fromDom(c.getBody()),b=cj(f,"["+G7()+'="'+a+'"]'),d={};return Gj(b,function(h){var g=s5.get(h,t4()),i=d.hasOwnProperty(g)?d[g]:[];d[g]=i.concat([h])}),d},CW=function(g,h){var f,b,d,k=hI({}),j=function(c,a){l(c,function(i){return a(i),i})},l=function(i,a){var o=k.get(),c=a(o.hasOwnProperty(i)?o[i]:{listeners:[],previous:hI(GG.none())});o[i]=c,k.set(o)},m=(f=function(){var i,a,q,c=k.get(),p=(i=EI(c),(q=FR.call(i,0)).sort(a),q);Gj(p,function(n){l(n,function(e){var o=e.previous.get();return vk(g,GG.some(n)).fold(function(){var r;o.isSome()&&(j(r=n,function(s){Gj(s.listeners,function(t){return t(!1,r)})}),e.previous.set(GG.none()))},function(x){var v,z,w,y=x.uid,u=x.name,s=x.elements;o.is(y)||(z=y,w=s,j(v=u,function(r){Gj(r.listeners,function(t){return t(!0,v,{uid:z,nodes:G2(w,function(A){return A.dom()})})})}),e.previous.set(GG.some(y)))}),{previous:e.previous,listeners:e.listeners}})})},b=30,d=null,{cancel:function(){null!==d&&(clearTimeout(d),d=null)},throttle:function(){for(var c=[],a=0;a<arguments.length;a++){c[a]=arguments[a]}null!==d&&clearTimeout(d),d=setTimeout(function(){f.apply(null,c),d=null},b)}});return g.on("remove",function(){m.cancel()}),g.on("nodeChange",function(){m.throttle()}),{addListener:function(c,a){l(c,function(i){return{previous:i.previous,listeners:i.listeners.concat([a])}})}}},D2=function(a,b){a.on("init",function(){a.serializer.addNodeFilter("span",function(c){Gj(c,function(d){var f;(f=d,GG.from(f.attributes.map[G7()]).bind(b.lookup)).each(function(g){!1===g.persistent&&d.unwrap()})})})})},yT=function(){var a={};return{register:function(c,b){a[c]={name:c,settings:b}},lookup:function(b){return a.hasOwnProperty(b)?GG.from(a[b]).map(function(c){return c.settings}):GG.none()}}},Cq=0,w2=function(a,b){Gj(b,function(c){jW.add(a,c)})},BP=function(b,a){return C4.fromDom(b.dom().cloneNode(a))},tH=function(a){return BP(a,!0)},GJ=function(a){return BP(a,!1)},rQ=tH,oS=[].slice,sz=function(c){for(var a=[],d=1;d<arguments.length;d++){a[d-1]=arguments[d]}var b=oS.call(arguments);return b.length-1>=c.length?c.apply(this,b.slice(1)):function(){var f=b.concat([].slice.call(arguments));return sz.apply(this,f)}},sX={constant:function(a){return function(){return a}},negate:function(a){return function(b){return !a(b)}},and:function(){for(var b=[],a=0;a<arguments.length;a++){b[a]=arguments[a]}var c=oS.call(arguments);return function(f){for(var d=0;d<c.length;d++){if(!c[d](f)){return !1}}return !0}},or:function(){for(var b=[],a=0;a<arguments.length;a++){b[a]=arguments[a]}var c=oS.call(arguments);return function(f){for(var d=0;d<c.length;d++){if(c[d](f)){return !0}}return !1}},curry:sz,compose:function(a,b){return function(c){return a(b(c))}},noop:function(){}},iA="\ufeff",nL=function(a){return a===iA},fE=iA,eU=function(a){return a.replace(new RegExp(iA,"g"),"")},z0=o2.isElement,pZ=o2.isText,aS=function(a){return pZ(a)&&(a=a.parentNode),z0(a)&&a.hasAttribute("data-mce-caret")},f1=function(a){return pZ(a)&&nL(a.data)},n8=function(a){return aS(a)||f1(a)},pB=function(a){return a.firstChild!==a.lastChild||!o2.isBr(a.firstChild)},hR=function(b){var a=b.container();return b&&o2.isText(a)&&a.data.charAt(b.offset())===fE},g7=function(b){var a=b.container();return b&&o2.isText(a)&&a.data.charAt(b.offset()-1)===fE},jI=function(d,b,g){var c,f,a;return(c=b.ownerDocument.createElement(d)).setAttribute("data-mce-caret",g?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(((a=document.createElement("br")).setAttribute("data-mce-bogus","1"),a)),f=b.parentNode,g?f.insertBefore(c,b):b.nextSibling?f.insertBefore(c,b.nextSibling):f.appendChild(c),c},lk=function(a){return pZ(a)&&a.data[0]===fE},iY=function(a){return pZ(a)&&a.data[a.data.length-1]===fE},m1=function(b){return b&&b.hasAttribute("data-mce-caret")?(a=b.getElementsByTagName("br"),c=a[a.length-1],o2.isBogus(c)&&c.parentNode.removeChild(c),b.removeAttribute("data-mce-caret"),b.removeAttribute("data-mce-bogus"),b.removeAttribute("style"),b.removeAttribute("_moz_abspos"),b):null;var a,c},ej=o2.isContentEditableTrue,q6=o2.isContentEditableFalse,dN=o2.isBr,wF=o2.isText,lV=o2.matchNodeNames("script style textarea"),AK=o2.matchNodeNames("img input textarea hr iframe video audio object"),qJ=o2.matchNodeNames("table"),c3=n8,j5=function(a){return !c3(a)&&(wF(a)?!lV(a.parentNode):AK(a)||dN(a)||qJ(a)||cG(a))},cG=function(b){return !1===(a=b,o2.isElement(a)&&"true"===a.getAttribute("unselectable"))&&q6(b);var a},bX=function(b,a){return j5(b)&&function(d,c){for(d=d.parentNode;d&&d!==c;d=d.parentNode){if(cG(d)){return !1}if(ej(d)){return !0}}return !0}(b,a)},mE=Math.round,kO=function(a){return a?{left:mE(a.left),top:mE(a.top),bottom:mE(a.bottom),right:mE(a.right),width:mE(a.width),height:mE(a.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},gK=function(b,a){return b=kO(b),a||(b.left=b.left+b.width),b.right=b.left,b.width=0,b},bA=function(b,a,c){return 0<=b&&b<=Math.min(a.height,c.height)/2},C1=function(b,a){return b.bottom-b.height/2<a.top||!(b.top>a.bottom)&&bA(a.top-b.bottom,b,a)},t9=function(b,a){return b.top>a.bottom||!(b.bottom<a.top)&&bA(a.bottom-b.top,b,a)},xR=function(b){var a=b.startContainer,c=b.startOffset;return a.hasChildNodes()&&b.endOffset===c+1?a.childNodes[c]:null},vD=function(b,a){return 1===b.nodeType&&b.hasChildNodes()&&(a>=b.childNodes.length&&(a=b.childNodes.length-1),b=b.childNodes[a]),b},w7=new RegExp("[\u0300-\u036f\u0483-\u0487\u0488-\u0489\u0591-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962-\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a02\u0a3c\u0a41-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a51\u0a70-\u0a71\u0a75\u0a81-\u0a82\u0abc\u0ac1-\u0ac5\u0ac7-\u0ac8\u0acd\u0ae2-\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62-\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c00\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c62-\u0c63\u0c81\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc-\u0ccd\u0cd5-\u0cd6\u0ce2-\u0ce3\u0d01\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62-\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039-\u103a\u103d-\u103e\u1058-\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b4-\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193b\u1a17-\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1abe\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80-\u1b81\u1ba2-\u1ba5\u1ba8-\u1ba9\u1bab-\u1bad\u1be6\u1be8-\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36-\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8-\u1cf9\u1dc0-\u1df5\u1dfc-\u1dff\u200c-\u200d\u20d0-\u20dc\u20dd-\u20e0\u20e1\u20e2-\u20e4\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u302e-\u302f\u3099-\u309a\ua66f\ua670-\ua672\ua674-\ua67d\ua69e-\ua69f\ua6f0-\ua6f1\ua802\ua806\ua80b\ua825-\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31-\uaa32\uaa35-\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7-\uaab8\uaabe-\uaabf\uaac1\uaaec-\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f\uff9e-\uff9f]"),AP=function(a){return"string"==typeof a&&768<=a.charCodeAt(0)&&w7.test(a)},GO=function(c,a){for(var f=[],b=0;b<c.length;b++){var d=c[b];if(!d.isSome()){return GG.none()}f.push(d.getOrDie())}return GG.some(a.apply(null,f))},tM=o2.isElement,uT=j5,EB=o2.matchStyleValues("display","block table"),yY=o2.matchStyleValues("float","left right"),CE=sX.and(tM,uT,sX.negate(yY)),DL=sX.negate(o2.matchStyleValues("white-space","pre pre-line pre-wrap")),yA=o2.isText,BU=o2.isBr,wK=BG.nodeIndex,Bj=vD,s2=function(a){return"createRange" in a?a.createRange():BG.DOM.createRng()},FM=function(a){return a&&/[\r\n\t ]/.test(a)},rk=function(a){return !!a.setStart&&!!a.setEnd},oz=function(c){var a,d=c.startContainer,b=c.startOffset;return !!(FM(c.toString())&&DL(d.parentNode)&&o2.isText(d)&&(a=d.data,FM(a[b-1])||FM(a[b+1])))},rV=function(a){return 0===a.left&&0===a.right&&0===a.top&&0===a.bottom},sF=function(g){var k,d,b,c,f,h,j,l;return k=0<(d=g.getClientRects()).length?kO(d[0]):kO(g.getBoundingClientRect()),!rk(g)&&BU(g)&&rV(k)?(f=(b=g).ownerDocument,h=s2(f),j=f.createTextNode("\xa0"),(l=b.parentNode).insertBefore(j,b),h.setStart(j,0),h.setEnd(j,1),c=kO(h.getBoundingClientRect()),l.removeChild(j),c):rV(k)&&rk(g)?function(q){var m=q.startContainer,u=q.endContainer,p=q.startOffset,s=q.endOffset;if(m===u&&o2.isText(u)&&0===p&&1===s){var a=q.cloneRange();return a.setEndAfter(u),sF(a)}return null}(g):k},hW=function(b,a){var c=gK(b,a);return c.width=1,c.right=c.left+1,c},m6=function(d){var b,g,c=[],f=function(i){var h,j;0!==i.height&&(0<c.length&&(h=i,j=c[c.length-1],h.left===j.left&&h.top===j.top&&h.bottom===j.bottom&&h.right===j.right)||c.push(i))},a=function(i,h){var j=s2(i.ownerDocument);if(h<i.data.length){if(AP(i.data[h])){return c}if(AP(i.data[h-1])&&(j.setStart(i,h),j.setEnd(i,h+1),!oz(j))){return f(hW(sF(j),!1)),c}}0<h&&(j.setStart(i,h-1),j.setEnd(i,h),oz(j)||f(hW(sF(j),!1))),h<i.data.length&&(j.setStart(i,h),j.setEnd(i,h+1),oz(j)||f(hW(sF(j),!0)))};if(yA(d.container())){return a(d.container(),d.offset()),c}if(tM(d.container())){if(d.isAtEnd()){g=Bj(d.container(),d.offset()),yA(g)&&a(g,g.data.length),CE(g)&&!BU(g)&&f(hW(sF(g),!1))}else{if(g=Bj(d.container(),d.offset()),yA(g)&&a(g,0),CE(g)&&d.isAtEnd()){return f(hW(sF(g),!1)),c}b=Bj(d.container(),d.offset()-1),CE(b)&&!BU(b)&&(EB(b)||EB(g)||!CE(g))&&f(hW(sF(b),!1)),CE(g)&&f(hW(sF(g),!0))}}return c};function eZ(a,d,c){var b=function(){return c||(c=m6(eZ(a,d))),c};return{container:sX.constant(a),offset:sX.constant(d),toRange:function(){var f;return(f=s2(a.ownerDocument)).setStart(a,d),f.setEnd(a,d),f},getClientRects:b,isVisible:function(){return 0<b().length},isAtStart:function(){return yA(a),0===d},isAtEnd:function(){return yA(a)?d>=a.data.length:d>=a.childNodes.length},isEqual:function(f){return f&&a===f.container()&&d===f.offset()},getNode:function(f){return Bj(a,f?d-1:d)}}}(l8=eZ||(eZ={})).fromRangeStart=function(a){return l8(a.startContainer,a.startOffset)},l8.fromRangeEnd=function(a){return l8(a.endContainer,a.endOffset)},l8.after=function(a){return l8(a.parentNode,wK(a)+1)},l8.before=function(a){return l8(a.parentNode,wK(a))},l8.isAbove=function(b,a){return GO([DA(a.getClientRects()),uJ(b.getClientRects())],C1).getOr(!1)},l8.isBelow=function(b,a){return GO([uJ(a.getClientRects()),DA(b.getClientRects())],t9).getOr(!1)},l8.isAtStart=function(a){return !!a&&a.isAtStart()},l8.isAtEnd=function(a){return !!a&&a.isAtEnd()},l8.isTextPosition=function(a){return !!a&&o2.isText(a.container())},l8.isElementPosition=function(a){return !1===l8.isTextPosition(a)};var eB,zI,pH=eZ,aA=o2.isText,fJ=o2.isBogus,nQ=BG.nodeIndex,oX=function(b){var a=b.parentNode;return fJ(a)?oX(a):a},hq=function(a){return a?z6.reduce(a.childNodes,function(c,b){return fJ(b)&&"BR"!==b.nodeName?c=c.concat(hq(b)):c.push(b),c},[]):[]},gP=function(a){return function(b){return a===b}},i3=function(c){var a,b,f,d;return(aA(c)?"text()":c.nodeName.toLowerCase())+"["+(b=hq(oX(a=c)),f=z6.findIndex(b,gP(a),a),b=b.slice(0,f+1),d=z6.reduce(b,function(h,g,i){return aA(g)&&aA(b[i-1])&&h++,h},0),b=z6.filter(b,o2.matchNodeNames(a.nodeName)),(f=z6.findIndex(b,gP(a),a))-d)+"]"},kT=function(h,f){var k,g,j,d,b,c=[];return k=f.container(),g=f.offset(),aA(k)?j=function(i,a){for(;(i=i.previousSibling)&&aA(i);){a+=i.data.length}return a}(k,g):(g>=(d=k.childNodes).length?(j="after",g=d.length-1):j="before",k=d[g]),c.push(i3(k)),b=function(l,a,m){var i=[];for(a=a.parentNode;!(a===l||m&&m(a));a=a.parentNode){i.push(a)}return i}(h,k),b=z6.filter(b,sX.negate(o2.isBogus)),(c=c.concat(z6.map(b,function(a){return i3(a)}))).reverse().join("/")+","+j},iG=function(c,a){var f,b,d;return a?(a=(f=a.split(","))[0].split("/"),d=1<f.length?f[1]:"before",(b=z6.reduce(a,function(k,h){return(h=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(h))?("text()"===h[1]&&(h[1]="#text"),m=k,j=h[1],l=parseInt(h[2],10),g=hq(m),g=z6.filter(g,function(n,i){return !aA(n)||!aA(g[i-1])}),(g=z6.filter(g,o2.matchNodeNames(j)))[l]):null;var m,j,l,g},c))?aA(b)?function(i,g){for(var k,h=i,j=0;aA(h);){if(k=h.data.length,j<=g&&g<=j+k){i=h,g-=j;break}if(!aA(h.nextSibling)){i=h,g=k;break}j+=k,h=h.nextSibling}return aA(i)&&g>i.data.length&&(g=i.data.length),pH(i,g)}(b,parseInt(d,10)):(d="after"===d?nQ(b)+1:nQ(b),pH(b.parentNode,d)):null):null},mJ=o2.isContentEditableFalse,dS=function(j,q,f,b,d){var h,m=b[d?"startContainer":"endContainer"],p=b[d?"startOffset":"endOffset"],v=[],k=0,g=j.getRoot();for(o2.isText(m)?v.push(f?function(i,a,s){var c,l;for(l=i(a.data.slice(0,s)).length,c=a.previousSibling;c&&o2.isText(c);c=c.previousSibling){l+=i(c.data).length}return l}(q,m,p):p):(p>=(h=m.childNodes).length&&h.length&&(k=1,p=Math.max(0,h.length-1)),v.push(j.nodeIndex(h[p],f)+k));m&&m!==g;m=m.parentNode){v.push(j.nodeIndex(m,f))}return v},qP=function(a){o2.isText(a)&&0===a.data.length&&a.parentNode.removeChild(a)},c8=function(c,a,d){var b=0;return bG.each(c.select(a),function(f){if("all"!==f.getAttribute("data-mce-bogus")){return f!==d&&void b++}}),b},v0=function(d,b){var g,c,f,a=b?"start":"end";g=d[a+"Container"],c=d[a+"Offset"],o2.isElement(g)&&"TR"===g.nodeName&&(g=(f=g.childNodes)[Math.min(b?c:c-1,f.length-1)])&&(c=b?0:g.childNodes.length,d["set"+(b?"Start":"End")](g,c))},lD=function(a){return v0(a,!0),v0(a,!1),a},z5=function(b,a){var c;if(o2.isElement(b)&&(b=vD(b,a),mJ(b))){return b}if(n8(b)){if(o2.isText(b)&&aS(b)&&(b=b.parentNode),c=b.previousSibling,mJ(c)){return c}if(c=b.nextSibling,mJ(c)){return c}}},p5=function(v,A,h){var b=h.getNode(),g=b?b.nodeName:null,p=h.getRng();if(mJ(b)||"IMG"===g){return{name:g,index:c8(h.dom,g,b)}}var y,z,B,x,k,q,w,j=z5((y=p).startContainer,y.startOffset)||z5(y.endContainer,y.endOffset);return j?{name:g=j.tagName,index:c8(h.dom,g,j)}:(z=v,x=A,k=p,q=(B=h).dom,(w={}).start=dS(q,z,x,k,!0),B.isCollapsed()||(w.end=dS(q,z,x,k,!1)),w)},cL=function(c,a,d){var b={"data-mce-type":"bookmark",id:a,style:"overflow:hidden;line-height:0px"};return d?c.create("span",b,"&#xFEFF;"):c.create("span",b)},jN=function(j,q){var f=j.dom,b=j.getRng(),d=f.uniqueId(),h=j.isCollapsed(),m=j.getNode(),p=m.nodeName;if("IMG"===p){return{name:p,index:c8(f,p,m)}}var v=lD(b.cloneRange());if(!h){v.collapse(!1);var k=cL(f,d+"_end",q);v.insertNode(k),qP(k.nextSibling)}(b=lD(b)).collapse(!0);var g=cL(f,d+"_start",q);return b.insertNode(g),qP(g.previousSibling),j.moveToBookmark({id:d,keep:1}),{id:d}},b1={getBookmark:function(c,a,f){return 2===a?p5(eU,f,c):3===a?(d=(b=c).getRng(),{start:kT(b.dom.getRoot(),pH.fromRangeStart(d)),end:kT(b.dom.getRoot(),pH.fromRangeEnd(d))}):a?{rng:c.getRng()}:jN(c,!1);var b,d},getUndoBookmark:E6(p5,ES,!0),getPersistentBookmark:jN},bF="_mce_caret",lZ=function(a){return o2.isElement(a)&&a.id===bF},j9=function(b,a){for(;a&&a!==b;){if(a.id===bF){return a}a=a.parentNode}return null},f5=o2.isElement,aX=o2.isText,C3=function(b){var a=b.parentNode;a&&a.removeChild(b)},uk=function(b,a){0===a.length?C3(b):b.nodeValue=a},xT=function(b){var a=eU(b);return{count:b.length-a.length,text:a}},vF=function(b,a){return GQ(b),a},w9=function(g,d){var j,f,h,c=d.container(),b=(j=x4(c.childNodes),f=g,h=F0(j,f),-1===h?GG.none():GG.some(h)).map(function(a){return a<d.offset()?pH(c,d.offset()-1):d}).getOr(d);return GQ(g),b},AR=function(g,d){return aX(g)&&d.container()===g?(f=d,h=xT((j=g).data.substr(0,f.offset())),c=xT(j.data.substr(f.offset())),0<(b=h.text+c.text).length?(uk(j,b),pH(j,f.offset()-h.count)):f):vF(g,d);var j,f,h,c,b},GQ=function(b){if(f5(b)&&n8(b)&&(pB(b)?b.removeAttribute("data-mce-caret"):C3(b)),aX(b)){var a=eU(function(d){try{return d.nodeValue}catch(c){return""}}(b));uk(b,a)}},tO={removeAndReposition:function(c,a){return pH.isTextPosition(a)?AR(c,a):(d=c,(b=a).container()===d.parentNode?w9(d,b):vF(d,b));var d,b},remove:GQ},uV=o2.isContentEditableTrue,EG=o2.isContentEditableFalse,y0=function(c,a,f,b,d){return a._selectionOverrides.showCaret(c,f,b,d)},CG=function(c,a){var d,b;return c.fire("BeforeObjectSelected",{target:a}).isDefaultPrevented()?null:((b=(d=a).ownerDocument.createRange()).selectNode(d),b)},DN=function(h,f,k){var g=qH(1,h.getBody(),f),j=pH.fromRangeStart(g),d=j.getNode();if(EG(d)){return y0(1,h,d,!j.isAtEnd(),!1)}var b=j.getNode(!0);if(EG(b)){return y0(1,h,b,!1,!1)}var c=h.dom.getParent(j.getNode(),function(a){return EG(a)||uV(a)});return EG(c)?y0(1,h,c,!1,k):null},yD=function(c,a,d){if(!a||!a.collapsed){return a}var b=DN(c,a,d);return b||a};(zI=eB||(eB={}))[zI.Backwards=-1]="Backwards",zI[zI.Forwards=1]="Forwards";var BW,wM,Bq=o2.isContentEditableFalse,s4=o2.isText,FQ=o2.isElement,rz=o2.isBr,oB=j5,rX=function(b){return AK(b)||!!cG(a=b)&&!0!==z6.reduce(a.getElementsByTagName("*"),function(d,c){return d||ej(c)},!1);var a},sH=bX,hY=function(b,a){return b.hasChildNodes()&&a<b.childNodes.length?b.childNodes[a]:null},m8=function(b,a){if(g4(b)){if(oB(a.previousSibling)&&!s4(a.previousSibling)){return pH.before(a)}if(s4(a)){return pH(a,0)}}if(jF(b)){if(oB(a.nextSibling)&&!s4(a.nextSibling)){return pH.after(a)}if(s4(a)){return pH(a,a.data.length)}}return jF(b)?rz(a)?pH.before(a):pH.after(a):pH.before(a)},e1=function(p,y,h){var b,g,k,w,x;if(!FQ(h)||!y){return null}if(y.isEqual(pH.after(h))&&h.lastChild){if(x=pH.after(h.lastChild),jF(p)&&oB(h.lastChild)&&FQ(h.lastChild)){return rz(h.lastChild)?pH.before(h.lastChild):x}}else{x=y}var z,v,j,m=x.container(),q=x.offset();if(s4(m)){if(jF(p)&&0<q){return pH(m,--q)}if(g4(p)&&q<m.length){return pH(m,++q)}b=m}else{if(jF(p)&&0<q&&(g=hY(m,q-1),oB(g))){return !rX(g)&&(k=iV(g,p,sH,g))?s4(k)?pH(k,k.data.length):pH.after(k):s4(g)?pH(g,g.data.length):pH.before(g)}if(g4(p)&&q<m.childNodes.length&&(g=hY(m,q),oB(g))){return rz(g)&&h.lastChild===g?null:(z=g,v=h,o2.isBr(z)&&(j=e1(1,pH.after(z),v))&&!d7(pH.before(z),pH.before(j),v)?e1(p,pH.after(g),h):!rX(g)&&(k=iV(g,p,sH,g))?s4(k)?pH(k,0):pH.before(k):s4(g)?pH(g,0):pH.after(g))}b=g||x.getNode()}return(g4(p)&&x.isAtEnd()||jF(p)&&x.isAtStart())&&(b=iV(b,p,sX.constant(!0),h,!0),sH(b,h))?m8(p,b):(g=iV(b,p,sH,h),!(w=z6.last(z6.filter(function(c,a){for(var d=[];c&&c!==a;){d.push(c),c=c.parentNode}return d}(m,h),Bq)))||g&&w.contains(g)?g?m8(p,g):null:x=g4(p)?pH.after(w):pH.before(w))},eE=function(a){return{next:function(b){return e1(eB.Forwards,b,a)},prev:function(b){return e1(eB.Backwards,b,a)}}};(wM=BW||(BW={}))[wM.Br=0]="Br",wM[wM.Block=1]="Block",wM[wM.Wrap=2]="Wrap",wM[wM.Eol=3]="Eol";var zK,pJ,aD,fL,nS,oZ=function(b,a){return b===eB.Backwards?a.reverse():a},hA=function(v,A,h,b){for(var g,p,y,z,B,x,k=eE(h),q=b,w=[];q&&(B=k,x=q,g=A===eB.Forwards?B.next(x):B.prev(x));){if(o2.isBr(g.getNode(!1))){return A===eB.Forwards?{positions:oZ(A,w).concat([g]),breakType:BW.Br,breakAt:GG.some(g)}:{positions:oZ(A,w),breakType:BW.Br,breakAt:GG.some(g)}}if(g.isVisible()){if(v(q,g)){var j=(p=A,y=q,z=g,o2.isBr(z.getNode(p===eB.Forwards))?BW.Br:!1===d7(y,z)?BW.Block:BW.Wrap);return{positions:oZ(A,w),breakType:j,breakAt:GG.some(g)}}w.push(g),q=g}else{q=g}}return{positions:oZ(A,w),breakType:BW.Eol,breakAt:GG.none()}},gR=function(d,a,c,b){return a(c,b).breakAt.map(function(g){var f=a(c,g).positions;return d===eB.Backwards?f.concat(g):[g].concat(f)}).getOr([])},i5=function(b,a){return D3(b,function(c,d){return c.fold(function(){return GG.some(d)},function(e){return GO([DA(e.getClientRects()),DA(d.getClientRects())],function(g,f){var h=Math.abs(a-g.left);return Math.abs(a-f.left)<=h?d:e}).or(c)})},GG.none())},kV=function(a,b){return DA(b.getClientRects()).bind(function(c){return i5(a,c.left)})},iI=E6(hA,eZ.isAbove,-1),mL=E6(hA,eZ.isBelow,1),dU=E6(gR,-1,iI),qR=E6(gR,1,mL),dj=function(j,q,f,b,d){var h,m,p,v,k=cj(C4.fromDom(f),"td,th").map(function(a){return a.dom()}),g=FJ((h=j,F8(k,function(i){var a,l,c=(a=i.getBoundingClientRect(),l=-1,{left:a.left-l,top:a.top-l,right:a.right+2*l,bottom:a.bottom+2*l,width:a.width+l,height:a.height+l});return[{x:c.left,y:h(c),cell:i},{x:c.right,y:h(c),cell:i}]})),function(a){return q(a,d)});return(m=g,p=b,v=d,D3(m,function(c,a){return c.fold(function(){return GG.some(a)},function(l){var i=Math.sqrt(Math.abs(l.x-p)+Math.abs(l.y-v)),o=Math.sqrt(Math.abs(a.x-p)+Math.abs(a.y-v));return GG.some(o<i?a:l)})},GG.none())).map(function(a){return a.cell})},v2=E6(dj,function(a){return a.bottom},function(b,a){return b.y<a}),lF=E6(dj,function(a){return a.top},function(b,a){return b.y>a}),z7=function(a,b){return DA(b.getClientRects()).bind(function(c){return v2(a,c.left,c.top)}).bind(function(d){return kV((c=d,GW.lastPositionIn(c).map(function(f){return iI(c,f).positions.concat(f)}).getOr([])),b);var c})},p7=function(a,b){return uJ(b.getClientRects()).bind(function(c){return lF(a,c.left,c.top)}).bind(function(d){return kV((c=d,GW.firstPositionIn(c).map(function(f){return[f].concat(mL(c,f).positions)}).getOr([])),b);var c})},cN=function(c){for(var a=0,d=0,b=c;b&&b.nodeType;){a+=b.offsetLeft||0,d+=b.offsetTop||0,b=b.offsetParent}return{x:a,y:d}},jP=function(m,w,g){var b,d,j,q,v,x=m.dom,p=x.getRoot(),h=0;if(v={elm:w,alignToTop:g},m.fire("scrollIntoView",v),!v.isDefaultPrevented()&&o2.isElement(w)){if(!1===g&&(h=w.offsetHeight),"BODY"!==p.nodeName){var k=m.selection.getScrollContainer();if(k){return b=cN(w).y-cN(k).y+h,q=k.clientHeight,void ((b<(j=k.scrollTop)||j+q<b+25)&&(k.scrollTop=b<j?b:b-q+25))}}d=x.getViewPort(m.getWin()),b=x.getPos(w).y+h,j=d.y,q=d.h,(b<d.y||j+q<b+25)&&m.getWin().scrollTo(0,b<j?b:b-q+25)}},b3=function(b,a){DA(eZ.fromRangeStart(a).getClientRects()).each(function(p){var x,h,d,g,k,v,w,y,q,j=function(f){if(f.inline){return f.getBody().getBoundingClientRect()}var c=f.getWin();return{left:0,right:c.innerWidth,top:0,bottom:c.innerHeight,width:c.innerWidth,height:c.innerHeight}}(b),m={x:(k=x=j,v=h=p,v.left>k.left&&v.right<k.right?0:v.left<k.left?v.left-k.left:v.right-k.right),y:(d=x,g=h,g.top>d.top&&g.bottom<d.bottom?0:g.top<d.top?g.top-d.top:g.bottom-d.bottom)};y=0!==m.x?0<m.x?m.x+4:m.x-4:0,q=0!==m.y?0<m.y?m.y+4:m.y-4:0,(w=b).inline?(w.getBody().scrollLeft+=y,w.getBody().scrollTop+=q):w.getWin().scrollBy(y,q)})},bH=function(c,a,f){var b=c.getParam(a,f);if(-1!==b.indexOf("=")){var d=c.getParam(a,"","hash");return d.hasOwnProperty(c.id)?d[c.id]:f}return b},l1=function(a){return a.getParam("iframe_attrs",{})},kk=function(a){return a.getParam("doctype","<!DOCTYPE html>")},f7=function(a){return a.getParam("document_base_url","")},aZ=function(a){return bH(a,"body_id","tinymce")},DD=function(a){return bH(a,"body_class","")},uL=function(a){return a.getParam("content_security_policy","")},x6=function(a){return a.getParam("br_in_pre",!0)},vS=function(b){if(b.getParam("force_p_newlines",!1)){return"p"}var a=b.getParam("forced_root_block","p");return !1===a?"":a},xJ=function(a){return a.getParam("forced_root_block_attrs",{})},A2=function(a){return a.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},G4=function(a){return a.getParam("no_newline_selector","")},t1=function(a){return a.getParam("keep_styles",!0)},u8=function(a){return a.getParam("end_container_on_empty_block",!1)},E9=function(a){return bG.explode(a.getParam("font_size_style_values",""))},zz=function(a){return bG.explode(a.getParam("font_size_classes",""))},CT=gk.detect().browser,DZ=function(){return CT.isIE()||CT.isEdge()||CT.isFirefox()},yQ=function(b,a){b.selection.setRng(a),b3(b,a)},B9=function(a,d,c){var b=a(d,c);return b.breakType===BW.Wrap&&0===b.positions.length?b.breakAt.map(function(f){return a(d,f).breakAt.isNone()}).getOr(!0):b.breakAt.isNone()},wZ=sX.curry(B9,iI),BM=sX.curry(B9,mL),tE=function(j,q,f,b){var d,h,m,p,v=j.selection.getRng(),k=q?1:-1;if(DZ()&&(d=q,h=v,m=f,p=pH.fromRangeStart(h),GW.positionIn(!d,m).map(function(a){return a.isEqual(p)}).getOr(!1))){var g=y0(k,j,f,!q,!0);return yQ(j,g),!0}return !1},GF=function(b,a){var c=a.getNode(b);return o2.isElement(c)&&"TABLE"===c.nodeName?GG.some(c):GG.none()},rN=function(a,d,g){var f=GF(!!d,g),b=!1===d;f.fold(function(){return yQ(a,g.toRange())},function(c){return GW.positionIn(b,a.getBody()).filter(function(h){return h.isEqual(g)}).fold(function(){return yQ(a,g.toRange())},function(l){return p=d,m=c,j=g,void ((h=vS(k=a))?k.undoManager.transact(function(){var n=C4.fromTag(h);s5.setAll(n,xJ(k)),zR.append(n,C4.fromTag("br")),p?zR.after(C4.fromDom(m),n):zR.before(C4.fromDom(m),n);var i=k.dom.createRng();i.setStart(n.dom(),0),i.setEnd(n.dom(),0),yQ(k,i)}):yQ(k,j.toRange()));var p,k,m,j,h})})},oP=function(v,A,h,b){var g,p,y,z,B,x,k=v.selection.getRng(),q=pH.fromRangeStart(k),w=v.getBody();if(!A&&wZ(b,q)){var j=(z=w,z7(B=h,x=q).orThunk(function(){return DA(x.getClientRects()).bind(function(a){return i5(dU(z,pH.before(B)),a.left)})}).getOr(pH.before(B)));return rN(v,A,j),!0}return !(!A||!BM(b,q))&&(g=w,j=p7(p=h,y=q).orThunk(function(){return DA(y.getClientRects()).bind(function(a){return i5(qR(g,pH.after(p)),a.left)})}).getOr(pH.after(p)),rN(v,A,j),!0)},sj=function(a,b){return function(){return GG.from(a.dom.getParent(a.selection.getNode(),"td,th")).bind(function(c){return GG.from(a.dom.getParent(c,"table")).map(function(d){return tE(a,b,d)})}).getOr(!1)}},sU=function(b,a){return function(){return GG.from(b.dom.getParent(b.selection.getNode(),"td,th")).bind(function(c){return GG.from(b.dom.getParent(c,"table")).map(function(d){return oP(b,a,d,c)})}).getOr(!1)}},ik=o2.isContentEditableFalse,nI=function(g,k,d){var b,c,f,h,j,l=gK(k.getBoundingClientRect(),d);return"BODY"===g.tagName?(b=g.ownerDocument.documentElement,c=g.scrollLeft||b.scrollLeft,f=g.scrollTop||b.scrollTop):(j=g.getBoundingClientRect(),c=g.scrollLeft-j.left,f=g.scrollTop-j.top),l.left+=c,l.right+=c,l.top+=f,l.bottom+=f,l.width=1,0<(h=k.offsetWidth-k.clientWidth)&&(d&&(h*=-1),l.left+=h,l.right+=h),l},fA=function(d,g,k){var h,i,m=hI(GG.none()),b=function(){!function(l){var c,q,f,p,a;for(c=wQ("*[contentEditable=false]",l),p=0;p<c.length;p++){f=(q=c[p]).previousSibling,iY(f)&&(1===(a=f.data).length?f.parentNode.removeChild(f):f.deleteData(a.length-1,1)),f=q.nextSibling,lk(f)&&(1===(a=f.data).length?f.parentNode.removeChild(f):f.deleteData(0,1))}}(d),i&&(tO.remove(i),i=null),m.get().each(function(a){wQ(a.caret).remove(),m.set(GG.none())}),clearInterval(h)},j=function(){h=jD.setInterval(function(){k()?wQ("div.mce-visual-caret",d).toggleClass("mce-visual-caret-hidden"):wQ("div.mce-visual-caret",d).addClass("mce-visual-caret-hidden")},500)};return{show:function(c,l){var q,f,p;if(b(),p=l,o2.isElement(p)&&/^(TD|TH)$/i.test(p.tagName)){return null}if(!g(l)){return i=function(v,s){var x,u,w;if(u=v.ownerDocument.createTextNode(fE),w=v.parentNode,s){if(x=v.previousSibling,pZ(x)){if(n8(x)){return x}if(iY(x)){return x.splitText(x.data.length-1)}}w.insertBefore(u,v)}else{if(x=v.nextSibling,pZ(x)){if(n8(x)){return x}if(lk(x)){return x.splitText(1),x}}v.nextSibling?w.insertBefore(u,v.nextSibling):w.appendChild(u)}return u}(l,c),f=l.ownerDocument.createRange(),ik(i.nextSibling)?(f.setStart(i,0),f.setEnd(i,0)):(f.setStart(i,1),f.setEnd(i,1)),f}i=jI("p",l,c),q=nI(d,l,c),wQ(i).css("top",q.top);var a=wQ('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(q).appendTo(d)[0];return m.set(GG.some({caret:a,element:l,before:c})),m.get().each(function(n){c&&wQ(n.caret).addClass("mce-visual-caret-before")}),j(),(f=l.ownerDocument.createRange()).setStart(i,0),f.setEnd(i,0),f},hide:b,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){m.get().each(function(c){var a=nI(d,c.element,c.before);wQ(c.caret).css(a)})},destroy:function(){return jD.clearInterval(h)}}},eR=function(a){return ik(a)||o2.isTable(a)&&DZ()},zX=o2.isContentEditableFalse,pW=o2.matchStyleValues("display","block table table-cell table-caption list-item"),aQ=n8,fY=aS,n5=sX.curry,pq=o2.isElement,hO=j5,g4=function(a){return 0<a},jF=function(a){return a<0},k8=function(b,a){for(var c;c=b(a);){if(!fY(c)){return c}}return null},iV=function(d,b,g,c,f){var a=new AU(d,c);if(jF(b)){if((zX(d)||fY(d))&&g(d=k8(a.prev,!0))){return d}for(;d=k8(a.prev,f);){if(g(d)){return d}}}if(g4(b)){if((zX(d)||fY(d))&&g(d=k8(a.next,!0))){return d}for(;d=k8(a.next,f);){if(g(d)){return d}}}return null},mY=function(b,a){for(;b&&b!==a;){if(pW(b)){return b}b=b.parentNode}return null},d7=function(b,a,c){return mY(b.container(),c)===mY(a.container(),c)},q4=function(c,a){var d,b;return a?(d=a.container(),b=a.offset(),pq(d)?d.childNodes[b+c]:null):null},dK=function(b,a){var c=a.ownerDocument.createRange();return b?(c.setStartBefore(a),c.setEndBefore(a)):(c.setStartAfter(a),c.setEndAfter(a)),c},wB=function(g,d,j){var f,h,c,b;for(h=g?"previousSibling":"nextSibling";j&&j!==d;){if(f=j[h],aQ(f)&&(f=f[h]),zX(f)){if(b=j,mY(f,c=d)===mY(b,c)){return f}break}if(hO(f)){break}j=j.parentNode}return null},lS=n5(dK,!0),AH=n5(dK,!1),qH=function(g,k,d){var b,c,f,h,j=n5(wB,!0,k),l=n5(wB,!1,k);if(c=d.startContainer,f=d.startOffset,aS(c)){if(pq(c)||(c=c.parentNode),"before"===(h=c.getAttribute("data-mce-caret"))&&(b=c.nextSibling,eR(b))){return lS(b)}if("after"===h&&(b=c.previousSibling,eR(b))){return AH(b)}}if(!d.collapsed){return d}if(o2.isText(c)){if(aQ(c)){if(1===g){if(b=l(c)){return lS(b)}if(b=j(c)){return AH(b)}}if(-1===g){if(b=j(c)){return AH(b)}if(b=l(c)){return lS(b)}}return d}if(iY(c)&&f>=c.data.length-1){return 1===g&&(b=l(c))?lS(b):d}if(lk(c)&&f<=1){return -1===g&&(b=j(c))?AH(b):d}if(f===c.data.length){return(b=l(c))?lS(b):d}if(0===f){return(b=j(c))?AH(b):d}}return d},c0=function(b,a){var c=q4(b,a);return zX(c)&&!o2.isBogusAll(c)},j2=function(b,a){return o2.isTable(q4(b,a))},cD=function(b,a){return GG.from(q4(b?0:-1,a)).filter(zX)},bU=function(c,a,d){var b=qH(c,a,d);return -1===c?eZ.fromRangeStart(b):eZ.fromRangeEnd(b)},mA=n5(c0,0),kL=n5(c0,-1),gH=n5(j2,0),bq=n5(j2,-1),C9=function(a){return pH.isTextPosition(a)?0===a.offset():j5(a.getNode())},uE=function(b){if(pH.isTextPosition(b)){var a=b.container();return b.offset()===a.data.length}return j5(b.getNode(!0))},xZ=function(b,a){return !pH.isTextPosition(b)&&!pH.isTextPosition(a)&&b.getNode()===a.getNode(!0)},vL=function(c,a,d){return c?!xZ(a,d)&&(b=a,!(!pH.isTextPosition(b)&&o2.isBr(b.getNode())))&&uE(a)&&C9(d):!xZ(d,a)&&C9(a)&&uE(d);var b},xB=function(c,a,d){var b=eE(a);return GG.from(c?b.next(d):b.prev(d))},AW=function(h,f){var k,g,j,d,b,c=h?f.firstChild:f.lastChild;return o2.isText(c)?GG.some(pH(c,h?0:c.data.length)):c?j5(c)?GG.some(h?pH.before(c):(b=c,o2.isBr(b)?pH.before(b):pH.after(b))):(g=f,j=c,d=(k=h)?pH.before(j):pH.after(j),xB(k,g,d)):GG.none()},GW={fromPosition:xB,nextPosition:E6(xB,!0),prevPosition:E6(xB,!1),navigate:function(a,c,b){return xB(a,c,b).bind(function(d){return d7(b,d,c)&&vL(a,b,d)?xB(a,c,d):GG.some(d)})},positionIn:AW,firstPositionIn:E6(AW,!0),lastPositionIn:E6(AW,!1)},tU=function(b,a){return !b.isBlock(a)||a.innerHTML||fW.ie||(a.innerHTML='<br data-mce-bogus="1" />'),a},u1=function(b,a){return GW.lastPositionIn(b).fold(function(){return !1},function(c){return a.setStart(c.container(),c.offset()),a.setEnd(c.container(),c.offset()),!0})},ET=function(d,b,g){return !(!1!==b.hasChildNodes()||!j9(d,b)||(f=g,a=(c=b).ownerDocument.createTextNode(fE),c.appendChild(a),f.setStart(a,0),f.setEnd(a,0),0));var c,f,a},y6=function(h,m,f,b){var d,g,k,l,p=f[m?"start":"end"],j=h.getRoot();if(p){for(k=p[0],g=j,d=p.length-1;1<=d;d--){if(l=g.childNodes,ET(j,g,b)){return !0}if(p[d]>l.length-1){return !!ET(j,g,b)||u1(g,b)}g=l[p[d]]}3===g.nodeType&&(k=Math.min(p[0],g.nodeValue.length)),1===g.nodeType&&(k=Math.min(p[0],g.childNodes.length)),m?b.setStart(g,k):b.setEnd(g,k)}return !0},CM=function(a){return o2.isText(a)&&0<a.data.length},DS=function(j,q,f){var b,d,h,m,p,v,k=j.get(f.id+"_"+q),g=f.keep;if(k){if(b=k.parentNode,"start"===q?g?k.hasChildNodes()?(b=k.firstChild,d=1):CM(k.nextSibling)?(b=k.nextSibling,d=0):CM(k.previousSibling)?(b=k.previousSibling,d=k.previousSibling.data.length):(b=k.parentNode,d=j.nodeIndex(k)+1):d=j.nodeIndex(k):g?k.hasChildNodes()?(b=k.firstChild,d=1):CM(k.previousSibling)?(b=k.previousSibling,d=k.previousSibling.data.length):(b=k.parentNode,d=j.nodeIndex(k)):d=j.nodeIndex(k),p=b,v=d,!g){for(m=k.previousSibling,h=k.nextSibling,bG.each(bG.grep(k.childNodes),function(a){o2.isText(a)&&(a.nodeValue=a.nodeValue.replace(/\uFEFF/g,""))});k=j.get(f.id+"_"+q);){j.remove(k,!0)}m&&h&&m.nodeType===h.nodeType&&o2.isText(m)&&!fW.opera&&(d=m.nodeValue.length,m.appendData(h.nodeValue),j.remove(h),p=m,v=d)}return GG.some(pH(p,v))}return GG.none()},yJ=function(H,q){var A,x,z,D,L,k,w,J,C,G,I,B,F,y,E,j,K=H.dom;if(q){if(j=q,bG.isArray(j.start)){return y=q,E=(F=K).createRng(),y6(F,!0,y,E)&&y6(F,!1,y,E)?GG.some(E):GG.none()}if("string"==typeof q.start){return GG.some((G=q,I=(C=K).createRng(),B=iG(C.getRoot(),G.start),I.setStart(B.container(),B.offset()),B=iG(C.getRoot(),G.end),I.setEnd(B.container(),B.offset()),I))}if(q.hasOwnProperty("id")){return w=DS(z=K,"start",D=q),J=DS(z,"end",D),GO([w,(L=J,k=w,L.isSome()?L:k)],function(b,a){var c=z.createRng();return c.setStart(tU(z,b.container()),b.offset()),c.setEnd(tU(z,a.container()),a.offset()),c})}if(q.hasOwnProperty("name")){return A=K,x=q,GG.from(A.select(x.name)[x.index]).map(function(b){var a=A.createRng();return a.selectNode(b),a})}if(q.hasOwnProperty("rng")){return GG.some(q.rng)}}return GG.none()},B2=function(b,a,c){return b1.getBookmark(b,a,c)},wS=function(a,b){yJ(a,b).each(function(c){a.setRng(c)})},BF=function(a){return o2.isElement(a)&&"SPAN"===a.tagName&&"bookmark"===a.getAttribute("data-mce-type")},tj=function(a){return a&&/^(IMG)$/.test(a.nodeName)},F3=function(a){return a&&3===a.nodeType&&/^([\t \r\n]+|)$/.test(a.nodeValue)},rG=function(b,a,c){return"color"!==c&&"backgroundColor"!==c||(a=b.toHex(a)),"fontWeight"===c&&700===a&&(a="bold"),"fontFamily"===c&&(a=a.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+a},oI={isInlineBlock:tj,moveStart:function(h,f,k){var g,j,d,b=k.startOffset,c=k.startContainer;if((k.startContainer!==k.endContainer||!tj(k.startContainer.childNodes[k.startOffset]))&&1===c.nodeType){for(b<(d=c.childNodes).length?g=new AU(c=d[b],h.getParent(c,h.isBlock)):(g=new AU(c=d[d.length-1],h.getParent(c,h.isBlock))).next(!0),j=g.current();j;j=g.next()){if(3===j.nodeType&&!F3(j)){return k.setStart(j,0),void f.setRng(k)}}}},getNonWhiteSpaceSibling:function(b,a,c){if(b){for(a=a?"nextSibling":"previousSibling",b=c?b:b[a];b;b=b[a]){if(1===b.nodeType||!F3(b)){return b}}}},isTextBlock:function(b,a){return a.nodeType&&(a=a.nodeName),!!b.schema.getTextBlockElements()[a.toLowerCase()]},isValid:function(b,a,c){return b.schema.isValidChild(a,c)},isWhiteSpaceNode:F3,replaceVars:function(a,b){return"string"!=typeof a?a=a(b):b&&(a=a.replace(/%(\w+)/g,function(d,c){return b[c]||d})),a},isEq:function(b,a){return a=a||"",b=""+((b=b||"").nodeName||b),a=""+(a.nodeName||a),b.toLowerCase()===a.toLowerCase()},normalizeStyleValue:rG,getStyle:function(b,a,c){return rG(b,b.getStyle(a,c),c)},getTextDecoration:function(a,b){var c;return a.getParent(b,function(d){return(c=a.getStyle(d,"text-decoration"))&&"none"!==c}),c},getParents:function(b,a,c){return b.getParents(a,c,b.getRoot())}},r3=BF,sN=oI.getParents,h4=oI.isWhiteSpaceNode,nA=oI.isTextBlock,e7=function(b,a){for(void 0===a&&(a=3===b.nodeType?b.length:b.childNodes.length);b&&b.hasChildNodes();){(b=b.childNodes[a])&&(a=3===b.nodeType?b.length:b.childNodes.length)}return{node:b,offset:a}},eK=function(b,a){for(var c=a;c;){if(1===c.nodeType&&b.getContentEditable(c)){return"false"===b.getContentEditable(c)?c:a}c=c.parentNode}return a},zQ=function(g,d,j,f){var h,c,b=j.nodeValue;return void 0===f&&(f=g?b.length:0),g?(h=b.lastIndexOf(" ",f),-1===(h=(c=b.lastIndexOf("\xa0",f))<h?h:c)||d||h++):(h=b.indexOf(" ",f),c=b.indexOf("\xa0",f),h=-1!==h&&(-1===c||h<c)?h:c),h},pP=function(h,m,f,b,d,g){var k,l,p,j;if(3===f.nodeType){if(-1!==(p=zQ(d,g,f,b))){return{container:f,offset:p}}j=f}for(k=new AU(f,h.getParent(f,h.isBlock)||m);l=k[d?"prev":"next"]();){if(3===l.nodeType){if(-1!==(p=zQ(d,g,j=l))){return{container:l,offset:p}}}else{if(h.isBlock(l)){break}}}if(j){return{container:j,offset:b=d?0:j.length}}},aJ=function(g,k,d,b,c){var f,h,j,l;for(3===b.nodeType&&0===b.nodeValue.length&&b[c]&&(b=b[c]),f=sN(g,b),h=0;h<f.length;h++){for(j=0;j<k.length;j++){if(!("collapsed" in (l=k[j])&&l.collapsed!==d.collapsed)&&g.is(f[h],l.selector)){return f[h]}}}return b},fR=function(f,h,k,g){var j,d=f.dom,b=d.getRoot();if(h[0].wrapper||(j=d.getParent(k,h[0].block,b)),!j){var c=d.getParent(k,"LI,TD,TH");j=d.getParent(3===k.nodeType?k.parentNode:k,function(a){return a!==b&&nA(f,a)},c)}if(j&&h[0].wrapper&&(j=sN(d,j,"ul,ol").reverse()[0]||j),!j){for(j=k;j[g]&&!d.isBlock(j[g])&&(j=j[g],!oI.isEq(j,"br"));){}}return j||k},nY=function(p,y,h,b,g,k,w){var x,z,v,j,m,q;if(x=z=w?h:g,j=w?"previousSibling":"nextSibling",m=p.getRoot(),3===x.nodeType&&!h4(x)&&(w?0<b:k<x.nodeValue.length)){return x}for(;;){if(!y[0].block_expand&&p.isBlock(z)){return z}for(v=z[j];v;v=v[j]){if(!r3(v)&&!h4(v)&&("BR"!==(q=v).nodeName||!q.getAttribute("data-mce-bogus")||q.nextSibling)){return z}}if(z===m||z.parentNode===m){x=z;break}z=z.parentNode}return x},o5=function(h,m,f,b){var d,g=m.startContainer,k=m.startOffset,l=m.endContainer,p=m.endOffset,j=h.dom;return 1===g.nodeType&&g.hasChildNodes()&&3===(g=vD(g,k)).nodeType&&(k=0),1===l.nodeType&&l.hasChildNodes()&&3===(l=vD(l,m.collapsed?p:p-1)).nodeType&&(p=l.nodeValue.length),g=eK(j,g),l=eK(j,l),(r3(g.parentNode)||r3(g))&&3===(g=(g=r3(g)?g:g.parentNode).nextSibling||g).nodeType&&(k=0),(r3(l.parentNode)||r3(l))&&3===(l=(l=r3(l)?l:l.parentNode).previousSibling||l).nodeType&&(p=l.length),f[0].inline&&(m.collapsed&&((d=pP(j,h.getBody(),g,k,!0,b))&&(g=d.container,k=d.offset),(d=pP(j,h.getBody(),l,p,!1,b))&&(l=d.container,p=d.offset)),l=b?l:function(c,a){var i=e7(c,a);if(i.node){for(;i.node&&0===i.offset&&i.node.previousSibling;){i=e7(i.node.previousSibling)}i.node&&0<i.offset&&3===i.node.nodeType&&" "===i.node.nodeValue.charAt(i.offset-1)&&1<i.offset&&(c=i.node).splitText(i.offset-1)}return c}(l,p)),(f[0].inline||f[0].block_expand)&&(f[0].inline&&3===g.nodeType&&0!==k||(g=nY(j,f,g,k,l,p,!0)),f[0].inline&&3===l.nodeType&&p!==l.nodeValue.length||(l=nY(j,f,g,k,l,p,!1))),f[0].selector&&!1!==f[0].expand&&!f[0].inline&&(g=aJ(j,f,m,g,"previousSibling"),l=aJ(j,f,m,l,"nextSibling")),(f[0].block||f[0].selector)&&(g=fR(h,f,g,"previousSibling"),l=fR(h,f,l,"nextSibling"),f[0].block&&(j.isBlock(g)||(g=nY(j,f,g,k,l,p,!0)),j.isBlock(l)||(l=nY(j,f,g,k,l,p,!1)))),1===g.nodeType&&(k=j.nodeIndex(g),g=g.parentNode),1===l.nodeType&&(p=j.nodeIndex(l)+1,l=l.parentNode),{startContainer:g,startOffset:k,endContainer:l,endOffset:p}},hH=bG.each,gX=function(L,w,D){var E,A,H,P,q,x,N,G=w.startContainer,K=w.startOffset,M=w.endContainer,F=w.endOffset;if(0<(N=L.select("td[data-mce-selected],th[data-mce-selected]")).length){hH(N,function(a){D([a])})}else{var J,B,I,k=function(b){var a;return 3===(a=b[0]).nodeType&&a===G&&K>=a.nodeValue.length&&b.splice(0,1),a=b[b.length-1],0===F&&0<b.length&&a===M&&3===a.nodeType&&b.splice(b.length-1,1),b},O=function(c,a,d){for(var b=[];c&&c!==d;c=c[a]){b.push(c)}return b},j=function(b,a){do{if(b.parentNode===a){return b}b=b.parentNode}while(b)},z=function(c,a,d){var b=d?"nextSibling":"previousSibling";for(q=(P=c).parentNode;P&&P!==a;P=q){q=P.parentNode,(x=O(P===c?P:P[b],b)).length&&(d||x.reverse(),D(k(x)))}};if(1===G.nodeType&&G.hasChildNodes()&&(G=G.childNodes[K]),1===M.nodeType&&M.hasChildNodes()&&(B=F,I=(J=M).childNodes,--B>I.length-1?B=I.length-1:B<0&&(B=0),M=I[B]||J),G===M){return D(k([G]))}for(E=L.findCommonAncestor(G,M),P=G;P;P=P.parentNode){if(P===M){return z(G,E,!0)}if(P===E){break}}for(P=M;P;P=P.parentNode){if(P===G){return z(M,E)}if(P===E){break}}A=j(G,E)||G,H=j(M,E)||M,z(G,A,!0),(x=O(A===G?A:A.nextSibling,"nextSibling",H===M?H.nextSibling:H)).length&&D(k(x)),z(M,H)}},jk=(zK=uW.isText,pJ="text",aD=function(a){return zK(a)?GG.from(a.dom().nodeValue):GG.none()},fL=gk.detect().browser,{get:function(a){if(!zK(a)){throw new Error("Can only get "+pJ+" value of a "+pJ+" node")}return nS(a).getOr("")},getOption:nS=fL.isIE()&&10===fL.version.major?function(b){try{return aD(b)}catch(a){return GG.none()}}:aD,set:function(b,a){if(!zK(b)){throw new Error("Can only set raw "+pJ+" value of a "+pJ+" node")}b.dom().nodeValue=a}}),k1=function(a){return jk.get(a)},iO=function(d,e,c,b){return cO.parent(e).fold(function(){return"skipping"},function(f){return"br"===b||(g=e,uW.isText(g)&&"\ufeff"===k1(g))?"skipping":(a=e,uW.isElement(a)&&jW.has(a,A5())?"existing":lZ(e)?"caret":oI.isValid(d,c,b)&&oI.isValid(d,uW.name(f),c)?"valid":"invalid-child");var a,g})},mR=undefined&&undefined.__rest||function(c,a){var f={};for(var b in c){Object.prototype.hasOwnProperty.call(c,b)&&a.indexOf(b)<0&&(f[b]=c[b])}if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(b=Object.getOwnPropertySymbols(c);d<b.length;d++){a.indexOf(b[d])<0&&(f[b[d]]=c[b[d]])}}return f},d0=function(A,L,w,E,D){var H,P,q=D.uid,x=void 0===q?(H="mce-annotation",P=(new Date).getTime(),H+"_"+Math.floor(1000000000*Math.random())+ ++Cq+String(P)):q,N=mR(D,["uid"]),G=[],K=C4.fromTag("span");jW.add(K,A5()),s5.set(K,""+t4(),x),s5.set(K,""+G7(),w);var M=E(x,N),F=M.attributes,J=void 0===F?{}:F,B=M.classes,I=void 0===B?[]:B;s5.setAll(K,J),w2(K,I);var k=hI(GG.none()),O=function(){k.set(GG.none())},j=function(a){Gj(a,z)},z=function(b){switch(iO(A,b,"span",uW.name(b))){case"invalid-child":O();var a=cO.children(b);j(a),O();break;case"valid":var c=k.get().getOrThunk(function(){var d=GJ(K);return G.push(d),k.set(GG.some(d)),d});zR.wrap(b,c)}};return gX(A.dom,L,function(b){var a;O(),a=G2(b,C4.fromDom),j(a)}),G},qX=function(b,d,e,f){b.undoManager.transact(function(){var h,c,k,g=b.selection.getRng();g.collapsed&&(k=o5(h=b,c=g,[{inline:!0}],!1),c.setStart(k.startContainer,k.startOffset),c.setEnd(k.endContainer,k.endOffset),h.selection.setRng(c));var j=b1.getPersistentBookmark(b.selection,!0),a=b.selection.getRng();d0(b,a,d,e.decorate,f),b.selection.moveToBookmark(j)})};function dD(a){var b=yT();D2(a,b);var c=CW(a,b);return{register:function(f,d){b.register(f,d)},annotate:function(d,e){b.lookup(d).each(function(f){qX(a,d,f,e)})},annotationChanged:function(f,d){c.addListener(f,d)},remove:function(d){vk(a,GG.some(d)).each(function(g){var f=g.elements;Gj(f,nZ.unwrap)})},getAll:function(f){var d=zD(a,f);return CH(d,function(g){return G2(g,function(h){return h.dom()})})}}}var v8=function(a){return bG.grep(a.childNodes,function(b){return"LI"===b.nodeName})},lL=function(b){return b&&b.firstChild&&b.firstChild===b.lastChild&&("\xa0"===(a=b.firstChild).data||o2.isBr(a));var a},Az=function(b){return 0<b.length&&(!(a=b[b.length-1]).firstChild||lL(a))?b.slice(0,-1):b;var a},qz=function(b,a){var c=b.getParent(a,b.isBlock);return c&&"LI"===c.nodeName?c:null},cT=function(c,a){var d=pH.after(c),b=eE(a).prev(d);return b?b.toRange():null},jV=function(f,h,k){var g,j,d,b,c=f.parentNode;return bG.each(h,function(a){c.insertBefore(a,f)}),g=f,j=k,d=pH.before(g),(b=eE(j).next(d))?b.toRange():null},b9=function(h,m){var f,b,d,g,k,l,p=m.firstChild,j=m.lastChild;return p&&"meta"===p.name&&(p=p.next),j&&"mce_marker"===j.attr("id")&&(j=j.prev),b=j,l=(f=h).getNonEmptyElements(),b&&(b.isEmpty(l)||(d=b,f.getBlockElements()[d.name]&&(k=d).firstChild&&k.firstChild===k.lastChild&&("br"===(g=d.firstChild).name||"\xa0"===g.value)))&&(j=j.prev),!(!p||p!==j||"ul"!==p.name&&"ol"!==p.name)},bN=function(Z,O,V,I){var P,L,ad,G,J,ab,R,Y,aa,Q,X,M,W,F,ac,A,K,B,D,z=(P=O,L=I,ab=Z.serialize(L),R=P.createFragment(ab),G=(ad=R).firstChild,J=ad.lastChild,G&&"META"===G.nodeName&&G.parentNode.removeChild(G),J&&"mce_marker"===J.id&&J.parentNode.removeChild(J),ad),H=qz(O,V.startContainer),q=Az(v8(z.firstChild)),j=O.getRoot(),U=function(c){var a=pH.fromRangeStart(V),d=eE(O.getRoot()),b=1===c?d.prev(a):d.next(a);return !b||qz(O,b.getNode())!==H};return U(1)?jV(H,q,j):U(2)?(Y=H,aa=q,Q=j,O.insertAfter(aa.reverse(),Y),cT(aa[0],Q)):(M=q,W=j,F=X=H,A=(ac=V).cloneRange(),K=ac.cloneRange(),A.setStartBefore(F),K.setEndAfter(F),B=[A.cloneContents(),K.cloneContents()],(D=X.parentNode).insertBefore(B[0],X),bG.each(M,function(a){D.insertBefore(a,X)}),D.insertBefore(B[1],X),D.removeChild(X),cT(M[M.length-1],W))},l7=function(b,a){return !!qz(b,a)},kE=bG.each,gz=function(a){this.compare=function(d,b){if(d.nodeName!==b.nodeName){return !1}var f=function(g){var e={};return kE(a.getAttribs(g),function(i){var h=i.nodeName.toLowerCase();0!==h.indexOf("_")&&"style"!==h&&0!==h.indexOf("data-")&&(e[h]=a.getAttrib(g,h))}),e},c=function(i,g){var j,h;for(h in i){if(i.hasOwnProperty(h)){if(void 0===(j=g[h])){return !1}if(i[h]!==j){return !1}delete g[h]}}for(h in g){if(g.hasOwnProperty(h)){return !1}}return !0};return !(!c(f(d),f(b))||!c(a.parseStyle(a.getAttrib(d,"style")),a.parseStyle(a.getAttrib(b,"style")))||BF(d)||BF(b))}},a5=function(b){var a=cj(b,"br"),c=FJ(function(f){for(var d=[],g=f.dom();g;){d.push(C4.fromDom(g)),g=g.lastChild}return d}(b).slice(-1),BZ);a.length===c.length&&Gj(c,nZ.remove)},Dz=function(a){nZ.empty(a),zR.append(a,C4.fromHtml('<br data-mce-bogus="1">'))},uI=function(a){cO.lastChild(a).each(function(b){cO.prevSibling(b).each(function(c){CJ(a)&&BZ(b)&&CJ(c)&&nZ.remove(b)})})},x3=bG.makeMap;function vP(i){var b,g,k,a,h,j=[];return b=(i=i||{}).indent,g=x3(i.indent_before||""),k=x3(i.indent_after||""),a=cQ.getEncodeFunc(i.entity_encoding||"raw",i.entities),h="html"===i.element_format,{start:function(m,f,q){var l,p,d,c;if(b&&g[m]&&0<j.length&&0<(c=j[j.length-1]).length&&"\n"!==c&&j.push("\n"),j.push("<",m),f){for(l=0,p=f.length;l<p;l++){d=f[l],j.push(" ",d.name,'="',a(d.value,!0),'"')}}j[j.length]=!q||h?">":" />",q&&b&&k[m]&&0<j.length&&0<(c=j[j.length-1]).length&&"\n"!==c&&j.push("\n")},end:function(d){var c;j.push("</",d,">"),b&&k[d]&&0<j.length&&0<(c=j[j.length-1]).length&&"\n"!==c&&j.push("\n")},text:function(d,c){0<d.length&&(j[j.length]=c?d:a(d))},cdata:function(c){j.push("<![CDATA[",c,"]]>")},comment:function(c){j.push("\x3c!--",c,"--\x3e")},pi:function(d,c){c?j.push("<?",d," ",a(c),"?>"):j.push("<?",d,"?>"),b&&j.push("\n")},doctype:function(c){j.push("<!DOCTYPE",c,">",b?"\n":"")},reset:function(){j.length=0},getContent:function(){return j.join("").replace(/\n$/,"")}}}function xG(a,b){void 0===b&&(b=vM());var c=vP(a);return(a=a||{}).validate=!("validate" in a)||a.validate,{serialize:function(i){var h,j;j=a.validate,h={3:function(d){c.text(d.value,d.raw)},8:function(d){c.comment(d.value)},7:function(d){c.pi(d.name,d.value)},10:function(d){c.doctype(d.value)},4:function(d){c.cdata(d.value)},11:function(d){if(d=d.firstChild){for(;g(d),d=d.next;){}}}},c.reset();var g=function(q){var y,k,d,f,p,w,x,z,v,m=h[q.type];if(m){m(q)}else{if(y=q.name,k=q.shortEnded,d=q.attributes,j&&d&&1<d.length&&((w=[]).map={},v=b.getElementRule(q.name))){for(x=0,z=v.attributesOrder.length;x<z;x++){(f=v.attributesOrder[x]) in d.map&&(p=d.map[f],w.map[f]=p,w.push({name:f,value:p}))}for(x=0,z=d.length;x<z;x++){(f=d[x].name) in w.map||(p=d.map[f],w.map[f]=p,w.push({name:f,value:p}))}d=w}if(c.start(q.name,d,k),!k){if(q=q.firstChild){for(;g(q),q=q.next;){}}c.end(y)}}};return 1!==i.type||a.inner?h[11](i):g(i),c.getContent()}}}var G0=function(b){var d=pH.fromRangeStart(b),e=pH.fromRangeEnd(b),f=b.commonAncestorContainer;return GW.fromPosition(!1,f,e).map(function(h){return !d7(d,e,f)&&d7(d,h,f)?(c=d.container(),k=d.offset(),g=h.container(),j=h.offset(),(a=document.createRange()).setStart(c,k),a.setEnd(g,j),a):b;var c,k,g,j,a}).getOr(b)},tY=function(a){return a.collapsed?a:G0(a)},u5=o2.matchNodeNames("td th"),E3=function(O,Z,I){var P,L,V,ad,G,J,ab,R,Y,aa,Q,X,M=O.schema.getTextInlineElements(),W=O.selection,F=O.dom;if(/^ | $/.test(Z)&&(Z=function(c){var a,f,b;a=W.getRng(),f=a.startContainer,b=a.startOffset;var d=function(g){return f[g]&&3===f[g].nodeType};return 3===f.nodeType&&(0<b?c=c.replace(/^&nbsp;/," "):d("previousSibling")||(c=c.replace(/^ /,"&nbsp;")),b<f.length?c=c.replace(/&nbsp;(<br>|)$/," "):d("nextSibling")||(c=c.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),c}(Z)),P=O.parser,X=I.merge,L=xG({validate:O.settings.validate},O.schema),Q='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',J={content:Z,format:"html",selection:!0,paste:I.paste},(J=O.fire("BeforeSetContent",J)).isDefaultPrevented()){O.fire("SetContent",{content:J.content,format:"html",selection:!0,paste:I.paste})}else{-1===(Z=J.content).indexOf("{$caret}")&&(Z+="{$caret}"),Z=Z.replace(/\{\$caret\}/,Q);var ac,A,K,B,D=(R=W.getRng()).startContainer||(R.parentElement?R.parentElement():null),z=O.getBody();D===z&&W.isCollapsed()&&F.isBlock(z.firstChild)&&(ac=z.firstChild)&&!O.schema.getShortEndedElements()[ac.nodeName]&&F.isEmpty(z.firstChild)&&((R=F.createRng()).setStart(z.firstChild,0),R.setEnd(z.firstChild,0),W.setRng(R)),W.isCollapsed()||(O.selection.setRng(tY(O.selection.getRng())),O.getDoc().execCommand("Delete",!1,null),K=(A=W.getRng()).startContainer,B=A.startOffset,3===K.nodeType&&A.collapsed&&("\xa0"===K.data[B]?(K.deleteData(B,1),/[\u00a0| ]$/.test(Z)||(Z+=" ")):"\xa0"===K.data[B-1]&&(K.deleteData(B-1,1),/[\u00a0| ]$/.test(Z)||(Z=" "+Z))));var H,q,j,U={context:(V=W.getNode()).nodeName.toLowerCase(),data:I.data,insert:!0};if(G=P.parse(Z,U),!0===I.paste&&b9(O.schema,G)&&l7(F,V)){return R=bN(L,F,O.selection.getRng(),G),O.selection.setRng(R),void O.fire("SetContent",J)}if(function(b){for(var a=b;a=a.walk();){1===a.type&&a.attr("data-mce-fragment","1")}}(G),"mce_marker"===(Y=G.lastChild).attr("id")){for(Y=(ab=Y).prev;Y;Y=Y.walk(!0)){if(3===Y.type||!F.isBlock(Y.name)){O.schema.isValidChild(Y.parent.name,"span")&&Y.parent.insert(ab,Y,"br"===Y.name);break}}}if(O._selectionOverrides.showBlockCaretContainer(V),U.invalid){for(W.setContent(Q),V=W.getNode(),ad=O.getBody(),9===V.nodeType?V=Y=ad:Y=V;Y!==ad;){Y=(V=Y).parentNode}Z=V===ad?ad.innerHTML:F.getOuterHTML(V),Z=L.serialize(P.parse(Z.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return L.serialize(G)}))),V===ad?F.setHTML(ad,Z):F.setOuterHTML(V,Z)}else{Z=L.serialize(G),function(c,a,f){if("all"===f.getAttribute("data-mce-bogus")){f.parentNode.insertBefore(c.dom.createFragment(a),f)}else{var b=f.firstChild,d=f.lastChild;!b||b===d&&"BR"===b.nodeName?c.dom.setHTML(f,a):c.selection.setContent(a)}}(O,Z,V)}!function(){if(X){var b=O.getBody(),a=new gz(F);bG.each(F.select("*[data-mce-fragment]"),function(d){for(var c=d.parentNode;c&&c!==b;c=c.parentNode){M[d.nodeName.toLowerCase()]&&a.compare(c,d)&&F.remove(d,!0)}})}}(),function(c){var a,d,b;if(c){if(W.scrollIntoView(c),a=function(g){for(var f=O.getBody();g&&g!==f;g=g.parentNode){if("false"===O.dom.getContentEditable(g)){return g}}return null}(c)){return F.remove(c),W.select(a)}R=F.createRng(),(Y=c.previousSibling)&&3===Y.nodeType?(R.setStart(Y,Y.nodeValue.length),fW.ie||(aa=c.nextSibling)&&3===aa.nodeType&&(Y.appendData(aa.data),aa.parentNode.removeChild(aa))):(R.setStartBefore(c),R.setEndBefore(c)),d=F.getParent(c,F.isBlock),F.remove(c),d&&F.isEmpty(d)&&(O.$(d).empty(),R.setStart(d,0),R.setEnd(d,0),u5(d)||d.getAttribute("data-mce-fragment")||!(b=function(g){var f=pH.fromRangeStart(g);if(f=eE(O.getBody()).next(f)){return f.toRange()}}(R))?F.add(d,F.create("br",{"data-mce-bogus":"1"})):(R=b,F.remove(d))),W.setRng(R)}}(F.get("mce_marker")),H=O.getBody(),bG.each(H.getElementsByTagName("*"),function(a){a.removeAttribute("data-mce-fragment")}),q=O.dom,j=O.selection.getStart(),GG.from(q.getParent(j,"td,th")).map(C4.fromDom).each(uI),O.fire("SetContent",J),O.addVisual()}},zj=function(c,a){var f,b,d="string"!=typeof(f=a)?(b=bG.extend({paste:f.paste,data:{paste:f.paste}},f),{content:f.content,details:b}):{content:f,details:{}};E3(c,d.content,d.details)},CQ=pK("sections","settings"),DW=gk.detect().deviceType.isTouch(),yN=["lists","autolink","autosave"],B6={theme:"mobile"},wW=function(b){var a=FP(b)?b.join(" "):b,c=G2(EQ(a)?a.split(" "):[],qk);return FJ(c,function(d){return 0<d.length})},BJ=function(g,d){var c,f,b,a=(c=function(i,h){return F5(g,h)},f={},b={},y1(d,function(i,h){(c(i,h)?f:b)[h]=i}),{t:f,f:b});return CQ(a.t,a.f)},tA=function(b,a){return b.sections().hasOwnProperty(a)},Gw=function(g,k,d,b){var c,f=wW(d.forced_plugins),h=wW(b.plugins),j=g&&tA(k,"mobile")?FJ(h,E6(F5,yN)):h,l=(c=j,[].concat(wW(f)).concat(wW(c)));return bG.extend(b,{plugins:l.join(" ")})},rK=function(z,E,k,b){var j,w,C,D,F,B,v,y,A,q,x=BJ(["mobile"],b),h=bG.extend(E,k,x.settings(),(y=z,q=(A=x).settings().inline,y&&tA(A,"mobile")&&!q?(D="mobile",F=B6,B=x.sections(),v=B.hasOwnProperty(D)?B[D]:{},bG.extend({},F,v)):{}),{validate:!0,content_editable:x.settings().inline,external_plugins:(j=k,w=x.settings(),C=w.external_plugins?w.external_plugins:{},j&&j.external_plugins?bG.extend({},j.external_plugins,C):C)});return Gw(z,x,k,h)},oM=function(b,a,c){return GG.from(a.settings[c]).filter(b)},r7=E6(oM,EQ),sR=function(h,f,k,g){var j,d,b,c=f in h.settings?h.settings[f]:k;return"hash"===g?(b={},"string"==typeof(d=c)?Gj(0<d.indexOf("=")?d.split(/[;,](?![^=;,]*(?:[;,]|$))/):d.split(","),function(i){var a=i.split("=");1<a.length?b[bG.trim(a[0])]=bG.trim(a[1]):b[bG.trim(a[0])]=bG.trim(a)}):b=d,b):"string"===g?oM(EQ,h,f).getOr(k):"number"===g?oM(FT,h,f).getOr(k):"boolean"===g?oM(GE,h,f).getOr(k):"object"===g?oM(Fq,h,f).getOr(k):"array"===g?oM(FP,h,f).getOr(k):"string[]"===g?oM((j=EQ,function(a){return FP(a)&&F4(a,j)}),h,f).getOr(k):"function"===g?oM(FU,h,f).getOr(k):c},h8=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,nF=function(c,a){var d=a.container(),b=a.offset();return c?f1(d)?o2.isText(d.nextSibling)?pH(d.nextSibling,0):pH.after(d):hR(a)?pH(d,b+1):a:f1(d)?o2.isText(d.previousSibling)?pH(d.previousSibling,d.previousSibling.data.length):pH.before(d):g7(a)?pH(d,b-1):a},fk={isInlineTarget:function(b,a){var c=r7(b,"inline_boundaries_selector").getOr("a[href],code");return kW.is(C4.fromDom(a),c)},findRootInline:function(g,d,j){var f,h,c,b=(f=g,h=d,c=j,FJ(BG.DOM.getParents(c.container(),"*",h),f));return GG.from(b[b.length-1])},isRtl:function(b){return"rtl"===BG.DOM.getStyle(b,"direction",!0)||(a=b.textContent,h8.test(a));var a},isAtZwsp:function(a){return hR(a)||g7(a)},normalizePosition:nF,normalizeForwards:E6(nF,!0),normalizeBackwards:E6(nF,!1),hasSameParentBlock:function(c,a,f){var b=mY(a,c),d=mY(f,c);return b&&b===d}},eO=function(b,a){return dV.contains(b,a)?DG.closest(a,function(d){return wP(d)||s7(d)},(c=b,function(d){return dV.eq(c,C4.fromDom(d.dom().parentNode))})):GG.none();var c},zU=function(c){var a,d,b;c.dom.isEmpty(c.getBody())&&(c.setContent(""),d=(a=c).getBody(),b=d.firstChild&&a.dom.isBlock(d.firstChild)?d.firstChild:d,a.selection.setCursorLocation(b,0))},pT=function(d,b,c){return GO([GW.firstPositionIn(c),GW.lastPositionIn(c)],function(g,a){var i=fk.normalizePosition(!0,g),f=fk.normalizePosition(!1,a),h=fk.normalizePosition(!1,b);return d?GW.nextPosition(c,h).map(function(j){return j.isEqual(f)&&b.isEqual(i)}).getOr(!1):GW.prevPosition(c,h).map(function(j){return j.isEqual(i)&&b.isEqual(f)}).getOr(!1)}).getOr(!0)},aN=function(b,a,c){return x9(b,a,c).isSome()},fV=function(d,b){return o2.isText(b)&&/^[ \t\r\n]*$/.test(b.data)&&!1===(g=d,c=b,f=C4.fromDom(g),a=C4.fromDom(c),aN(a,"pre,code",E6(dV.eq,f)));var g,c,f,a},n2=function(b,a){return j5(a)&&!1===fV(b,a)||(c=a,o2.isElement(c)&&"A"===c.nodeName&&c.hasAttribute("name"))||o9(a);var c},o9=o2.hasAttribute("data-mce-bookmark"),hL=o2.hasAttribute("data-mce-bogus"),g1=o2.hasAttributeValue("data-mce-bogus","all"),jB=function(a){return function(d){var b,f,c=0;if(n2(d,d)){return !1}if(!(f=d.firstChild)){return !0}b=new AU(f,d);do{if(g1(f)){f=b.next(!0)}else{if(hL(f)){f=b.next()}else{if(o2.isBr(f)){c++,f=b.next()}else{if(n2(d,f)){return !1}f=b.next()}}}}while(f);return c<=1}(a.dom())},k5=pK("block","position"),iS=pK("from","to"),mV=function(c,a){var d=C4.fromDom(c),b=C4.fromDom(a.container());return eO(d,b).map(function(f){return k5(f,a)})},d4=function(d,b,c){var a=mV(d,pH.fromRangeStart(c)),f=a.bind(function(g){return GW.fromPosition(b,d,g.position()).bind(function(h){return mV(d,h).map(function(k){return i=d,l=b,j=k,o2.isBr(j.position().getNode())&&!1===jB(j.block())?GW.positionIn(!1,j.block().dom()).bind(function(m){return m.isEqual(j.position())?GW.fromPosition(l,i,m).bind(function(n){return mV(i,n)}):GG.some(j)}).getOr(j):j;var i,l,j})})});return GO([a,f],iS).filter(function(i){return h=i,!1===dV.eq(h.from().block(),h.to().block())&&(j=i,cO.parent(j.from().block()).bind(function(e){return cO.parent(j.to().block()).filter(function(k){return dV.eq(e,k)})}).isSome())&&(g=i,!1===o2.isContentEditableFalse(g.from().block())&&!1===o2.isContentEditableFalse(g.to().block()));var g,j,h})},q1=function(b,a,c){return c.collapsed?d4(b,a,c):GG.none()},dH=function(b,a,c){return dV.contains(a,b)?cO.parents(b,function(d){return c(d)||dV.eq(d,a)}).slice(0,-1):[]},wq=function(b,a){return dH(b,a,F6(!1))},lP=wq,AE=function(b,a){return[b].concat(wq(b,a))},qE=function(c){var a,d,b=(a=c,d=cO.children(a),F2(d,CJ).fold(function(){return d},function(f){return d.slice(0,f)}));return Gj(b,function(f){nZ.remove(f)}),b},cX=function(b,a){GW.positionIn(b,a.dom()).each(function(d){var c=d.getNode();o2.isBr(c)&&nZ.remove(C4.fromDom(c))})},jZ=function(b,a){var c=AE(a,b);return FI(c.reverse(),jB).each(nZ.remove)},cz=function(b,a){return dV.contains(a,b)?cO.parent(b).bind(function(f){return dV.eq(f,a)?GG.some(b):(c=a,g=b,d=cO.parents(g,function(h){return dV.eq(h,c)}),GG.from(d[d.length-2]));var c,g,d}):GG.none()},bR=function(d,b,c){if(jB(c)){return nZ.remove(c),jB(b)&&Dz(b),GW.firstPositionIn(b.dom())}cX(!0,b),cX(!1,c);var a=qE(b);return cz(b,c).fold(function(){jZ(d,b);var f=GW.lastPositionIn(c.dom());return Gj(a,function(g){zR.append(c,g)}),f},function(f){var g=GW.prevPosition(c.dom(),pH.before(f.dom()));return Gj(a,function(h){zR.before(f,h)}),jZ(d,b),g})},mk=function(c,a,d,b){return a?bR(c,b,d):bR(c,d,b)},kI=function(a,d){var c,b=C4.fromDom(a.getBody());return(c=q1(b.dom(),d,a.selection.getRng()).bind(function(f){return mk(b,d,f.from().block(),f.to().block())})).each(function(f){a.selection.setRng(f.toRange())}),c.isSome()},gE=function(c,a){var d=C4.fromDom(a),b=E6(dV.eq,c);return DG.ancestor(d,oF,b).isSome()},a9=function(d,b){var g,c,f=GW.prevPosition(d.dom(),pH.fromRangeStart(b)).isNone(),a=GW.nextPosition(d.dom(),pH.fromRangeEnd(b)).isNone();return !(gE(g=d,(c=b).startContainer)||gE(g,c.endContainer))&&f&&a},DB=function(g){var j,f,h,d,c=C4.fromDom(g.getBody()),b=g.selection.getRng();return a9(c,b)?((d=g).setContent(""),d.selection.setCursorLocation(),!0):(j=c,f=g.selection,h=f.getRng(),GO([eO(j,C4.fromDom(h.startContainer)),eO(j,C4.fromDom(h.endContainer))],function(i,a){return !1===dV.eq(i,a)&&(h.deleteContents(),mk(j,!0,i,a).each(function(k){f.setRng(k.toRange())}),!0)}).getOr(!1))},uK=function(b,a){return !b.selection.isCollapsed()&&DB(b)},x5=function(b){if(!FP(b)){throw new Error("cases must be an array")}if(0===b.length){throw new Error("there must be at least one case")}var c=[],d={};return Gj(b,function(h,g){var f=EI(h);if(1!==f.length){throw new Error("one and only one name per case")}var j=f[0],a=h[j];if(d[j]!==undefined){throw new Error("duplicate key detected:"+j)}if("cata"===j){throw new Error("cannot have a case named cata (sorry)")}if(!FP(a)){throw new Error("case arguments must be an array")}c.push(j),d[j]=function(){var k=arguments.length;if(k!==a.length){throw new Error("Wrong number of arguments to case "+j+". Expected "+a.length+" ("+a+"), got "+k)}for(var l=new Array(k),i=0;i<l.length;i++){l[i]=arguments[i]}return{fold:function(){if(arguments.length!==b.length){throw new Error("Wrong number of arguments to fold. Expected "+b.length+", got "+arguments.length)}return arguments[g].apply(null,l)},match:function(n){var m=EI(n);if(c.length!==m.length){throw new Error("Wrong number of arguments to match. Expected: "+c.join(",")+"\nActual: "+m.join(","))}if(!F4(c,function(o){return F5(m,o)})){throw new Error("Not all branches were specified when using match. Specified: "+m.join(", ")+"\nRequired: "+c.join(", "))}return n[j].apply(null,l)},log:function(m){console.log(m,{constructors:c,constructor:j,params:l})}}}}),d},vR=x5([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),xI=function(c,a,f,b){var d=b.getNode(!1===a);return eO(C4.fromDom(c),C4.fromDom(f.getNode())).map(function(g){return jB(g)?vR.remove(g.dom()):vR.moveToElement(d)}).orThunk(function(){return GG.some(vR.moveToElement(d))})},A1=function(a,b,d){return GW.fromPosition(b,a,d).bind(function(j){return c=j.getNode(),oF(C4.fromDom(c))||s7(C4.fromDom(c))?GG.none():(g=a,k=j,f=function(i){return yG(C4.fromDom(i))&&!d7(h,k,g)},cD(!(l=b),h=d).fold(function(){return cD(l,k).fold(F6(!1),f)},f)?GG.none():b&&o2.isContentEditableFalse(j.getNode())?xI(a,b,d,j):!1===b&&o2.isContentEditableFalse(j.getNode(!0))?xI(a,b,d,j):b&&kL(d)?GG.some(vR.moveToPosition(j)):!1===b&&mA(d)?GG.some(vR.moveToPosition(j)):GG.none());var g,l,h,k,f,c})},G3=function(g,h,j){return d=h,b=j.getNode(!1===d),c=d?"after":"before",o2.isElement(b)&&b.getAttribute("data-mce-caret")===c?(f=h,k=j.getNode(!1===h),f&&o2.isContentEditableFalse(k.nextSibling)?GG.some(vR.moveToElement(k.nextSibling)):!1===f&&o2.isContentEditableFalse(k.previousSibling)?GG.some(vR.moveToElement(k.previousSibling)):GG.none()).fold(function(){return A1(g,h,j)},GG.some):A1(g,h,j).bind(function(i){return a=g,l=j,i.fold(function(m){return GG.some(vR.remove(m))},function(m){return GG.some(vR.moveToElement(m))},function(m){return d7(l,m,a)?GG.none():GG.some(vR.moveToPosition(m))});var a,l});var f,k,d,b,c},t0=function(d,b){return c=d,f=(g=b).container(),a=g.offset(),!1===pH.isTextPosition(g)&&f===c.parentNode&&a>pH.before(c).offset()?pH(b.container(),b.offset()-1):b;var g,c,f,a},u7=function(b){return j5(b.previousSibling)?GG.some((a=b.previousSibling,o2.isText(a)?pH(a,a.data.length):pH.after(a))):b.previousSibling?GW.lastPositionIn(b.previousSibling):GG.none();var a},E7=function(b){return j5(b.nextSibling)?GG.some((a=b.nextSibling,o2.isText(a)?pH(a,0):pH.before(a))):b.nextSibling?GW.firstPositionIn(b.nextSibling):GG.none();var a},zq=function(a,b){return u7(b).orThunk(function(){return E7(b)}).orThunk(function(){return d=a,c=b,f=pH.before(c.previousSibling?c.previousSibling:c.parentNode),GW.prevPosition(d,f).fold(function(){return GW.nextPosition(d,pH.after(c))},GG.some);var d,c,f})},CS=function(b,a){return E7(a).orThunk(function(){return u7(a)}).orThunk(function(){return d=b,c=a,GW.nextPosition(d,pH.after(c)).fold(function(){return GW.prevPosition(d,pH.before(c))},GG.some);var d,c})},DY=function(d,b,g){return(c=d,f=b,a=g,c?CS(f,a):zq(f,a)).map(E6(t0,g));var c,f,a},yP=function(a,c,b){b.fold(function(){a.focus()},function(d){a.selection.setRng(d.toRange(),c)})},B8=function(b,a){return a&&b.schema.getBlockElements().hasOwnProperty(uW.name(a))},wY=function(b){if(jB(b)){var a=C4.fromHtml('<br data-mce-bogus="1">');return nZ.empty(b),zR.append(b,a),GG.some(pH.before(a.dom()))}return GG.none()},BL=function(k,d,g){var b,h,c,f=DY(d,k.getBody(),g.dom()),j=DG.ancestor(g,E6(B8,k),(b=k.getBody(),function(a){return a.dom()===b})),l=(h=g,c=f,GO([cO.prevSibling(h),cO.nextSibling(h),c],function(q,m,u){var p,s=q.dom(),a=m.dom();return o2.isText(s)&&o2.isText(a)?(p=s.data.length,s.appendData(a.data),nZ.remove(m),nZ.remove(h),u.container()===a?pH(s,p):u):(nZ.remove(h),u)}).orThunk(function(){return nZ.remove(h),c}));k.dom.isEmpty(k.getBody())?(k.setContent(""),k.selection.setCursorLocation()):j.bind(wY).fold(function(){yP(k,d,l)},function(a){yP(k,d,GG.some(a))})},tD=function(b,c){var g,d,i,f,h;return(g=b.getBody(),d=c,i=b.selection.getRng(),f=qH(d?1:-1,g,i),h=pH.fromRangeStart(f),!1===d&&kL(h)?GG.some(vR.remove(h.getNode(!0))):d&&mA(h)?GG.some(vR.remove(h.getNode())):G3(g,d,h)).map(function(l){return l.fold((m=b,a=c,function(n){return m._selectionOverrides.hideFakeCaret(),BL(m,a,C4.fromDom(n)),!0}),(p=b,k=c,function(o){var n=k?pH.before(o):pH.after(o);return p.selection.setRng(n.toRange()),!0}),(j=b,function(n){return j.selection.setRng(n.toRange()),!0}));var j,p,k,m,a}).getOr(!1)},GD=function(c,a){var d,b=c.selection.getNode();return !!o2.isContentEditableFalse(b)&&(d=C4.fromDom(c.getBody()),Gj(cj(d,".mce-offscreen-selection"),nZ.remove),BL(c,a,C4.fromDom(c.selection.getNode())),zU(c),!0)},rM=function(b,a){return b.selection.isCollapsed()?tD(b,a):GD(b,a)},oO=function(b){var a,c=function(f,d){for(;d&&d!==f;){if(o2.isContentEditableTrue(d)||o2.isContentEditableFalse(d)){return d}d=d.parentNode}return null}(b.getBody(),b.selection.getNode());return o2.isContentEditableTrue(c)&&b.dom.isBlock(c)&&b.dom.isEmpty(c)&&(a=b.dom.create("br",{"data-mce-bogus":"1"}),b.dom.setHTML(c,""),c.appendChild(a),b.selection.setRng(pH.before(a).toRange())),!0},r9=o2.isText,sT=function(a){return r9(a)&&a.data[0]===fE},ij=function(a){return r9(a)&&a.data[a.data.length-1]===fE},nH=function(a){return a.ownerDocument.createTextNode(fE)},fz=function(b,a){return b?function(d){if(r9(d.previousSibling)){return ij(d.previousSibling)||d.previousSibling.appendData(fE),d.previousSibling}if(r9(d)){return sT(d)||d.insertData(0,fE),d}var c=nH(d);return d.parentNode.insertBefore(c,d),c}(a):function(d){if(r9(d.nextSibling)){return sT(d.nextSibling)||d.nextSibling.insertData(0,fE),d.nextSibling}if(r9(d)){return ij(d)||d.appendData(fE),d}var c=nH(d);return d.nextSibling?d.parentNode.insertBefore(c,d.nextSibling):d.parentNode.appendChild(c),c}(a)},eQ=E6(fz,!0),zW=E6(fz,!1),pV=function(b,a){return o2.isText(b.container())?fz(a,b.container()):fz(a,b.getNode())},aP=function(b,a){var c=a.get();return c&&b.container()===c&&f1(c)},fX=function(b,a){return a.fold(function(d){tO.remove(b.get());var c=eQ(d);return b.set(c),GG.some(pH(c,c.length-1))},function(c){return GW.firstPositionIn(c).map(function(f){if(aP(f,b)){return pH(b.get(),1)}tO.remove(b.get());var d=pV(f,!0);return b.set(d),pH(d,1)})},function(c){return GW.lastPositionIn(c).map(function(f){if(aP(f,b)){return pH(b.get(),b.get().length-1)}tO.remove(b.get());var d=pV(f,!1);return b.set(d),pH(d,d.length-1)})},function(d){tO.remove(b.get());var c=zW(d);return b.set(c),GG.some(pH(c,1))})},n4=function(c,a){for(var d=0;d<c.length;d++){var b=c[d].apply(null,a);if(b.isSome()){return b}}return GG.none()},pk=x5([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),hN=function(b,a){var c=mY(a,b);return c||b},g3=function(c,a,f){var b=fk.normalizeForwards(f),d=hN(a,b.container());return fk.findRootInline(c,d,b).fold(function(){return GW.nextPosition(d,b).bind(E6(fk.findRootInline,c,d)).map(function(g){return pk.before(g)})},GG.none)},jE=function(b,a){return null===j9(b,a)},k7=function(b,a,c){return fk.findRootInline(b,a,c).filter(E6(jE,a))},iU=function(c,a,d){var b=fk.normalizeBackwards(d);return k7(c,a,b).bind(function(f){return GW.prevPosition(f,b).isNone()?GG.some(pk.start(f)):GG.none()})},mX=function(c,a,d){var b=fk.normalizeForwards(d);return k7(c,a,b).bind(function(f){return GW.nextPosition(f,b).isNone()?GG.some(pk.end(f)):GG.none()})},d6=function(c,a,f){var b=fk.normalizeBackwards(f),d=hN(a,b.container());return fk.findRootInline(c,d,b).fold(function(){return GW.prevPosition(d,b).bind(E6(fk.findRootInline,c,d)).map(function(g){return pk.after(g)})},GG.none)},q3=function(a){return !1===fk.isRtl(wA(a))},dJ=function(b,a,c){return n4([g3,iU,mX,d6],[b,a,c]).filter(q3)},wA=function(a){return a.fold(ES,ES,ES,ES)},lR=function(a){return a.fold(F6("before"),F6("start"),F6("end"),F6("after"))},AG=function(a){return a.fold(pk.before,pk.before,pk.after,pk.after)},qG=function(g,d,c,b,f,a){return GO([fk.findRootInline(d,c,b),fk.findRootInline(d,c,f)],function(i,h){return i!==h&&fk.hasSameParentBlock(c,i,h)?pk.after(g?i:h):a}).getOr(a)},cZ=function(b,a){return b.fold(F6(!0),function(d){return f=a,!(lR(c=d)===lR(f)&&wA(c)===wA(f));var c,f})},j1=function(b,a){return b?a.fold(EF(GG.some,pk.start),GG.none,EF(GG.some,pk.after),GG.none):a.fold(GG.none,EF(GG.some,pk.before),GG.none,EF(GG.some,pk.end))},cB=function(d,f,g,i){var h=fk.normalizePosition(d,i),b=dJ(f,g,h);return dJ(f,g,h).bind(E6(j1,d)).orThunk(function(){return c=d,m=f,j=g,l=b,k=i,a=fk.normalizePosition(c,k),GW.fromPosition(c,j,a).map(E6(fk.normalizePosition,c)).fold(function(){return l.map(AG)},function(n){return dJ(m,j,n).map(E6(qG,c,m,j,a,n)).filter(E6(cZ,l))}).filter(q3);var c,m,j,l,k,a})},bT=dJ,mz=cB,kK=(E6(cB,!1),E6(cB,!0),AG),gG=function(a){return a.fold(pk.start,pk.start,pk.end,pk.end)},bk=function(a){return FU(a.selection.getSel().modify)},C8=function(c,a,d){var b=c?1:-1;return a.setRng(pH(d.container(),d.offset()+b).toRange()),a.getSel().modify("move",c?"forward":"backward","word"),!0},uD=function(c,a){var d=a.selection.getRng(),b=c?pH.fromRangeEnd(d):pH.fromRangeStart(d);return !!bk(a)&&(c&&hR(b)?C8(!0,a.selection,b):!(c||!g7(b))&&C8(!1,a.selection,b))},xY=function(b,a){var c=b.dom.createRng();c.setStart(a.container(),a.offset()),c.setEnd(a.container(),a.offset()),b.selection.setRng(c)},vK=function(a){return !1!==a.settings.inline_boundaries},xA=function(b,a){b?a.setAttribute("data-mce-selected","inline-boundary"):a.removeAttribute("data-mce-selected")},AV=function(a,b,c){return fX(b,c).map(function(d){return xY(a,d),c})},GV=function(b,a,c){return function(){return !!vK(a)&&uD(b,a)}},tT={move:function(b,c,d){return function(){return !!vK(b)&&(f=b,k=c,h=d,g=f.getBody(),j=pH.fromRangeStart(f.selection.getRng()),a=E6(fk.isInlineTarget,f),mz(h,a,g,j).bind(function(i){return AV(f,k,i)})).isSome();var f,k,h,g,j,a}},moveNextWord:E6(GV,!0),movePrevWord:E6(GV,!1),setupSelectedState:function(b){var c=hI(null),d=E6(fk.isInlineTarget,b);return b.on("NodeChange",function(h){var f,k,g,j,a;vK(b)&&(f=d,k=b.dom,g=h.parents,j=FJ(k.select('*[data-mce-selected="inline-boundary"]'),f),a=FJ(g,f),Gj(FA(j,a),E6(xA,!1)),Gj(FA(a,j),E6(xA,!0)),function(l,i){if(l.selection.isCollapsed()&&!0!==l.composing&&i.get()){var m=pH.fromRangeStart(l.selection.getRng());pH.isTextPosition(m)&&!1===fk.isAtZwsp(m)&&(xY(l,tO.removeAndReposition(i.get(),m)),i.set(null))}}(b,c),function(q,l,p,m){if(l.selection.isCollapsed()){var i=FJ(m,q);Gj(i,function(o){var n=pH.fromRangeStart(l.selection.getRng());bT(q,l.getBody(),n).bind(function(r){return AV(l,p,r)})})}}(d,b,c,h.parents))}),c},setCaretPosition:xY},u0=function(a,b){return function(c){return fX(b,c).map(function(d){return tT.setCaretPosition(a,d),!0}).getOr(!1)}},ER=function(f,g,d,b){var c=f.getBody(),e=E6(fk.isInlineTarget,f);f.undoManager.ignore(function(){var h,a,i;f.selection.setRng((h=d,a=b,(i=document.createRange()).setStart(h.container(),h.offset()),i.setEnd(a.container(),a.offset()),i)),f.execCommand("Delete"),bT(e,c,pH.fromRangeStart(f.selection.getRng())).map(gG).map(u0(f,g))}),f.nodeChanged()},y5=function(d,b,f,c){var g,k,h=(g=d.getBody(),k=c.container(),mY(k,g)||g),j=E6(fk.isInlineTarget,d),l=bT(j,h,c);return l.bind(function(a){return f?a.fold(F6(GG.some(gG(a))),GG.none,F6(GG.some(kK(a))),GG.none):a.fold(GG.none,F6(GG.some(kK(a))),GG.none,F6(GG.some(gG(a))))}).map(u0(d,b)).getOrThunk(function(){var a=GW.navigate(f,h,c),i=a.bind(function(m){return bT(j,h,m)});return l.isSome()&&i.isSome()?fk.findRootInline(j,h,c).map(function(m){return n=m,!!GO([GW.firstPositionIn(n),GW.lastPositionIn(n)],function(q,o){var s=fk.normalizePosition(!0,q),p=fk.normalizePosition(!1,o);return GW.nextPosition(n,s).map(function(r){return r.isEqual(p)}).getOr(!0)}).getOr(!0)&&(BL(d,f,C4.fromDom(m)),!0);var n}).getOr(!1):i.bind(function(m){return a.map(function(n){return f?ER(d,b,c,n):ER(d,b,n,c),!0})}).getOr(!1)})},CL=function(c,a,d){if(c.selection.isCollapsed()&&!1!==c.settings.inline_boundaries){var b=pH.fromRangeStart(c.selection.getRng());return y5(c,a,d,b)}return !1},DR=pK("start","end"),yI=pK("rng","table","cells"),B1=x5([{removeTable:["element"]},{emptyCells:["cells"]}]),wR=function(b,a){return xM(C4.fromDom(b),"td,th",a)},BE=function(b,a){return x9(b,"table",a)},s9=function(a){return !1===dV.eq(a.start(),a.end())},F1=function(a,b){return BE(a.start(),b).bind(function(c){return BE(a.end(),b).bind(function(d){return dV.eq(c,d)?GG.some(c):GG.none()})})},rF=function(a){return cj(a,"td,th")},oH=function(b,c){var a=wR(c.startContainer,b),d=wR(c.endContainer,b);return c.collapsed?GG.none():GO([a,d],DR).fold(function(){return a.fold(function(){return d.bind(function(e){return BE(e,b).bind(function(f){return DA(rF(f)).map(function(g){return DR(g,e)})})})},function(e){return BE(e,b).bind(function(f){return uJ(rF(f)).map(function(g){return DR(e,g)})})})},function(g){return r2(b,g)?GG.none():(h=b,BE((f=g).start(),h).bind(function(i){return uJ(rF(i)).map(function(j){return DR(f.start(),j)})}));var f,h})},r2=function(b,a){return F1(a,b).isSome()},sM=function(h,f){var k,g,j,d,b,c=(k=h,E6(dV.eq,k));return(g=f,j=c,d=wR(g.startContainer,j),b=wR(g.endContainer,j),GO([d,b],DR).filter(s9).filter(function(a){return r2(j,a)}).orThunk(function(){return oH(j,g)})).bind(function(i){return F1(a=i,c).map(function(l){return yI(a,l,rF(l))});var a})},h3=function(b,a){return F2(b,function(c){return dV.eq(c,a)})},nz=function(b){return(a=b,GO([h3(a.cells(),a.rng().start()),h3(a.cells(),a.rng().end())],function(d,c){return a.cells().slice(d,c+1)})).map(function(d){var c=b.cells();return d.length===c.length?B1.removeTable(b.table()):B1.emptyCells(d)});var a},e6=function(b,a){return sM(b,a).bind(nz)},eJ=function(b){var a=[];if(b){for(var c=0;c<b.rangeCount;c++){a.push(b.getRangeAt(c))}}return a},zP=eJ,pO=function(a){return F8(a,function(c){var b=xR(c);return b?[C4.fromDom(b)]:[]})},aI=function(a){return 1<eJ(a).length},fQ=function(a){return FJ(pO(a),oF)},nX=function(a){return cj(a,"td[data-mce-selected],th[data-mce-selected]")},o4=function(c,a){var d=nX(a),b=fQ(c);return 0<d.length?d:b},hG=o4,gW=function(a){return o4(zP(a.selection.getSel()),C4.fromDom(a.getBody()))},jj=function(b,a){return Gj(a,Dz),b.selection.setCursorLocation(a[0].dom(),0),!0},k0=function(b,a){return BL(b,!1,a),!0},iN=function(d,c,b,a){return dZ(c,a).fold(function(){return e=d,e6(c,b).map(function(f){return f.fold(E6(k0,e),E6(jj,e))});var e},function(f){return qW(d,f)}).getOr(!1)},mQ=function(b,a){return FI(AE(a,b),oF)},dZ=function(b,a){return FI(AE(a,b),function(c){return"caption"===uW.name(c)})},qW=function(b,a){return Dz(a),b.selection.setCursorLocation(a.dom(),0),GG.some(!0)},dB=function(b,d,g,a,e){return GW.navigate(g,b.getBody(),e).bind(function(k){return j=a,l=g,f=e,c=k,GW.firstPositionIn(j.dom()).bind(function(i){return GW.lastPositionIn(j.dom()).map(function(n){return l?f.isEqual(i)&&c.isEqual(n):f.isEqual(n)&&c.isEqual(i)})}).getOr(!0)?qW(b,a):(h=a,m=k,dZ(d,C4.fromDom(m.getNode())).map(function(i){return !1===dV.eq(i,h)}));var h,m,j,l,f,c}).or(GG.some(!0))},v7=function(b,d,f,g){var h=pH.fromRangeStart(b.selection.getRng());return mQ(f,g).bind(function(k){return jB(k)?qW(b,k):(c=b,m=f,j=d,l=k,a=h,GW.navigate(j,c.getBody(),a).bind(function(i){return mQ(m,C4.fromDom(i.getNode())).map(function(n){return !1===dV.eq(n,l)})}));var c,m,j,l,a})},lK=function(b,c,f){var d=C4.fromDom(b.getBody());return dZ(d,f).fold(function(){return v7(b,c,d,f)},function(j){return g=b,l=c,h=d,k=j,a=pH.fromRangeStart(g.selection.getRng()),jB(k)?qW(g,k):dB(g,h,l,k,a);var g,l,h,k,a}).getOr(!1)},Aq=function(g,k){var d,b,c,f,h,j=C4.fromDom(g.selection.getStart(!0)),l=gW(g);return g.selection.isCollapsed()&&0===l.length?lK(g,k,j):(d=g,b=j,c=C4.fromDom(d.getBody()),f=d.selection.getRng(),0!==(h=gW(d)).length?jj(d,h):iN(d,c,f,b))},qq=function(b,a){b.getDoc().execCommand(a,!1,null)},cS=function(a){rM(a,!1)||CL(a,!1)||kI(a,!1)||Aq(a)||uK(a,!1)||(qq(a,"Delete"),zU(a))},jU=function(a){rM(a,!0)||CL(a,!0)||kI(a,!0)||Aq(a)||uK(a,!0)||qq(a,"ForwardDelete")},b8=function(a){return function(b,c){return GG.from(c).map(C4.fromDom).filter(uW.isElement).bind(function(j){return(h=a,k=b,f=j.dom(),d=function(i){return zL(i,h)},DG.closest(C4.fromDom(f),function(i){return d(i).isSome()},function(i){return dV.eq(C4.fromDom(k),i)}).bind(d)).or((g=a,l=j.dom(),GG.from(BG.DOM.getStyle(l,g,!0))));var g,l,h,k,f,d}).getOr("")}},bM={getFontSize:b8("font-size"),getFontFamily:EF(function(a){return a.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},b8("font-family")),toPt:function(c,a){return/[0-9.]+px$/.test(c)?(f=72*parseInt(c,10)/96,b=a||0,d=Math.pow(10,b),Math.round(f*d)/d+"pt"):c;var f,b,d}},l6=function(a){return GW.firstPositionIn(a.getBody()).map(function(c){var b=c.container();return o2.isText(b)?b.parentNode:b})},kD=function(a){return GG.from(a.selection.getRng()).bind(function(d){var b,f,c=a.getBody();return f=c,(b=d).startContainer===f&&0===b.startOffset?GG.none():GG.from(a.selection.getStart(!0))})},gq=function(c,a){if(/^[0-9\.]+$/.test(a)){var f=parseInt(a,10);if(1<=f&&f<=7){var b=E9(c),d=zz(c);return d?d[f-1]||a:b[f-1]||a}return a}return a},a4=function(b,a){return b&&a&&b.startContainer===a.startContainer&&b.startOffset===a.startOffset&&b.endContainer===a.endContainer&&b.endOffset===a.endOffset},Dq=function(b,a,c){return null!==function(f,d,g){for(;f&&f!==d;){if(g(f)){return f}f=f.parentNode}return null}(b,a,c)},uH=function(b,a,c){return Dq(b,a,function(d){return d.nodeName===c})},x2=function(a){return a&&"TABLE"===a.nodeName},vO=function(c,a,d){for(var b=new AU(a,c.getParent(a.parentNode,c.isBlock)||c.getRoot());a=b[d?"prev":"next"]();){if(o2.isBr(a)){return !0}}},xF=function(p,y,h,b,g){var k,w,x,z,v,j,m=p.getRoot(),q=p.schema.getNonEmptyElements();if(x=p.getParent(g.parentNode,p.isBlock)||m,b&&o2.isBr(g)&&y&&p.isEmpty(x)){return GG.some(eZ(g.parentNode,p.nodeIndex(g)))}for(k=new AU(g,x);z=k[b?"prev":"next"]();){if("false"===p.getContentEditableParent(z)||(j=m,n8(v=z)&&!1===Dq(v,j,lZ))){return GG.none()}if(o2.isText(z)&&0<z.nodeValue.length){return !1===uH(z,m,"A")?GG.some(eZ(z,b?z.nodeValue.length:0)):GG.none()}if(p.isBlock(z)||q[z.nodeName.toLowerCase()]){return GG.none()}w=z}return h&&w?GG.some(eZ(w,0)):GG.none()},AZ=function(z,E,k,b){var j,w,C,D,F,B,v,y,A,q,x=z.getRoot(),h=!1;if(j=b[(k?"start":"end")+"Container"],w=b[(k?"start":"end")+"Offset"],v=o2.isElement(j)&&w===j.childNodes.length,F=z.schema.getNonEmptyElements(),B=k,n8(j)){return GG.none()}if(o2.isElement(j)&&w>j.childNodes.length-1&&(B=!1),o2.isDocument(j)&&(j=x,w=0),j===x){if(B&&(D=j.childNodes[0<w?w-1:0])){if(n8(D)){return GG.none()}if(F[D.nodeName]||x2(D)){return GG.none()}}if(j.hasChildNodes()){if(w=Math.min(!B&&0<w?w-1:w,j.childNodes.length-1),j=j.childNodes[w],w=o2.isText(j)&&v?j.data.length:0,!E&&j===x.lastChild&&x2(j)){return GG.none()}if(function(c,a){for(;a&&a!==c;){if(o2.isContentEditableFalse(a)){return !0}a=a.parentNode}return !1}(x,j)||n8(j)){return GG.none()}if(j.hasChildNodes()&&!1===x2(j)){C=new AU(D=j,x);do{if(o2.isContentEditableFalse(D)||n8(D)){h=!1;break}if(o2.isText(D)&&0<D.nodeValue.length){w=B?0:D.nodeValue.length,j=D,h=!0;break}if(F[D.nodeName.toLowerCase()]&&(!(y=D)||!/^(TD|TH|CAPTION)$/.test(y.nodeName))){w=z.nodeIndex(D),j=D.parentNode,B||w++,h=!0;break}}while(D=B?C.next():C.prev())}}}return E&&(o2.isText(j)&&0===w&&xF(z,v,E,!0,j).each(function(a){j=a.container(),w=a.offset(),h=!0}),o2.isElement(j)&&((D=j.childNodes[w])||(D=j.childNodes[w-1]),!D||!o2.isBr(D)||(q="A",(A=D).previousSibling&&A.previousSibling.nodeName===q)||vO(z,D,!1)||vO(z,D,!0)||xF(z,v,E,!0,D).each(function(a){j=a.container(),w=a.offset(),h=!0}))),B&&!E&&o2.isText(j)&&w===j.nodeValue.length&&xF(z,v,E,!1,j).each(function(a){j=a.container(),w=a.offset(),h=!0}),h?GG.some(eZ(j,w)):GG.none()},GZ=function(c,a){var f=a.collapsed,b=a.cloneRange(),d=eZ.fromRangeStart(a);return AZ(c,f,!0,b).each(function(g){f&&eZ.isAbove(d,g)||b.setStart(g.container(),g.offset())}),f||AZ(c,f,!1,b).each(function(g){b.setEnd(g.container(),g.offset())}),f&&b.collapse(!0),a4(a,b)?GG.none():GG.some(b)},tX=function(c,a,d){var b=c.create("span",{},"&nbsp;");d.parentNode.insertBefore(b,d),a.scrollIntoView(b),c.remove(b)},u4=function(c,a,f,b){var d=c.createRng();b?(d.setStartBefore(f),d.setEndBefore(f)):(d.setStartAfter(f),d.setEndAfter(f)),a.setRng(d)},E1=function(v,A){var h,b,g=v.selection,p=v.dom,y=g.getRng();GZ(p,y).each(function(a){y.setStart(a.startContainer,a.startOffset),y.setEnd(a.endContainer,a.endOffset)});var z=y.startOffset,B=y.startContainer;if(1===B.nodeType&&B.hasChildNodes()){var x=z>B.childNodes.length-1;B=B.childNodes[Math.min(z,B.childNodes.length-1)]||B,z=x&&3===B.nodeType?B.nodeValue.length:0}var k=p.getParent(B,p.isBlock),q=k?p.getParent(k.parentNode,p.isBlock):null,w=q?q.nodeName.toUpperCase():"",j=A&&A.ctrlKey;"LI"!==w||j||(k=q),B&&3===B.nodeType&&z>=B.nodeValue.length&&(function(f,c,m){for(var d,l=new AU(c,m),a=f.getNonEmptyElements();d=l.next();){if(a[d.nodeName.toLowerCase()]||0<d.length){return !0}}}(v.schema,B,k)||(h=p.create("br"),y.insertNode(h),y.setStartAfter(h),y.setEndAfter(h),b=!0)),h=p.create("br"),y.insertNode(h),tX(p,g,h),u4(p,g,h,b),v.undoManager.add()},y9=function(b,a){var c=C4.fromTag("br");zR.before(C4.fromDom(a),c),b.undoManager.add()},CP=function(b,a){DV(b.getBody(),a)||zR.after(C4.fromDom(a),C4.fromTag("br"));var c=C4.fromTag("br");zR.after(C4.fromDom(a),c),tX(b.dom,b.selection,c.dom()),u4(b.dom,b.selection,c.dom(),!1),b.undoManager.add()},DV=function(b,a){return c=pH.after(a),!!o2.isBr(c.getNode())||GW.nextPosition(b,pH.after(a)).map(function(d){return o2.isBr(d.getNode())}).getOr(!1);var c},yM=function(a){return a&&"A"===a.nodeName&&"href" in a},B5=function(a){return a.fold(F6(!1),yM,yM,F6(!1))},wV=function(b,a){a.fold(D9,E6(y9,b),E6(CP,b),D9)},BI=function(d,b){var g,c,f,a=(g=d,c=E6(fk.isInlineTarget,g),f=pH.fromRangeStart(g.selection.getRng()),bT(c,g.getBody(),f).filter(B5));a.isSome()?a.each(E6(wV,d)):E1(d,b)},tz=x5([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Gk=(tz.before,tz.on,tz.after,function(a){return a.fold(ES,ES,ES)}),rJ=x5([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),oL=pK("start","soffset","finish","foffset"),r6={domRange:rJ.domRange,relative:rJ.relative,exact:rJ.exact,exactFromRange:function(a){return rJ.exact(a.start(),a.soffset(),a.finish(),a.foffset())},range:oL,getWin:function(b){var a=b.match({domRange:function(c){return C4.fromDom(c.startContainer)},relative:function(d,c){return Gk(d)},exact:function(f,c,g,d){return f}});return cO.defaultView(a)}},sQ=gk.detect().browser,h7=function(b,a){var c=uW.isText(a)?k1(a).length:cO.children(a).length+1;return c<b?c:b<0?0:b},nE=function(a){return r6.range(a.start(),h7(a.soffset(),a.start()),a.finish(),h7(a.foffset(),a.finish()))},fj=function(b,a){return dV.contains(b,a)||dV.eq(b,a)},eN=function(a){return function(b){return fj(a,b.start())&&fj(a,b.finish())}},zT=function(a){return !0===a.inline||sQ.isIE()},pS=function(a){return r6.range(C4.fromDom(a.startContainer),a.startOffset,C4.fromDom(a.endContainer),a.endOffset)},aM=function(b){var a=b.getSelection();return(a&&0!==a.rangeCount?GG.from(a.getRangeAt(0)):GG.none()).map(pS)},fU=function(b){var a=cO.defaultView(b);return aM(a.dom()).filter(eN(b))},n1=function(b,a){return GG.from(a).filter(eN(b)).map(nE)},o8=function(b){var a=document.createRange();try{return a.setStart(b.start().dom(),b.soffset()),a.setEnd(b.finish().dom(),b.foffset()),GG.some(a)}catch(c){return GG.none()}},hK=function(a){return(a.bookmark?a.bookmark:GG.none()).bind(E6(n1,C4.fromDom(a.getBody()))).bind(o8)},g0=function(b){var a=zT(b)?fU(C4.fromDom(b.getBody())):GG.none();b.bookmark=a.isSome()?a:b.bookmark},jA=function(a){hK(a).each(function(b){a.selection.setRng(b)})},k4=hK,iR=function(g,k){var d=g.settings,b=g.dom,c=g.selection,f=g.formatter,h=/[a-z%]+$/i.exec(d.indentation)[0],j=parseInt(d.indentation,10),l=g.getParam("indent_use_margin",!1);g.queryCommandState("InsertUnorderedList")||g.queryCommandState("InsertOrderedList")||(d.forced_root_block||b.getParent(c.getNode(),b.isBlock)||f.apply("div"),Gj(c.getSelectedBlocks(),function(a){return function(w,s,y,v,x,q){if("false"!==w.getContentEditable(q)&&"LI"!==q.nodeName){var m=y?"margin":"padding";if(m="TABLE"===q.nodeName?"margin":m,m+="rtl"===w.getStyle(q,"direction",!0)?"Right":"Left","outdent"===s){var p=Math.max(0,parseInt(q.style[m]||0,10)-v);w.setStyle(q,m,p?p+x:"")}else{p=parseInt(q.style[m]||0,10)+v+x,w.setStyle(q,m,p)}}}(b,k,l,j,h,a)}))},mU=bG.each,d3=bG.extend,q0=bG.map,dG=bG.inArray;function wk(F){var j,w,C,E,B={state:{},exec:{},value:{}},k=F.settings;F.on("PreInit",function(){j=F.dom,w=F.selection,k=F.settings,C=F.formatter});var b=function(c){var a;if(!F.quirks.isHidden()&&!F.removed){if(c=c.toLowerCase(),a=B.state[c]){return a(c)}try{return F.getDoc().queryCommandState(c)}catch(d){}return !1}},z=function(a,c){c=c||"exec",mU(a,function(d,f){mU(f.toLowerCase().split(","),function(g){B[c][g]=d})})},D=function(c,a,d){c=c.toLowerCase(),B.value[c]=function(){return a.call(d||F)}};d3(this,{execCommand:function(g,s,l,m){var p,f,c=!1;if(!F.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(g)||m&&m.skip_focus?jA(F):F.focus(),(m=F.fire("BeforeExecCommand",{command:g,ui:s,value:l})).isDefaultPrevented()){return !1}if(f=g.toLowerCase(),p=B.exec[f]){return p(f,s,l),F.fire("ExecCommand",{command:g,ui:s,value:l}),!0}if(mU(F.plugins,function(a){if(a.execCommand&&a.execCommand(g,s,l)){return F.fire("ExecCommand",{command:g,ui:s,value:l}),!(c=!0)}}),c){return c}if(F.theme&&F.theme.execCommand&&F.theme.execCommand(g,s,l)){return F.fire("ExecCommand",{command:g,ui:s,value:l}),!0}try{c=F.getDoc().execCommand(g,s,l)}catch(d){}return !!c&&(F.fire("ExecCommand",{command:g,ui:s,value:l}),!0)}},queryCommandState:b,queryCommandValue:function(c){var a;if(!F.quirks.isHidden()&&!F.removed){if(c=c.toLowerCase(),a=B.value[c]){return a(c)}try{return F.getDoc().queryCommandValue(c)}catch(d){}}},queryCommandSupported:function(c){if(c=c.toLowerCase(),B.exec[c]){return !0}try{return F.getDoc().queryCommandSupported(c)}catch(a){}return !1},addCommands:z,addCommand:function(c,d,a){c=c.toLowerCase(),B.exec[c]=function(i,f,l,g){return d.call(a||F,f,l,g)}},addQueryStateHandler:function(c,a,d){c=c.toLowerCase(),B.state[c]=function(){return a.call(d||F)}},addQueryValueHandler:D,hasCustomCommand:function(a){return a=a.toLowerCase(),!!B.exec[a]}});var v=function(c,a,d){return a===undefined&&(a=!1),d===undefined&&(d=null),F.getDoc().execCommand(c,a,d)},y=function(a){return C.match(a)},A=function(c,a){C.toggle(c,a?{value:a}:undefined),F.nodeChanged()},q=function(a){E=w.getBookmark(a)},x=function(){w.moveToBookmark(E)};z({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){F.undoManager.add()},"Cut,Copy,Paste":function(d){var a,g=F.getDoc();try{v(d)}catch(f){a=!0}if("paste"!==d||g.queryCommandEnabled(d)||(a=!0),a||!g.queryCommandSupported(d)){var c=F.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");fW.mac&&(c=c.replace(/Ctrl\+/g,"\u2318+")),F.notificationManager.open({text:c,type:"error"})}},unlink:function(){if(w.isCollapsed()){var a=F.dom.getParent(F.selection.getStart(),"a");a&&F.dom.remove(a,!0)}else{C.remove("link")}},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var a=c.substring(7);"full"===a&&(a="justify"),mU("left,center,right,justify".split(","),function(d){a!==d&&C.remove("align"+d)}),"none"!==a&&A("align"+a)},"InsertUnorderedList,InsertOrderedList":function(c){var a,d;v(c),(a=j.getParent(w.getNode(),"ol,ul"))&&(d=a.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(d.nodeName)&&(q(),j.split(d,a),x()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){A(a)},"ForeColor,HiliteColor":function(c,a,d){A(c,d)},FontName:function(d,a,g){var c,f;f=g,(c=F).formatter.toggle("fontname",{value:gq(c,f)}),c.nodeChanged()},FontSize:function(d,a,g){var c,f;f=g,(c=F).formatter.toggle("fontsize",{value:gq(c,f)}),c.nodeChanged()},RemoveFormat:function(a){C.remove(a)},mceBlockQuote:function(){A("blockquote")},FormatBlock:function(c,a,d){return A(d||"p")},mceCleanup:function(){var a=w.getBookmark();F.setContent(F.getContent()),w.moveToBookmark(a)},mceRemoveNode:function(d,a,f){var c=f||w.getNode();c!==F.getBody()&&(q(),F.dom.remove(c,!0),x())},mceSelectNodeDepth:function(d,a,f){var c=0;j.getParent(w.getNode(),function(g){if(1===g.nodeType&&c++===f){return w.select(g),!1}},F.getBody())},mceSelectNode:function(c,a,d){w.select(d)},mceInsertContent:function(c,a,d){zj(F,d)},mceInsertRawHTML:function(d,a,f){var c=F.getContent();w.setContent("tiny_mce_marker"),F.setContent(c.replace(/tiny_mce_marker/g,function(){return f}))},mceToggleFormat:function(c,a,d){A(d)},mceSetContent:function(c,a,d){F.setContent(d)},"Indent,Outdent":function(a){iR(F,a)},mceRepaint:function(){},InsertHorizontalRule:function(){F.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){F.hasVisual=!F.hasVisual,F.addVisual()},mceReplaceContent:function(c,a,d){F.execCommand("mceInsertContent",!1,d.replace(/\{\$selection\}/g,w.getContent({format:"text"})))},mceInsertLink:function(d,a,f){var c;"string"==typeof f&&(f={href:f}),c=j.getParent(w.getNode(),"a"),f.href=f.href.replace(" ","%20"),c&&f.href||C.remove("link"),f.href&&C.apply("link",f,c)},selectAll:function(){var c=j.getParent(w.getStart(),o2.isContentEditableTrue);if(c){var a=j.createRng();a.selectNodeContents(c),w.setRng(a)}},"delete":function(){cS(F)},forwardDelete:function(){jU(F)},mceNewDocument:function(){F.setContent("")},InsertLineBreak:function(c,a,d){return BI(F,d),!0}});var h=function(a){return function(){var d=w.isCollapsed()?[j.getParent(w.getNode(),j.isBlock)]:w.getSelectedBlocks(),c=q0(d,function(f){return !!C.matchNode(f,a)});return -1!==dG(c,!0)}};z({JustifyLeft:h("alignleft"),JustifyCenter:h("aligncenter"),JustifyRight:h("alignright"),JustifyFull:h("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return y(a)},mceBlockQuote:function(){return y("blockquote")},Outdent:function(){var a;if(k.inline_styles){if((a=j.getParent(w.getStart(),j.isBlock))&&0<parseInt(a.style.paddingLeft,10)){return !0}if((a=j.getParent(w.getEnd(),j.isBlock))&&0<parseInt(a.style.paddingLeft,10)){return !0}}return b("InsertUnorderedList")||b("InsertOrderedList")||!k.inline_styles&&!!j.getParent(w.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(c){var a=j.getParent(w.getNode(),"ul,ol");return a&&("insertunorderedlist"===c&&"UL"===a.tagName||"insertorderedlist"===c&&"OL"===a.tagName)}},"state"),z({Undo:function(){F.undoManager.undo()},Redo:function(){F.undoManager.redo()}}),D("FontName",function(){return kD(a=F).fold(function(){return l6(a).map(function(c){return bM.getFontFamily(a.getBody(),c)}).getOr("")},function(c){return bM.getFontFamily(a.getBody(),c)});var a},this),D("FontSize",function(){return kD(a=F).fold(function(){return l6(a).map(function(c){return bM.getFontSize(a.getBody(),c)}).getOr("")},function(c){return bM.getFontSize(a.getBody(),c)});var a},this)}var lO=bG.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),AD=function(k){var n,o,j=this,g={},h=function(){return !1},i=function(){return !0};n=(k=k||{}).scope||j,o=k.toggleEvent||h;var b=function(m,f,q,l){var p,d,c;if(!1===f&&(f=h),f){for(f={func:f},l&&bG.extend(f,l),c=(d=m.toLowerCase().split(" ")).length;c--;){m=d[c],(p=g[m])||(p=g[m]=[],o(m,!0)),q?p.unshift(f):p.push(f)}}return j},e=function(m,f){var q,l,p,d,c;if(m){for(q=(d=m.toLowerCase().split(" ")).length;q--;){if(m=d[q],l=g[m],!m){for(p in g){o(p,!1),delete g[p]}return j}if(l){if(f){for(c=l.length;c--;){l[c].func===f&&(l=l.slice(0,c).concat(l.slice(c+1)),g[m]=l)}}else{l.length=0}l.length||(o(m,!1),delete g[m])}}}else{for(m in g){o(m,!1)}g={}}return j};j.fire=function(f,c){var m,d,l,a;if(f=f.toLowerCase(),(c=c||{}).type=f,c.target||(c.target=n),c.preventDefault||(c.preventDefault=function(){c.isDefaultPrevented=i},c.stopPropagation=function(){c.isPropagationStopped=i},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=i},c.isDefaultPrevented=h,c.isPropagationStopped=h,c.isImmediatePropagationStopped=h),k.beforeFire&&k.beforeFire(c),m=g[f]){for(d=0,l=m.length;d<l;d++){if((a=m[d]).once&&e(f,a.func),c.isImmediatePropagationStopped()){return c.stopPropagation(),c}if(!1===a.func.call(n,c)){return c.preventDefault(),c}}}return c},j.on=b,j.off=e,j.once=function(c,a,d){return b(c,a,d,{once:!0})},j.has=function(a){return a=a.toLowerCase(),!(!g[a]||0===g[a].length)}};AD.isNative=function(a){return !!lO[a.toLowerCase()]};var qD,cW=function(a){return a._eventDispatcher||(a._eventDispatcher=new AD({scope:a,toggleEvent:function(c,b){AD.isNative(c)&&a.toggleNativeEvent&&a.toggleNativeEvent(c,b)}})),a._eventDispatcher},jY={fire:function(c,a,d){if(this.removed&&"remove"!==c){return a}if(a=cW(this).fire(c,a,d),!1!==d&&this.parent){for(var b=this.parent();b&&!a.isPropagationStopped();){b.fire(c,a,!1),b=b.parent()}}return a},on:function(b,a,c){return cW(this).on(b,a,c)},off:function(b,a){return cW(this).off(b,a)},once:function(b,a){return cW(this).once(b,a)},hasEventListeners:function(a){return cW(this).has(a)}},cq=function(b,a){return b.fire("PreProcess",a)},bQ=function(b,a){return b.fire("PostProcess",a)},mj=function(a){return a.fire("remove")},kH=function(b,a){return b.fire("SwitchMode",{mode:a})},gD=function(c,a,d,b){c.fire("ObjectResizeStart",{target:a,width:d,height:b})},a8=function(c,a,d,b){c.fire("ObjectResized",{target:a,width:d,height:b})},C5=function(c,a,d){try{c.getDoc().execCommand(a,!1,d)}catch(b){}},uz=function(c,a){var f,b,d;f=C4.fromDom(c.getBody()),b="mce-content-readonly",d=a,jW.has(f,b)&&!1===d?jW.remove(f,b):d&&jW.add(f,b),a?(c.selection.controlSelection.hideResizeRect(),c.readonly=!0,c.getBody().contentEditable="false"):(c.readonly=!1,c.getBody().contentEditable="true",C5(c,"StyleWithCSS",!1),C5(c,"enableInlineTableEditing",!1),C5(c,"enableObjectResizing",!1),c.focus(),c.nodeChanged())},xV=function(a){return a.readonly?"readonly":"design"},vH=BG.DOM,xk=function(b,a){return"selectionchange"===a?b.getDoc():!b.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(a)?b.getDoc().documentElement:b.settings.event_root?(b.eventRoot||(b.eventRoot=vH.select(b.settings.event_root)[0]),b.eventRoot):b.getBody()},AT=function(c,a,d){var b;(b=c).hidden||b.readonly?!0===c.readonly&&d.preventDefault():c.fire(a,d)},GS=function(d,b){var f,c;if(d.delegates||(d.delegates={}),!d.delegates[b]&&!d.removed){if(f=xk(d,b),d.settings.event_root){if(qD||(qD={},d.editorManager.on("removeEditor",function(){var a;if(!d.editorManager.activeEditor&&qD){for(a in qD){d.dom.unbind(xk(d,a))}qD=null}})),qD[b]){return}c=function(h){for(var a=h.target,j=d.editorManager.get(),g=j.length;g--;){var i=j[g].getBody();(i===a||vH.isChildOf(a,i))&&AT(j[g],b,h)}},qD[b]=c,vH.bind(f,b,c)}else{c=function(a){AT(d,b,a)},vH.bind(f,b,c),d.delegates[b]=c}}},tQ={bindPendingEventDelegates:function(){var a=this;bG.each(a._pendingNativeEvents,function(b){GS(a,b)})},toggleNativeEvent:function(b,a){var c=this;"focus"!==b&&"blur"!==b&&(a?c.initialized?GS(c,b):c._pendingNativeEvents?c._pendingNativeEvents.push(b):c._pendingNativeEvents=[b]:c.initialized&&(c.dom.unbind(xk(c,b),b,c.delegates[b]),delete c.delegates[b]))},unbindAllNativeEvents:function(){var c,a=this,d=a.getBody(),b=a.dom;if(a.delegates){for(c in a.delegates){a.dom.unbind(xk(a,c),c,a.delegates[c])}delete a.delegates}!a.inline&&d&&b&&(d.onload=null,b.unbind(a.getWin()),b.unbind(a.getDoc())),b&&(b.unbind(d),b.unbind(a.getContainer()))}},uX=tQ=bG.extend({},jY,tQ),EL=bG.each,y2=bG.explode,CI={f9:120,f10:121,f11:122},DP=bG.makeMap("alt,ctrl,shift,meta,access");function yF(e){var b={},g=[],d=function(i){var a,k,c={};for(k in EL(y2(i,"+"),function(l){l in DP?c[l]=!0:/^[0-9]{2,}$/.test(l)?c.keyCode=parseInt(l,10):(c.charCode=l.charCodeAt(0),c.keyCode=CI[l]||l.toUpperCase().charCodeAt(0))}),a=[c.keyCode],DP){c[k]?a.push(k):c[k]=!1}return c.id=a.join(","),c.access&&(c.alt=!0,fW.mac?c.ctrl=!0:c.shift=!0),c.meta&&(fW.mac?c.meta=!0:(c.ctrl=!0,c.meta=!1)),c},f=function(i,a,l,c){var k;return(k=bG.map(y2(i,">"),d))[k.length-1]=bG.extend(k[k.length-1],{func:l,scope:c||e}),bG.extend(k[0],{desc:e.translate(a),subpatterns:k.slice(1)})},h=function(c,a){return !!a&&a.ctrl===c.ctrlKey&&a.meta===c.metaKey&&a.alt===c.altKey&&a.shift===c.shiftKey&&!!(c.keyCode===a.keyCode||c.charCode&&c.charCode===a.charCode)&&(c.preventDefault(),!0)},j=function(a){return a.func?a.func.call(a.scope):null};e.on("keyup keypress keydown",function(a){var c,i;((i=a).altKey||i.ctrlKey||i.metaKey||"keydown"===(c=a).type&&112<=c.keyCode&&c.keyCode<=123)&&!a.isDefaultPrevented()&&(EL(b,function(k){if(h(a,k)){return g=k.subpatterns.slice(0),"keydown"===a.type&&j(k),!0}}),h(a,g[0])&&(1===g.length&&"keydown"===a.type&&j(g[0]),g.shift()))}),this.add=function(i,l,c,k){var a;return"string"==typeof(a=c)?c=function(){e.execCommand(a,!1,null)}:bG.isArray(a)&&(c=function(){e.execCommand(a[0],a[1],a[2])}),EL(y2(bG.trim(i.toLowerCase())),function(n){var m=f(n,l,c,k);b[m.id]=m}),!0},this.remove=function(c){var a=f(c);return !!b[a.id]&&(delete b[a.id],!0)}}var BY=function(b){var a=b!==undefined?b.dom():document;return GG.from(a.activeElement).map(C4.fromDom)},wO=function(b){var a=cO.owner(b).dom();return b.dom()===a.activeElement},BA=function(a){return BY(cO.owner(a)).filter(function(b){return a.dom().contains(b.dom())})},s6=function(a,b){return(c=b,c.collapsed?GG.from(vD(c.startContainer,c.startOffset)).map(C4.fromDom):GG.none()).bind(function(d){return rD(d)?GG.some(d):!1===dV.contains(a,d)?GG.some(a):GG.none()});var c},FV=function(a,b){s6(C4.fromDom(a.getBody()),b).bind(function(c){return GW.firstPositionIn(c.dom())}).fold(function(){a.selection.normalize()},function(c){return a.selection.setRng(c.toRange())})},rB=function(b){if(b.setActive){try{b.setActive()}catch(a){b.focus()}}else{b.focus()}},oE=function(b){var a,c=b.getBody();return c&&(a=C4.fromDom(c),wO(a)||BA(a).isSome())},rZ=function(b){return b.inline?oE(b):(a=b).iframeElement&&wO(C4.fromDom(a.iframeElement));var a},sJ=function(a){return a.editorManager.setActive(a)},h0=function(b,a){b.removed||(a?sJ(b):function(g){var j=g.selection,l=g.settings.content_editable,h=g.getBody(),k=j.getRng();g.quirks.refreshContentEditable();var f,c,d=(f=g,c=j.getNode(),f.dom.getParent(c,function(i){return"true"===f.dom.getContentEditable(i)}));if(g.$.contains(h,d)){return rB(d),FV(g,k),sJ(g)}g.bookmark!==undefined&&!1===rZ(g)&&k4(g).each(function(i){g.selection.setRng(i),k=i}),l||(fW.opera||rB(h),g.getWin().focus()),(fW.gecko||l)&&(rB(h),FV(g,k)),sJ(g)}(b))},nj=rZ,e3=function(b,a){return a.dom()[b]},eG=function(b,a){return parseInt(eF(a,b),10)},zM=E6(e3,"clientWidth"),pL=E6(e3,"clientHeight"),aF=E6(eG,"margin-top"),fN=E6(eG,"margin-left"),nU=function(z,E,k){var b,j,w,C,D,F,B,v,y,A,q=C4.fromDom(z.getBody()),x=z.inline?q:cO.documentElement(q),h=(b=z.inline,w=E,C=k,D=(j=x).dom().getBoundingClientRect(),{x:w-(b?D.left+j.dom().clientLeft+fN(j):0),y:C-(b?D.top+j.dom().clientTop+aF(j):0)});return B=h.x,v=h.y,y=zM(F=x),A=pL(F),0<=B&&0<=v&&B<=y&&v<=A},o1=function(b){var a,c=b.inline?b.getBody():b.getContentAreaContainer();return(a=c,GG.from(a).map(C4.fromDom)).map(function(d){return dV.contains(cO.owner(d),d)}).getOr(!1)};function hD(h){var e,g=[],d=function(){var i,a=h.theme;return a&&a.getNotificationManagerImpl?a.getNotificationManagerImpl():{open:i=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:i,reposition:i,getArgs:i}},b=function(){0<g.length&&d().reposition(g)},c=function(a){F2(g,function(i){return i===a}).each(function(i){g.splice(i,1)})},f=function(a){if(!h.removed&&o1(h)){return FI(g,function(j){return i=d().getArgs(j),k=a,!(i.type!==k.type||i.text!==k.text||i.progressBar||i.timeout||k.progressBar||k.timeout);var i,k}).getOrThunk(function(){h.editorManager.setActive(h);var j,i=d().open(a,function(){c(i),b()});return j=i,g.push(j),b(),i})}};return(e=h).on("SkinLoaded",function(){var a=e.settings.service_message;a&&f({text:a,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){jD.requestAnimationFrame(b)}),e.on("remove",function(){Gj(g,function(a){d().close(a)})}),{open:f,close:function(){GG.from(g[0]).each(function(a){d().close(a),c(a),b()})},getNotifications:function(){return g}}}function gT(g){var j=[],d=function(){var i,a=g.theme;return a&&a.getWindowManagerImpl?a.getWindowManagerImpl():{open:i=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:i,confirm:i,close:i,getParams:i,setParams:i}},b=function(i,a){return function(){return a?a.apply(i,arguments):undefined}},c=function(i){var a;j.push(i),a=i,g.fire("OpenWindow",{win:a})},f=function(a){F2(j,function(i){return i===a}).each(function(k){var i;j.splice(k,1),i=a,g.fire("CloseWindow",{win:i}),0===j.length&&g.focus()})},h=function(){return GG.from(j[j.length-1])};return g.on("remove",function(){Gj(j.slice(0),function(a){d().close(a)})}),{windows:j,open:function(i,a){g.editorManager.setActive(g),g0(g);var k=d().open(i,a,f);return c(k),k},alert:function(k,a,l){var i=d().alert(k,b(l||this,a),f);c(i)},confirm:function(k,a,l){var i=d().confirm(k,b(l||this,a),f);c(i)},close:function(){h().each(function(a){d().close(a),f(a)})},getParams:function(){return h().map(d().getParams).getOr(null)},setParams:function(a){h().each(function(i){d().setParams(i,a)})},getWindows:function(){return j}}}var i7=nB.PluginManager,kX=function(b,a){var c=function(f,d){for(var g in i7.urls){if(i7.urls[g]+"/plugin"+d+".js"===f){return g}}return null}(a,b.suffix);return c?"Failed to load plugin: "+c+" from url "+a:"Failed to load plugin url: "+a},iK=function(b,a){b.notificationManager.open({type:"error",text:a})},mN=function(b,a){b._skinLoaded?iK(b,a):b.on("SkinLoaded",function(){iK(b,a)})},dW=function(b,a){mN(b,kX(b,a))},qT=function(b,a){mN(b,"Failed to upload image: "+a)},dq=mN,v4=function(c){for(var a=[],d=1;d<arguments.length;d++){a[d-1]=arguments[d]}var b=window.console;b&&(b.error?b.error.apply(b,arguments):b.log.apply(b,arguments))},lH=nB.PluginManager,z9=nB.ThemeManager;function p9(){return new (A0.getOrDie("XMLHttpRequest"))}function cP(b,d){var e={},j=function(l,k,m,f){var c,p;(c=new p9).open("POST",d.url),c.withCredentials=d.credentials,c.upload.onprogress=function(n){f(n.loaded/n.total*100)},c.onerror=function(){m("Image upload failed due to a XHR Transport error. Code: "+c.status)},c.onload=function(){var q,o,r;c.status<200||300<=c.status?m("HTTP Error: "+c.status):(q=JSON.parse(c.responseText))&&"string"==typeof q.location?k((o=d.basePath,r=q.location,o?o.replace(/\/$/,"")+"/"+r.replace(/^\//,""):r)):m("Invalid JSON: "+c.responseText)},(p=new FormData).append("file",l.blob(),l.filename()),c.send(p)},i=function(f,c){return{url:c,blobInfo:f,status:!0}},a=function(f,c){return{url:"",blobInfo:f,status:!1,error:c}},g=function(f,c){bG.each(e[f],function(k){k(c)}),delete e[f]},h=function(c,f){return c=bG.grep(c,function(k){return !b.isUploaded(k.blobUri())}),n3.all(bG.map(c,function(n){return b.isPending(n.blobUri())?(l=n.blobUri(),new n3(function(o){e[l]=e[l]||[],e[l].push(o)})):(p=n,m=d.handler,k=f,b.markPending(p.blobUri()),new n3(function(o){var u;try{var q=function(){u&&u.close()};m(p,function(r){q(),b.markUploaded(p.blobUri(),r),g(p.blobUri(),i(p,r)),o(i(p,r))},function(r){q(),b.removeFailed(p.blobUri()),g(p.blobUri(),a(p,r)),o(a(p,r))},function(r){r<0||100<r||(u||(u=k()),u.progressBar.value(r))})}catch(s){o(a(p,s.message))}}));var p,m,k,l}))};return d=bG.extend({credentials:!1,handler:j},d),{upload:function(f,c){return d.url||d.handler!==j?h(f,c):new n3(function(k){k([])})}}}function jR(b,a){return new (A0.getOrDie("Blob"))(b,a)}function b5(){return new (A0.getOrDie("FileReader"))}function bJ(a){return new (A0.getOrDie("Uint8Array"))(a)}var l3=function(a){return A0.getOrDie("atob")(a)},kz=function(b){var a,c;return b=decodeURIComponent(b).split(","),(c=/data:([^;]+)/.exec(b[0]))&&(a=c[1]),{type:a,data:b[1]}},f9=function(b){return 0===b.indexOf("blob:")?(a=b,new n3(function(g,d){var i=function(){d("Cannot convert "+a+" to Blob. Resource might not exist or is inaccessible.")};try{var f=new p9;f.open("GET",a,!0),f.responseType="blob",f.onload=function(){200===this.status?g(this.response):i()},f.onerror=i,f.send()}catch(h){i()}})):0===b.indexOf("data:")?(c=b,new n3(function(h){var d,i,f;c=kz(c);try{d=l3(c.data)}catch(g){return void h(new jR([]))}for(i=new bJ(d.length),f=0;f<i.length;f++){i[f]=d.charCodeAt(f)}h(new jR([i],{type:c.type}))})):null;var a,c},a1=function(a){return new n3(function(c){var b=new b5;b.onloadend=function(){c(b.result)},b.readAsDataURL(a)})},Dk=kz,uG=0,x1=function(a){return(a||"blobid")+uG++},vN=function(g,e,f,d){var c,b;0!==e.src.indexOf("blob:")?(c=Dk(e.src).data,(b=g.findFirst(function(a){return a.base64()===c}))?f({image:e,blobInfo:b}):f9(e.src).then(function(a){b=g.create(x1(),a,c),g.add(b),f({image:e,blobInfo:b})},function(a){d(a)})):(b=g.getByUri(e.src))?f({image:e,blobInfo:b}):f9(e.src).then(function(a){a1(a).then(function(h){c=Dk(h).data,b=g.create(x1(),a,c),g.add(b),f({image:e,blobInfo:b})})},function(a){d(a)})},xE=function(a){return a?a.getElementsByTagName("img"):[]},AY=0,GY={uuid:function(b){return b+AY+++(a=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+a()+a()+a());var a}};function tW(B){var L,K,P,F,T,X,I,G,V,O,S=(L=[],K=sX.constant,P=function(c){var a,d,b;if(!c.blob||!c.base64){throw new Error("blob and base64 representations of the image are required for BlobInfo to be created")}return a=c.id||GY.uuid("blobid"),d=c.name||a,{id:K(a),name:K(d),filename:K(d+"."+(b=c.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[b.toLowerCase()]||"dat")),blob:K(c.blob),base64:K(c.base64),blobUri:K(c.blobUri||tZ.createObjectURL(c.blob)),uri:K(c.uri)}},{create:function(c,a,d,b){return P("object"==typeof c?c:{id:c,name:b,blob:a,base64:d})},add:function(a){F(a.id())||L.push(a)},get:F=function(a){return T(function(b){return b.id()===a})},getByUri:function(a){return T(function(b){return b.blobUri()===a})},findFirst:T=function(a){return z6.filter(L,a)[0]},removeByUri:function(a){L=z6.filter(L,function(b){return b.blobUri()!==a||(tZ.revokeObjectURL(b.blobUri()),!1)})},destroy:function(){z6.each(L,function(a){tZ.revokeObjectURL(a.blobUri())}),L=[]}}),U=B.settings,M=(G={},V=function(b,a){return{status:b,resultUri:a}},{hasBlobUri:O=function(a){return a in G},getResultUri:function(b){var a=G[b];return a?a.resultUri:null},isPending:function(a){return !!O(a)&&1===G[a].status},isUploaded:function(a){return !!O(a)&&2===G[a].status},markPending:function(a){G[a]=V(1,null)},markUploaded:function(b,a){G[b]=V(2,a)},removeFailed:function(a){delete G[a]},destroy:function(){G={}}}),R=function(a){return function(b){return B.selection?a(b):[]}},J=function(c,a,d){for(var b=0;-1!==(b=c.indexOf(a,b))&&(c=c.substring(0,b)+d+c.substr(b+a.length),b+=d.length-a.length+1),-1!==b;){}return c},Q=function(b,a,c){return b=J(b,'src="'+a+'"','src="'+c+'"'),b=J(b,'data-mce-src="'+a+'"','data-mce-src="'+c+'"')},A=function(a,b){z6.each(B.undoManager.data,function(c){"fragmented"===c.type?c.fragments=z6.map(c.fragments,function(d){return Q(d,a,b)}):c.content=Q(c.content,a,b)})},W=function(){return B.notificationManager.open({text:B.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},k=function(b,a){S.removeByUri(b.src),A(b.src,a),B.$(b).attr({src:U.images_reuse_filename?a+"?"+(new Date).getTime():a,"data-mce-src":B.convertURL(a,"src")})},H=function(a){return X||(X=cP(M,{url:U.images_upload_url,basePath:U.images_upload_base_path,credentials:U.images_upload_credentials,handler:U.images_upload_handler})),j().then(R(function(b){var c;return c=z6.map(b,function(d){return d.blobInfo}),X.upload(c,W).then(R(function(f){var d=z6.map(f,function(h,g){var i=b[g].image;return h.status&&!1!==B.settings.images_replace_blob_uris?k(i,h.url):h.error&&qT(B,h.error),{element:i,status:h.status}});return a&&a(d),d}))}))},q=function(a){if(!1!==U.automatic_uploads){return H(a)}},z=function(a){return !U.images_dataimg_filter||U.images_dataimg_filter(a)},j=function(){var d,c,b;return I||(d=M,c=S,b={},I={findAll:function(g,h){var a;h||(h=sX.constant(!0)),a=z6.filter(xE(g),function(l){var i=l.src;return !!fW.fileApi&&!l.hasAttribute("data-mce-bogus")&&!l.hasAttribute("data-mce-placeholder")&&!(!i||i===fW.transparentSrc)&&(0===i.indexOf("blob:")?!d.isUploaded(i):0===i.indexOf("data:")&&h(l))});var f=z6.map(a,function(l){if(b[l.src]){return new n3(function(e){b[l.src].then(function(m){if("string"==typeof m){return m}e({image:l,blobInfo:m.blobInfo})})})}var i=new n3(function(n,m){vN(c,l,n,m)}).then(function(m){return delete b[m.image.src],m})["catch"](function(m){return delete b[l.src],m});return b[l.src]=i});return n3.all(f)}}),I.findAll(B.getBody(),z).then(R(function(a){return a=z6.filter(a,function(f){return"string"!=typeof f||(dq(B,f),!1)}),z6.each(a,function(f){A(f.image.src,f.blobInfo.blobUri()),f.image.src=f.blobInfo.blobUri(),f.image.removeAttribute("data-mce-src")}),a}))},D=function(a){return a.replace(/src="(blob:[^"]+)"/g,function(d,f){var b=M.getResultUri(f);if(b){return'src="'+b+'"'}var c=S.getByUri(f);return c||(c=z6.reduce(B.editorManager.get(),function(h,g){return h||g.editorUpload&&g.editorUpload.blobCache.getByUri(f)},null)),c?'src="data:'+c.blob().type+";base64,"+c.base64()+'"':d})};return B.on("setContent",function(){!1!==B.settings.automatic_uploads?q():j()}),B.on("RawSaveContent",function(a){a.content=D(a.content)}),B.on("getContent",function(a){a.source_view||"raw"===a.format||(a.content=D(a.content))}),B.on("PostRender",function(){B.parser.addNodeFilter("img",function(a){z6.each(a,function(c){var b=c.attr("src");if(!S.getByUri(b)){var d=M.getResultUri(b);d&&c.attr("src",d)}})})}),{blobCache:S,uploadImages:H,uploadImagesAuto:q,scanForImages:j,destroy:function(){S.destroy(),M.destroy(),I=X=null}}}var u3=function(b,a){return b.hasOwnProperty(a.nodeName)},EZ=function(b,a){if(o2.isText(a)){if(0===a.nodeValue.length){return !0}if(/^\s+$/.test(a.nodeValue)&&(!a.nextSibling||u3(b,a.nextSibling))){return !0}}return !1},y8=function(R){var D,J,G,I,M,V,B,E,T,L,Q,S=R.settings,K=R.dom,P=R.selection,H=R.schema,O=H.getBlockElements(),A=P.getStart(),U=R.getBody();if(Q=S.forced_root_block,A&&o2.isElement(A)&&Q&&(L=U.nodeName.toLowerCase(),H.isValidChild(L,Q.toLowerCase())&&(k=O,F=U,q=A,!FY(lP(C4.fromDom(q),C4.fromDom(F)),function(a){return u3(k,a.dom())})))){var k,F,q,z,j;for(J=(D=P.getRng()).startContainer,G=D.startOffset,I=D.endContainer,M=D.endOffset,T=nj(R),A=U.firstChild;A;){if(z=O,j=A,o2.isText(j)||o2.isElement(j)&&!u3(z,j)&&!BF(j)){if(EZ(O,A)){A=(B=A).nextSibling,K.remove(B);continue}V||(V=K.create(Q,R.settings.forced_root_block_attrs),A.parentNode.insertBefore(V,A),E=!0),A=(B=A).nextSibling,V.appendChild(B)}else{V=null,A=A.nextSibling}}E&&T&&(D.setStart(J,G),D.setEnd(I,M),P.setRng(D),R.nodeChanged())}},CO=function(a){a.settings.forced_root_block&&a.on("NodeChange",E6(y8,a))},DU=function(a){return cO.firstChild(a).fold(F6([a]),function(b){return[a].concat(DU(b))})},yL=function(a){return cO.lastChild(a).fold(F6([a]),function(b){return"br"===uW.name(b)?cO.prevSibling(b).map(function(c){return[a].concat(yL(c))}).getOr([]):[a].concat(yL(b))})},B4=function(j,h){return GO([(d=h,b=d.startContainer,c=d.startOffset,o2.isText(b)?0===c?GG.some(C4.fromDom(b)):GG.none():GG.from(b.childNodes[c]).map(C4.fromDom)),(f=h,k=f.endContainer,g=f.endOffset,o2.isText(k)?g===k.data.length?GG.some(C4.fromDom(k)):GG.none():GG.from(k.childNodes[g-1]).map(C4.fromDom))],function(l,a){var m=FI(DU(j),E6(dV.eq,l)),i=FI(yL(j),E6(dV.eq,a));return m.isSome()&&i.isSome()}).getOr(!1);var f,k,g,d,b,c},wU=function(g,d,j,f){var h=j,c=new AU(j,h),b=g.schema.getNonEmptyElements();do{if(3===j.nodeType&&0!==bG.trim(j.nodeValue).length){return void (f?d.setStart(j,0):d.setEnd(j,j.nodeValue.length))}if(b[j.nodeName]&&!/^(TD|TH)$/.test(j.nodeName)){return void (f?d.setStartBefore(j):"BR"===j.nodeName?d.setEndBefore(j):d.setEndAfter(j))}if(fW.ie&&fW.ie<11&&g.isBlock(j)&&g.isEmpty(j)){return void (f?d.setStart(j,0):d.setEnd(j,0))}}while(j=f?c.next():c.prev());"BODY"===h.nodeName&&(f?d.setStart(h,0):d.setEnd(h,h.childNodes.length))},BH=function(b){var a=b.selection.getSel();return a&&0<a.rangeCount};function tq(a){var b,c=[];"onselectionchange" in a.getDoc()||a.on("NodeChange Click MouseUp KeyUp Focus",function(f){var d,g;g={startContainer:(d=a.selection.getRng()).startContainer,startOffset:d.startOffset,endContainer:d.endContainer,endOffset:d.endOffset},"nodechange"!==f.type&&a4(g,b)||a.fire("SelectionChange"),b=g}),a.on("contextmenu",function(){a.fire("SelectionChange")}),a.on("SelectionChange",function(){var d=a.selection.getStart(!0);!d||!fW.range&&a.selection.isCollapsed()||BH(a)&&!function(g){var f,h;if((h=a.$(g).parentsUntil(a.getBody()).add(g)).length===c.length){for(f=h.length;0<=f&&h[f]===c[f];f--){}if(-1===f){return c=h,!0}}return c=h,!1}(d)&&a.dom.isChildOf(d,a.getBody())&&a.nodeChanged({selectionChange:!0})}),a.on("MouseUp",function(d){!d.isDefaultPrevented()&&BH(a)&&("IMG"===a.selection.getNode().nodeName?jD.setEditorTimeout(a,function(){a.nodeChanged()}):a.nodeChanged())}),this.nodeChanged=function(g){var d,i,f,h=a.selection;a.initialized&&h&&!a.settings.disable_nodechange&&!a.readonly&&(f=a.getBody(),(d=h.getStart(!0)||f).ownerDocument===a.getDoc()&&a.dom.isChildOf(d,f)||(d=f),i=[],a.dom.getParent(d,function(j){if(j===f){return !0}i.push(j)}),(g=g||{}).element=d,g.parents=i,a.fire("NodeChange",g))}}var F9,rI,oK=function(c){var a,f,b,d;return d=c.getBoundingClientRect(),f=(a=c.ownerDocument).documentElement,b=a.defaultView,{top:d.top+b.pageYOffset-f.clientTop,left:d.left+b.pageXOffset-f.clientLeft}},r5=function(h,f){return k=(c=h).inline?oK(c.getBody()):{left:0,top:0},b=(d=h).getBody(),g=d.inline?{left:b.scrollLeft,top:b.scrollTop}:{left:0,top:0},{pageX:(j=function(v,y){if(y.target.ownerDocument!==v.getDoc()){var p=oK(v.getContentAreaContainer()),l=(q=(m=v).getBody(),w=m.getDoc().documentElement,x={left:q.scrollLeft,top:q.scrollTop},z={left:q.scrollLeft||w.scrollLeft,top:q.scrollTop||w.scrollTop},m.inline?x:z);return{left:y.pageX-p.left+l.left,top:y.pageY-p.top+l.top}}var m,q,w,x,z;return{left:y.pageX,top:y.pageY}}(h,f)).left-k.left+g.left,pageY:j.top-k.top+g.top};var k,g,j,d,b,c},sP=o2.isContentEditableFalse,h6=o2.isContentEditableTrue,nD=function(a){a&&a.parentNode&&a.parentNode.removeChild(a)},e9=function(a,b){return function(h){if(0===h.button){var f=z6.find(b.dom.getParents(h.target),sX.or(sP,h6));if(d=b.getBody(),sP(c=f)&&c!==d){var k=b.dom.getPos(f),g=b.getBody(),j=b.getDoc().documentElement;a.element=f,a.screenX=h.screenX,a.screenY=h.screenY,a.maxX=(b.inline?g.scrollWidth:j.offsetWidth)-2,a.maxY=(b.inline?g.scrollHeight:j.offsetHeight)-2,a.relX=h.pageX-k.x,a.relY=h.pageY-k.y,a.width=f.offsetWidth,a.height=f.offsetHeight,a.ghost=function(q,m,u,p){var s=m.cloneNode(!0);q.dom.setStyles(s,{width:u,height:p}),q.dom.setAttrib(s,"data-mce-selected",null);var l=q.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return q.dom.setStyles(l,{position:"absolute",opacity:0.5,overflow:"hidden",border:0,padding:0,margin:0,width:u,height:p}),q.dom.setStyles(s,{margin:0,boxSizing:"border-box"}),l.appendChild(s),l}(b,f,a.width,a.height)}}var d,c}},eM=function(a,b){return function(j){if(a.dragging&&(q=(h=b).selection,k=q.getSel().getRangeAt(0).startContainer,l=3===k.nodeType?k.parentNode:k,m=a.element,l!==m&&!h.dom.isChildOf(l,m)&&!sP(l))){var p=(d=a.element,(f=d.cloneNode(!0)).removeAttribute("data-mce-selected"),f),g=b.fire("drop",{targetClone:p,clientX:j.clientX,clientY:j.clientY});g.isDefaultPrevented()||(p=g.targetClone,b.undoManager.transact(function(){nD(a.element),b.insertContent(b.dom.getOuterHTML(p)),b._selectionOverrides.hideFakeCaret()}))}var d,f,h,l,m,q,k;zS(a)}},zS=function(a){a.dragging=!1,a.element=null,nD(a.ghost)},pR=function(l){var y,g,b,f,j,q,d,k,w,x,z,m={};y=BG.DOM,q=document,g=e9(m,l),d=m,k=l,w=jD.throttle(function(c,a){k._selectionOverrides.hideFakeCaret(),k.selection.placeCaretAt(c,a)},0),b=function(F){var K,v,h,p,C,I,J,L,H,B,E,G,A=Math.max(Math.abs(F.screenX-d.screenX),Math.abs(F.screenY-d.screenY));if(d.element&&!d.dragging&&10<A){if(k.fire("dragstart",{target:d.element}).isDefaultPrevented()){return}d.dragging=!0,k.focus()}if(d.dragging){var D=(E=d,{pageX:(G=r5(k,F)).pageX-E.relX,pageY:G.pageY+5});H=d.ghost,B=k.getBody(),H.parentNode!==B&&B.appendChild(H),K=d.ghost,v=D,h=d.width,p=d.height,C=d.maxX,I=d.maxY,L=J=0,K.style.left=v.pageX+"px",K.style.top=v.pageY+"px",v.pageX+h>C&&(J=v.pageX+h-C),v.pageY+p>I&&(L=v.pageY+p-I),K.style.width=h-J+"px",K.style.height=p-L+"px",w(F.clientX,F.clientY)}},f=eM(m,l),x=m,j=function(){x.dragging&&z.fire("dragend"),zS(x)},(z=l).on("mousedown",g),l.on("mousemove",b),l.on("mouseup",f),y.bind(q,"mousemove",b),y.bind(q,"mouseup",j),l.on("remove",function(){y.unbind(q,"mousemove",b),y.unbind(q,"mouseup",j)})},aL=function(a){var b;pR(a),(b=a).on("drop",function(d){var c="undefined"!=typeof d.clientX?b.getDoc().elementFromPoint(d.clientX,d.clientY):null;(sP(c)||sP(b.dom.getContentEditableParent(c)))&&d.preventDefault()})},fT=function(a){return z6.reduce(a,function(c,b){return c.concat(function(d){var f=function(h){return z6.map(h,function(i){return(i=kO(i)).node=d,i})};if(o2.isElement(d)){return f(d.getClientRects())}if(o2.isText(d)){var g=d.ownerDocument.createRange();return g.setStart(d,0),g.setEnd(d,d.data.length),f(g.getClientRects())}}(b))},[])};(rI=F9||(F9={}))[rI.Up=-1]="Up",rI[rI.Down=1]="Down";var n0=function(d,h,m,j,p,q){var f,v,k=0,g=[],b=function(i){var a,l,c;for(c=fT([i]),-1===d&&(c=c.reverse()),a=0;a<c.length;a++){if(l=c[a],!m(l,v)){if(0<g.length&&h(l,z6.last(g))&&k++,l.line=k,p(l)){return !0}g.push(l)}}};return(v=z6.last(q.getClientRects()))&&(b(f=q.getNode()),function(i,a,l,c){for(;c=iV(c,i,bX,a);){if(l(c)){return}}}(d,j,b,f)),g},o7=E6(n0,F9.Up,C1,t9),hJ=E6(n0,F9.Down,t9,C1),gZ=function(a){return function(c){return b=a,c.line>b;var b}},jz=function(a){return function(c){return b=a,c.line===b;var b}},k3=o2.isContentEditableFalse,iQ=iV,mT=function(b,a){return Math.abs(b.left-a)},d2=function(b,a){return Math.abs(b.right-a)},qZ=function(b,a){return b>=a.left&&b<=a.right},dF=function(a,b){return z6.reduce(a,function(f,c){var g,d;return g=Math.min(mT(f,b),d2(f,b)),d=Math.min(mT(c,b),d2(c,b)),qZ(b,c)?c:qZ(b,f)?f:d===g&&k3(c.node)?c:d<g?c:f})},wj=function(c,a,d,b){for(;b=iQ(b,c,bX,a);){if(d(b)){return}}},lN=function(p,y,h){var b,g,k,w,x,z,v,j,m=fT((g=p,z6.filter(z6.toArray(g.getElementsByTagName("*")),eR))),q=z6.filter(m,function(a){return h>=a.top&&h<=a.bottom});return(b=dF(q,y))&&(b=dF((x=p,j=function(a,c){var d;return d=z6.filter(fT([c]),function(f){return !a(f,z)}),v=v.concat(d),0===d.length},(v=[]).push(z=b),wj(F9.Up,x,E6(j,C1),z.node),wj(F9.Down,x,E6(j,t9),z.node),v),y))&&eR(b.node)?(w=y,{node:(k=b).node,before:mT(k,w)<d2(k,w)}):null},AB=function(c,b,d){return !d.collapsed&&D3(d.getClientRects(),function(g,a){return g||(h=b,(f=c)>=(i=a).left&&f<=i.right&&h>=i.top&&h<=i.bottom);var i,f,h},!1)},qB=function(a){var b=o6(function(){if(!a.removed&&a.selection.getRng().collapsed){var c=yD(a,a.selection.getRng(),!1);a.selection.setRng(c)}},0);a.on("focus",function(){b.throttle()}),a.on("blur",function(){b.cancel()})},cV={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(a){return a.shiftKey||a.ctrlKey||a.altKey||this.metaKeyPressed(a)},metaKeyPressed:function(a){return fW.mac?a.metaKey:a.ctrlKey&&!a.altKey}},jX=o2.isContentEditableTrue,ck=o2.isContentEditableFalse,bP=kL,l9=mA,kG=function(b,a){for(var c=b.getBody();a&&a!==c;){if(jX(a)||ck(a)){return a}a=a.parentNode}return null},gB=function(q){var f,r,E,A=q.getBody(),i=fA(q.getBody(),function(a){return q.dom.isBlock(a)},function(){return nj(q)}),m="sel-"+q.dom.uniqueId(),D=function(a){a&&q.selection.setRng(a)},F=function(){return q.selection.getRng()},B=function(c,a,g,b){return void 0===b&&(b=!0),q.fire("ShowCaret",{target:a,direction:c,before:g}).isDefaultPrevented()?null:(b&&q.selection.scrollIntoView(a,-1===c),i.show(g,a))},z=function(b,a){return a=qH(b,A,a),-1===b?pH.fromRangeStart(a):pH.fromRangeEnd(a)},j=function(a){return n8(a)||lk(a)||iY(a)},x=function(a){return j(a.startContainer)||j(a.endContainer)},w=function(G,L){var h,b,g,y,J,K,M,I,v,C,H=q.$,p=q.dom;if(!G){return null}if(G.collapsed){if(!x(G)){if(!1===L){if(I=z(-1,G),eR(I.getNode(!0))){return B(-1,I.getNode(!0),!1,!1)}if(eR(I.getNode())){return B(-1,I.getNode(),!I.isAtEnd(),!1)}}else{if(I=z(1,G),eR(I.getNode())){return B(1,I.getNode(),!I.isAtEnd(),!1)}if(eR(I.getNode(!0))){return B(1,I.getNode(!0),!1,!1)}}}return null}return y=G.startContainer,J=G.startOffset,K=G.endOffset,3===y.nodeType&&0===J&&ck(y.parentNode)&&(y=y.parentNode,J=p.nodeIndex(y),y=y.parentNode),1!==y.nodeType?null:(K===J+1&&(h=y.childNodes[J]),ck(h)?(v=C=h.cloneNode(!0),(M=q.fire("ObjectSelected",{target:h,targetClone:v})).isDefaultPrevented()?null:(b=vV(C4.fromDom(q.getBody()),"#"+m).fold(function(){return H([])},function(a){return H([a.dom()])}),v=M.targetClone,0===b.length&&(b=H('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",m)).appendTo(q.getBody()),G=q.dom.createRng(),v===C&&fW.ie?(b.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xa0</p>').append(v),G.setStartAfter(b[0].firstChild.firstChild),G.setEndAfter(v)):(b.empty().append("\xa0").append(v).append("\xa0"),G.setStart(b[0].firstChild,1),G.setEnd(b[0].lastChild,0)),b.css({top:p.getPos(h,q.getBody()).y}),b[0].focus(),(g=q.selection.getSel()).removeAllRanges(),g.addRange(G),Gj(cj(C4.fromDom(q.getBody()),"*[data-mce-selected]"),function(a){s5.remove(a,"data-mce-selected")}),h.setAttribute("data-mce-selected","1"),f=h,d(),G)):null)},k=function(){f&&(f.removeAttribute("data-mce-selected"),vV(C4.fromDom(q.getBody()),"#"+m).each(nZ.remove),f=null),vV(C4.fromDom(q.getBody()),"#"+m).each(nZ.remove),f=null},d=function(){i.hide()};return fW.ceFalse&&(function(){q.on("mouseup",function(h){var g=F();g.collapsed&&nU(q,h.clientX,h.clientY)&&D(DN(q,g,!1))}),q.on("click",function(h){var g;(g=kG(q,h.target))&&(ck(g)&&(h.preventDefault(),q.focus()),jX(g)&&q.dom.isChildOf(g,q.selection.getNode())&&k())}),q.on("blur NewBlock",function(){k()}),q.on("ResizeWindow FullscreenStateChanged",function(){return i.reposition()});var c,b,a=function(p,h){var u,l,s=q.dom.getParent(p,q.dom.isBlock),g=q.dom.getParent(h,q.dom.isBlock);return !(!s||!q.dom.isChildOf(s,g)||!1!==ck(kG(q,s)))||s&&(u=s,l=g,!(q.dom.getParent(u,q.dom.isBlock)===q.dom.getParent(l,q.dom.isBlock)))&&function(y){var o=eE(y);if(!y.firstChild){return !1}var C=pH.before(y.firstChild),v=o.next(C);return v&&!l9(v)&&!bP(v)}(s)};b=!1,(c=q).on("touchstart",function(){b=!1}),c.on("touchmove",function(){b=!0}),c.on("touchend",function(h){var g=kG(c,h.target);ck(g)&&(b||(h.preventDefault(),w(CG(c,g))))}),q.on("mousedown",function(l){var g,s=l.target;if((s===A||"HTML"===s.nodeName||q.dom.isChildOf(s,A))&&!1!==nU(q,l.clientX,l.clientY)){if(g=kG(q,s)){ck(g)?(l.preventDefault(),w(CG(q,g))):(k(),jX(g)&&l.shiftKey||AB(l.clientX,l.clientY,q.selection.getRng())||(d(),q.selection.placeCaretAt(l.clientX,l.clientY)))}else{if(!1===eR(s)){k(),d();var h=lN(A,l.clientX,l.clientY);if(h&&!a(l.target,h.node)){l.preventDefault();var p=B(1,h.node,h.before,!1);q.getBody().focus(),D(p)}}}}}),q.on("keypress",function(g){cV.modifierPressed(g)||(g.keyCode,ck(q.selection.getNode())&&g.preventDefault())}),q.on("getSelectionRange",function(h){var g=h.range;if(f){if(!f.parentNode){return void (f=null)}(g=g.cloneRange()).selectNode(f),h.range=g}}),q.on("setSelectionRange",function(h){var g;(g=w(h.range,h.forward))&&(h.range=g)}),q.on("AfterSetSelectionRange",function(h){var g,l=h.range;x(l)||"mcepastebin"===l.startContainer.parentNode.id||d(),g=l.startContainer.parentNode,q.dom.hasClass(g,"mce-offscreen-selection")||k()}),q.on("copy",function(l){var g,o=l.clipboardData;if(!l.isDefaultPrevented()&&l.clipboardData&&!fW.ie){var h=(g=q.dom.get(m))?g.getElementsByTagName("*")[0]:g;h&&(l.preventDefault(),o.clearData(),o.setData("text/html",h.outerHTML),o.setData("text/plain",h.outerText))}}),aL(q),qB(q)}(),r=q.contentStyles,E=".mce-content-body",r.push(i.getCss()),r.push(E+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+E+" *[contentEditable=false] {cursor: default;}"+E+" *[contentEditable=true] {cursor: text;}")),{showCaret:B,showBlockCaretContainer:function(a){a.hasAttribute("data-mce-caret")&&(m1(a),D(F()),q.selection.scrollIntoView(a[0]))},hideFakeCaret:d,destroy:function(){i.destroy(),f=null}}},a7=function(h,f,k){var g,j,d,b,c=1;for(b=h.getShortEndedElements(),(d=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=g=k;j=d.exec(f);){if(g=d.lastIndex,"/"===j[1]){c--}else{if(!j[1]){if(j[2] in b){continue}c++}}if(0===c){break}}return g};function C0(l,d){void 0===d&&(d=vM());var h=function(){};!1!==(l=l||{}).fix_self_closing&&(l.fix_self_closing=!0);var i=l.comment?l.comment:h,c=l.cdata?l.cdata:h,a=l.text?l.text:h,k=l.start?l.start:h,f=l.end?l.end:h,g=l.pi?l.pi:h,b=l.doctype?l.doctype:h;return{parse:function(av){var ae,al,ag,aw,ai,ap,aC,am,ad,af,at,ax,ah,an,au,ar,ac,ay,Z,W,aa,ab,H,U,q,j,ao,Y,ba,z=0,V=[],X=0,G=cQ.decode,F=bG.makeMap("src,href,data,background,formaction,poster,xlink:href"),K=/((java|vb)script|mhtml):/i,Q=function(o){var m,p;for(m=V.length;m--&&V[m].name!==o;){}if(0<=m){for(p=V.length-1;m<=p;p--){(o=V[p]).valid&&f(o.name)}V.length=m}},J=function(A,E,v,m,p){var x,C,D,I,B;if(v=(E=E.toLowerCase()) in at?E:G(v||m||p||""),ah&&!am&&0==(0===(D=E).indexOf("data-")||0===D.indexOf("aria-"))){if(!(x=ay[E])&&Z){for(C=Z.length;C--&&!(x=Z[C]).pattern.test(E);){}-1===C&&(x=null)}if(!x){return}if(x.validValues&&!(v in x.validValues)){return}}if(F[E]&&!l.allow_script_urls){var w=v.replace(/[\s\u0000-\u001F]+/g,"");try{w=decodeURIComponent(w)}catch(y){w=unescape(w)}if(K.test(w)){return}if(B=w,!(I=l).allow_html_data_urls&&(/^data:image\//i.test(B)?!1===I.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(B):/^data:/i.test(B))){return}}am&&(E in F||0===E.indexOf("on"))||(aw.map[E]=v,aw.push({name:E,value:v}))};for(q=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),j=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,af=d.getShortEndedElements(),U=l.self_closing_elements||d.getSelfClosingElements(),at=d.getBoolAttrs(),ah=l.validate,ad=l.remove_internals,ba=l.fix_self_closing,ao=d.getSpecialElements(),H=av+">";ae=q.exec(H);){if(z<ae.index&&a(G(av.substr(z,ae.index-z))),al=ae[6]){":"===(al=al.toLowerCase()).charAt(0)&&(al=al.substr(1)),Q(al)}else{if(al=ae[7]){if(ae.index+ae[0].length>av.length){a(G(av.substr(ae.index))),z=ae.index+ae[0].length;continue}if(":"===(al=al.toLowerCase()).charAt(0)&&(al=al.substr(1)),ax=al in af,ba&&U[al]&&0<V.length&&V[V.length-1].name===al&&Q(al),!ah||(an=d.getElementRule(al))){if(au=!0,ah&&(ay=an.attributes,Z=an.attributePatterns),(ac=ae[8])?((am=-1!==ac.indexOf("data-mce-type"))&&ad&&(au=!1),(aw=[]).map={},ac.replace(j,J)):(aw=[]).map={},ah&&!am){if(W=an.attributesRequired,aa=an.attributesDefault,ab=an.attributesForced,an.removeEmptyAttrs&&!aw.length&&(au=!1),ab){for(ai=ab.length;ai--;){aC=(ar=ab[ai]).name,"{$uid}"===(Y=ar.value)&&(Y="mce_"+X++),aw.map[aC]=Y,aw.push({name:aC,value:Y})}}if(aa){for(ai=aa.length;ai--;){(aC=(ar=aa[ai]).name) in aw.map||("{$uid}"===(Y=ar.value)&&(Y="mce_"+X++),aw.map[aC]=Y,aw.push({name:aC,value:Y}))}}if(W){for(ai=W.length;ai--&&!(W[ai] in aw.map);){}-1===ai&&(au=!1)}if(ar=aw.map["data-mce-bogus"]){if("all"===ar){z=a7(d,av,q.lastIndex),q.lastIndex=z;continue}au=!1}}au&&k(al,aw,ax)}else{au=!1}if(ag=ao[al]){ag.lastIndex=z=ae.index+ae[0].length,(ae=ag.exec(av))?(au&&(ap=av.substr(z,ae.index-z)),z=ae.index+ae[0].length):(ap=av.substr(z),z=av.length),au&&(0<ap.length&&a(ap,!0),f(al)),q.lastIndex=z;continue}ax||(ac&&ac.indexOf("/")===ac.length-1?au&&f(al):V.push({name:al,valid:au}))}else{(al=ae[1])?(">"===al.charAt(0)&&(al=" "+al),l.allow_conditional_comments||"[if"!==al.substr(0,3).toLowerCase()||(al=" "+al),i(al)):(al=ae[2])?c(al.replace(/<!--|-->/g,"")):(al=ae[3])?b(al):(al=ae[4])&&g(al,ae[5])}}z=ae.index+ae[0].length}for(z<av.length&&a(G(av.substr(z))),ai=V.length-1;0<=ai;ai--){(al=V[ai]).valid&&f(al.name)}}}}(C0||(C0={})).findEndTag=a7;var t8=C0,xQ=function(p,y){var h,b,g,k,w,x,z,v,j=y,m=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,q=p.schema;for(x=p.getTempAttrs(),z=j,v=new RegExp(["\\s?("+x.join("|")+')="[^"]+"'].join("|"),"gi"),j=z.replace(v,""),w=q.getShortEndedElements();k=m.exec(j);){b=m.lastIndex,g=k[0].length,h=w[k[1]]?b:t8.findEndTag(q,j,b),j=j.substring(0,b-g)+j.substring(h),m.lastIndex=b-g}return eU(j)},vB={trimExternal:xQ,trimInternal:xQ},w6=0,AO=2,GN=1,tL=function(i,a){var j=i.length+a.length+2,f=new Array(j),n=new Array(j),k=function(l,v,g,b,c){var h=d(l,v,g,b);if(null===h||h.start===v&&h.diag===v-b||h.end===l&&h.diag===l-g){for(var p=l,q=g;p<v||q<b;){p<v&&q<b&&i[p]===a[q]?(c.push([0,i[p]]),++p,++q):b-g<v-l?(c.push([2,i[p]]),++p):(c.push([1,a[q]]),++q)}}else{k(l,h.start,g,h.start-h.diag,c);for(var w=h.start;w<h.end;++w){c.push([0,i[w]])}k(h.end,v,h.end-h.diag,b,c)}},m=function(g,b,l,c){for(var h=g;h-b<c&&h<l&&i[h]===a[h-b];){++h}return{start:g,end:h,diag:b}},d=function(x,C,h,b){var g=C-x,v=b-h;if(0===g||0===v){return null}var A,B,D,z,q,w=g-v,y=v+g,p=(y%2==0?y:y+1)/2;for(f[1+p]=x,n[1+p]=C+1,A=0;A<=p;++A){for(B=-A;B<=A;B+=2){for(D=B+p,B===-A||B!==A&&f[D-1]<f[D+1]?f[D]=f[D+1]:f[D]=f[D-1]+1,q=(z=f[D])-x+h-B;z<C&&q<b&&i[z]===a[q];){f[D]=++z,++q}if(w%2!=0&&w-A<=B&&B<=w+A&&n[D-w]<=f[D]){return m(n[D-w],B+x-h,C,b)}}for(B=w-A;B<=w+A;B+=2){for(D=B+p-w,B===w-A||B!==w+A&&n[D+1]<=n[D-1]?n[D]=n[D+1]-1:n[D]=n[D-1],q=(z=n[D]-1)-x+h-B;x<=z&&h<=q&&i[z]===a[q];){n[D]=z--,q--}if(w%2==0&&-A<=B&&B<=A&&n[D]<=f[D+w]){return m(n[D],B+x-h,C,b)}}}},o=[];return k(0,i.length,0,a.length,o),o},uS=function(a){return o2.isElement(a)?a.outerHTML:o2.isText(a)?cQ.encodeRaw(a.data,!1):o2.isComment(a)?"\x3c!--"+a.data+"--\x3e":""},Ez=function(c,a,f){var b=function(i){var g,j,h;for(h=document.createElement("div"),g=document.createDocumentFragment(),i&&(h.innerHTML=i);j=h.firstChild;){g.appendChild(j)}return g}(a);if(c.hasChildNodes()&&f<c.childNodes.length){var d=c.childNodes[f];d.parentNode.insertBefore(b,d)}else{c.appendChild(b)}},yX=function(a){return z6.filter(z6.map(a.childNodes,uS),function(b){return 0<b.length})},CD=function(d,b){var g,c,f,a=z6.map(b.childNodes,uS);return g=tL(a,d),c=b,f=0,z6.each(g,function(h){h[0]===w6?f++:h[0]===GN?(Ez(c,h[1],f),f++):h[0]===AO&&function(j,i){if(j.hasChildNodes()&&i<j.childNodes.length){var k=j.childNodes[i];k.parentNode.removeChild(k)}}(c,f)}),b},DK=function(b,a){var c=(a||document).createElement("div");return c.innerHTML=b,cO.children(C4.fromDom(c))},yz=function(a){return a.dom().innerHTML},BT=yz,wJ=function(c,a){var f=cO.owner(c).dom(),b=C4.fromDom(f.createDocumentFragment()),d=DK(a,f);aK(b,d),nZ.empty(c),zR.append(c,b)},A9=hI(GG.none()),s1=function(a){return{type:"fragmented",fragments:a,content:"",bookmark:null,beforeBookmark:null}},FK=function(a){return{type:"complete",fragments:null,content:a,bookmark:null,beforeBookmark:null}},rj=function(a){return"fragmented"===a.type?a.fragments.join(""):a.content},oq=function(b){var a=C4.fromTag("body",A9.get().getOrThunk(function(){var c=document.implementation.createHTMLDocument("undo");return A9.set(GG.some(c)),c}));return wJ(a,rj(b)),Gj(cj(a,"*[data-mce-bogus]"),nZ.unwrap),BT(a)},rU=function(d){var c,a,b;return c=yX(d.getBody()),-1!==(a=(b=F8(c,function(g){var f=vB.trimInternal(d.serializer,g);return 0<f.length?[f]:[]})).join("")).indexOf("</iframe>")?s1(b):FK(a)},sE=function(b,a,c){"fragmented"===a.type?CD(a.fragments,b.getBody()):b.setContent(a.content,{format:"raw"}),b.selection.moveToBookmark(c?a.beforeBookmark:a.bookmark)},hV=function(c,a){return !(!c||!a)&&(b=a,rj(c)===rj(b)||(d=a,oq(c)===oq(d)));var d,b};function m5(v){var x,b,e=this,p=0,h=[],w=0,k=function(){return 0===w},j=function(a){k()&&(e.typing=a)},m=function(a){v.setDirty(a)},q=function(a){j(!1),e.add({},a)},g=function(){e.typing&&(j(!1),e.add())};return v.on("init",function(){e.add()}),v.on("BeforeExecCommand",function(c){var a=c.command;"Undo"!==a&&"Redo"!==a&&"mceRepaint"!==a&&(g(),e.beforeChange())}),v.on("ExecCommand",function(c){var a=c.command;"Undo"!==a&&"Redo"!==a&&"mceRepaint"!==a&&q(c)}),v.on("ObjectResizeStart Cut",function(){e.beforeChange()}),v.on("SaveContent ObjectResized blur",q),v.on("DragEnd",q),v.on("KeyUp",function(c){var a=c.keyCode;c.isDefaultPrevented()||((33<=a&&a<=36||37<=a&&a<=40||45===a||c.ctrlKey)&&(q(),v.nodeChanged()),46!==a&&8!==a||v.nodeChanged(),b&&e.typing&&!1===hV(rU(v),h[0])&&(!1===v.isDirty()&&(m(!0),v.fire("change",{level:h[0],lastLevel:null})),v.fire("TypingUndo"),b=!1,v.nodeChanged()))}),v.on("KeyDown",function(c){var a=c.keyCode;if(!c.isDefaultPrevented()){if(33<=a&&a<=36||37<=a&&a<=40||45===a){e.typing&&q(c)}else{var d=c.ctrlKey&&!c.altKey||c.metaKey;!(a<16||20<a)||224===a||91===a||e.typing||d||(e.beforeChange(),j(!0),e.add({},c),b=!0)}}}),v.on("MouseDown",function(a){e.typing&&q(a)}),v.on("input",function(c){var a;c.inputType&&("insertReplacementText"===c.inputType||"insertText"===(a=c).inputType&&null===a.data)&&q(c)}),v.addShortcut("meta+z","","Undo"),v.addShortcut("meta+y,meta+shift+z","","Redo"),v.on("AddUndo Undo Redo ClearUndos",function(a){a.isDefaultPrevented()||v.nodeChanged()}),e={data:h,typing:!1,beforeChange:function(){k()&&(x=b1.getUndoBookmark(v.selection))},add:function(s,f){var y,l,u,d=v.settings;if(u=rU(v),s=s||{},s=bG.extend(s,u),!1===k()||v.removed){return null}if(l=h[p],v.fire("BeforeAddUndo",{level:s,lastLevel:l,originalEvent:f}).isDefaultPrevented()){return null}if(l&&hV(l,s)){return null}if(h[p]&&(h[p].beforeBookmark=x),d.custom_undo_redo_levels&&h.length>d.custom_undo_redo_levels){for(y=0;y<h.length-1;y++){h[y]=h[y+1]}h.length--,p=h.length}s.bookmark=b1.getUndoBookmark(v.selection),p<h.length-1&&(h.length=p+1),h.push(s),p=h.length-1;var c={level:s,lastLevel:l,originalEvent:f};return v.fire("AddUndo",c),0<p&&(m(!0),v.fire("change",c)),s},undo:function(){var a;return e.typing&&(e.add(),e.typing=!1,j(!1)),0<p&&(a=h[--p],sE(v,a,!0),m(!0),v.fire("undo",{level:a})),a},redo:function(){var a;return p<h.length-1&&(a=h[++p],sE(v,a,!1),m(!0),v.fire("redo",{level:a})),a},clear:function(){h=[],p=0,e.typing=!1,e.data=h,v.fire("ClearUndos")},hasUndo:function(){return 0<p||e.typing&&h[0]&&!hV(rU(v),h[0])},hasRedo:function(){return p<h.length-1&&!e.typing},transact:function(a){return g(),e.beforeChange(),e.ignore(a),e.add()},ignore:function(a){try{w++,a()}finally{w--}},extra:function(d,a){var f,c;e.transact(d)&&(c=h[p].bookmark,f=h[p-1],sE(v,f,!0),e.transact(a)&&(h[p-1].beforeBookmark=c))}}}var eY,eA,zH=oI.isEq,pG=function(c,a,f){var b=c.formatter.get(f);if(b){for(var d=0;d<b.length;d++){if(!1===b[d].inherit&&c.dom.is(a,b[d].selector)){return !0}}}return !1},az=function(a,c,f,b){var d=a.dom.getRoot();return c!==d&&(c=a.dom.getParent(c,function(g){return !!pG(a,g,f)||g.parentNode===d||!!oW(a,g,f,b,!0)}),oW(a,c,f,b))},fI=function(b,a,c){return !!zH(a,c.inline)||!!zH(a,c.block)||(c.selector?1===a.nodeType&&b.is(a,c.selector):void 0)},nP=function(h,m,f,b,d,g){var k,l,p,j=f[b];if(f.onmatch){return f.onmatch(m,f,b)}if(j){if("undefined"==typeof j.length){for(k in j){if(j.hasOwnProperty(k)){if(l="attributes"===b?h.getAttrib(m,k):oI.getStyle(h,m,k),d&&!l&&!f.exact){return}if((!d||f.exact)&&!zH(l,oI.normalizeStyleValue(h,oI.replaceVars(j[k],g),k))){return}}}}else{for(p=0;p<j.length;p++){if("attributes"===b?h.getAttrib(m,j[p]):oI.getStyle(h,m,j[p])){return f}}}}return f},oW=function(j,q,f,b,d){var h,m,p,v,k=j.formatter.get(f),g=j.dom;if(k&&q){for(m=0;m<k.length;m++){if(h=k[m],fI(j.dom,q,h)&&nP(g,q,h,"attributes",d,b)&&nP(g,q,h,"styles",d,b)){if(v=h.classes){for(p=0;p<v.length;p++){if(!j.dom.hasClass(q,v[p])){return}}}return h}}}},hk={matchNode:oW,matchName:fI,match:function(c,a,f,b){var d;return b?az(c,b,a,f):(b=c.selection.getNode(),!!az(c,b,a,f)||!((d=c.selection.getStart())===b||!az(c,d,a,f)))},matchAll:function(f,h,d){var g,b=[],c={};return g=f.selection.getStart(),f.dom.getParent(g,function(i){var a,j;for(a=0;a<h.length;a++){j=h[a],!c[j]&&oW(f,i,j,d)&&(c[j]=!0,b.push(j))}},f.dom.getRoot()),b},canApply:function(g,k){var d,b,c,f,h,j=g.formatter.get(k),l=g.dom;if(j){for(d=g.selection.getStart(),b=oI.getParents(l,d),f=j.length-1;0<=f;f--){if(!(h=j[f].selector)||j[f].defaultBlock){return !0}for(c=b.length-1;0<=c;c--){if(l.is(b[c],h)){return !0}}}}return !1},matchesUnInheritedFormatSelector:pG},gO=function(b,a){return b.splitText(a)},i2=function(c){var a=c.startContainer,f=c.startOffset,b=c.endContainer,d=c.endOffset;return a===b&&o2.isText(a)?0<f&&f<a.nodeValue.length&&(a=(b=gO(a,f)).previousSibling,f<d?(a=b=gO(b,d-=f).previousSibling,d=b.nodeValue.length,f=0):d=0):(o2.isText(a)&&0<f&&f<a.nodeValue.length&&(a=gO(a,f),f=0),o2.isText(b)&&0<d&&d<b.nodeValue.length&&(d=(b=gO(b,d).previousSibling).nodeValue.length)),{startContainer:a,startOffset:f,endContainer:b,endOffset:d}},kS=fE,iF="_mce_caret",mI=function(a){return 0<function(c){for(var b=[];c;){if(3===c.nodeType&&c.nodeValue!==kS||1<c.childNodes.length){return[]}1===c.nodeType&&b.push(c),c=c.firstChild}return b}(a).length},dR=function(b){var a;if(b){for(b=(a=new AU(b,b)).current();b;b=a.next()){if(3===b.nodeType){return b}}}return null},qO=function(b){var a=C4.fromTag("span");return s5.setAll(a,{id:iF,"data-mce-bogus":"1","data-mce-type":"format-caret"}),b&&zR.append(a,C4.fromText(kS)),a},c7=function(h,f,k,g){var j,d,b,c;j=f.getRng(!0),d=h.getParent(k,h.isBlock),mI(k)?(!1!==g&&(j.setStartBefore(k),j.setEndBefore(k)),h.remove(k)):((c=dR(k))&&c.nodeValue.charAt(0)===kS&&c.deleteData(0,1),b=c,j.startContainer===b&&0<j.startOffset&&j.setStart(b,j.startOffset-1),j.endContainer===b&&0<j.endOffset&&j.setEnd(b,j.endOffset-1),h.remove(k,!0)),d&&h.isEmpty(d)&&Dz(C4.fromDom(d)),f.setRng(j)},vZ=function(c,a,f,b,d){if(b){c7(a,f,b,d)}else{if(!(b=j9(c,f.getStart()))){for(;b=a.get(iF);){c7(a,f,b,!1)}}}},lB=function(c,a,f){var b=c.dom,d=b.getParent(f,sX.curry(oI.isTextBlock,c));d&&b.isEmpty(d)?f.parentNode.replaceChild(a,f):(a5(C4.fromDom(f)),b.isEmpty(f)?f.parentNode.replaceChild(a,f):b.insertAfter(a,f))},z4=function(b,a){return b.appendChild(a),a},p4=function(c,a){var f,b,d=(f=function(h,g){return z4(h,g.cloneNode(!1))},b=a,function(h,g){for(var i=h.length-1;0<=i;i--){g(h[i],i,h)}}(c,function(g){b=f(b,g)}),b);return z4(d,d.ownerDocument.createTextNode(kS))},cK=function(f){var d=f.dom,b=f.selection,c=f.getBody();f.on("mouseup keydown",function(h){var a,j,g,i;a=c,j=d,g=b,i=h.keyCode,vZ(a,j,g,null,!1),8===i&&g.isCollapsed()&&g.getStart().innerHTML===kS&&vZ(a,j,g,j9(a,g.getStart())),37!==i&&39!==i||vZ(a,j,g,j9(a,g.getStart()))})},jM=function(b,a){return b.schema.getTextInlineElements().hasOwnProperty(uW.name(a))&&!lZ(a.dom())&&!o2.isBogus(a.dom())},b0={},bE=z6.filter,lY=z6.each;eA=function(c){var a,d,b=c.selection.getRng();a=o2.matchNodeNames("pre"),b.collapsed||(d=c.selection.getSelectedBlocks(),lY(bE(bE(d,a),function(f){return a(f.previousSibling)&&-1!==z6.indexOf(d,f.previousSibling)}),function(g){var f,h;f=g.previousSibling,wQ(h=g).remove(),wQ(f).append("<br><br>").append(h.childNodes)}))},b0[eY="pre"]||(b0[eY]=[]),b0[eY].push(eA);var j8=function(b,a){lY(b0[b],function(c){c(a)})},f4=/^(src|href|style)$/,aW=bG.each,DE=oI.isEq,uM=function(a){return/^(TH|TD)$/.test(a.nodeName)},x7=function(d,b,g){var c,f,a;return c=b[g?"startContainer":"endContainer"],f=b[g?"startOffset":"endOffset"],o2.isElement(c)&&(a=c.childNodes.length-1,!g&&f&&f--,c=c.childNodes[a<f?a:f]),o2.isText(c)&&g&&f>=c.nodeValue.length&&(c=new AU(c,d.getBody()).next()||c),o2.isText(c)&&!g&&0===f&&(c=new AU(c,d.getBody()).prev()||c),c},vT=function(c,a,f,b){var d=c.create(f,b);return a.parentNode.insertBefore(d,a),d.appendChild(a),d},xK=function(c,a,d,b){return !(a=oI.getNonWhiteSpaceSibling(a,d,b))||"BR"===a.nodeName||c.isBlock(a)},A4=function(L,E,A,D,H){var w,P,q,x,N,G,K,M,F,J,B,I,k,O,j=L.dom;if(N=j,!(DE(G=D,(K=E).inline)||DE(G,K.block)||(K.selector?o2.isElement(G)&&N.is(G,K.selector):void 0)||(x=D,E.links&&"A"===x.tagName))){return !1}if("all"!==E.remove){for(aW(E.styles,function(b,a){b=oI.normalizeStyleValue(j,oI.replaceVars(b,A),a),"number"==typeof a&&(a=b,H=0),(E.remove_similar||!H||DE(oI.getStyle(j,H,a),b))&&j.setStyle(D,a,""),q=1}),q&&""===j.getAttrib(D,"style")&&(D.removeAttribute("style"),D.removeAttribute("data-mce-style")),aW(E.attributes,function(b,a){var c;if(b=oI.replaceVars(b,A),"number"==typeof a&&(a=b,H=0),!H||DE(j.getAttrib(H,a),b)){if("class"===a&&(b=j.getAttrib(D,a))&&(c="",aW(b.split(/\s+/),function(d){/mce\-\w+/.test(d)&&(c+=(c?" ":"")+d)}),c)){return void j.setAttrib(D,a,c)}"class"===a&&D.removeAttribute("className"),f4.test(a)&&D.removeAttribute("data-mce-"+a),D.removeAttribute(a)}}),aW(E.classes,function(a){a=oI.replaceVars(a,A),H&&!j.hasClass(H,a)||j.removeClass(D,a)}),P=j.getAttribs(D),w=0;w<P.length;w++){var z=P[w].nodeName;if(0!==z.indexOf("_")&&0!==z.indexOf("data-")){return !1}}}return"none"!==E.remove?(M=L,J=E,I=(F=D).parentNode,k=M.dom,O=M.settings.forced_root_block,J.block&&(O?I===k.getRoot()&&(J.list_block&&DE(F,J.list_block)||aW(bG.grep(F.childNodes),function(a){oI.isValid(M,O,a.nodeName.toLowerCase())?B?B.appendChild(a):(B=vT(k,a,O),k.setAttribs(B,M.settings.forced_root_block_attrs)):B=0})):k.isBlock(F)&&!k.isBlock(I)&&(xK(k,F,!1)||xK(k,F.firstChild,!0,1)||F.insertBefore(k.create("br"),F.firstChild),xK(k,F,!0)||xK(k,F.lastChild,!1,1)||F.appendChild(k.create("br")))),J.selector&&J.inline&&!DE(J.inline,F)||k.remove(F,1),!0):void 0},G5=A4,t2=function(q,I,B,G,F){var k,z,H=q.formatter.get(I),A=H[0],J=!0,j=q.dom,w=q.selection,y=function(l){var p,g,h,m,f,c,d=(p=q,g=l,h=I,m=B,f=F,aW(oI.getParents(p.dom,g.parentNode).reverse(),function(i){var a;c||"_start"===i.id||"_end"===i.id||(a=hk.matchNode(p,i,h,m,f))&&!1!==a.split&&(c=i)}),c);return function(R,W,L,v,K,O,U,V){var X,T,N,Q,S,M,P=R.dom;if(L){for(M=L.parentNode,X=v.parentNode;X&&X!==M;X=X.parentNode){for(T=P.clone(X,!1),S=0;S<W.length;S++){if(A4(R,W[S],V,T,T)){T=0;break}}T&&(N&&T.appendChild(N),Q||(Q=T),N=T)}!O||U.mixed&&P.isBlock(L)||(v=P.split(L,v)),N&&(K.parentNode.insertBefore(N,K),Q.appendChild(K))}return v}(q,H,d,l,l,!0,A,B)},E=function(f){var c,h,d,g,a;if(o2.isElement(f)&&j.getContentEditable(f)&&(g=J,J="true"===j.getContentEditable(f),a=!0),c=bG.grep(f.childNodes),J&&!a){for(h=0,d=H.length;h<d&&!A4(q,H[h],B,f,f);h++){}}if(A.deep&&c.length){for(h=0,d=c.length;h<d;h++){E(c[h])}a&&(J=g)}},C=function(c){var a=j.get(c?"_start":"_end"),d=a[c?"firstChild":"lastChild"];return BF(d)&&(d=d[c?"firstChild":"lastChild"]),o2.isText(d)&&0===d.data.length&&(d=c?a.previousSibling||a.nextSibling:a.nextSibling||a.previousSibling),j.remove(a,!0),d},x=function(d){var a,f,c=d.commonAncestorContainer;if(d=o5(q,d,H,!0),A.split){if((a=x7(q,d,!0))!==(f=x7(q,d))){if(/^(TR|TH|TD)$/.test(a.nodeName)&&a.firstChild&&(a="TR"===a.nodeName?a.firstChild.firstChild||a:a.firstChild||a),c&&/^T(HEAD|BODY|FOOT|R)$/.test(c.nodeName)&&uM(f)&&f.firstChild&&(f=f.firstChild||f),j.isChildOf(a,f)&&a!==f&&!j.isBlock(f)&&!uM(a)&&!uM(f)){return a=vT(j,a,"span",{id:"_start","data-mce-type":"bookmark"}),y(a),void (a=C(!0))}a=vT(j,a,"span",{id:"_start","data-mce-type":"bookmark"}),f=vT(j,f,"span",{id:"_end","data-mce-type":"bookmark"}),y(a),y(f),a=C(!0),f=C()}else{a=f=y(a)}d.startContainer=a.parentNode?a.parentNode:a,d.startOffset=j.nodeIndex(a),d.endContainer=f.parentNode?f.parentNode:f,d.endOffset=j.nodeIndex(f)+1}gX(j,d,function(g){aW(g,function(h){E(h),o2.isElement(h)&&"underline"===q.dom.getStyle(h,"text-decoration")&&h.parentNode&&"underline"===oI.getTextDecoration(j,h.parentNode)&&A4(q,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,h)})})};if(G){G.nodeType?((z=j.createRng()).setStartBefore(G),z.setEndAfter(G),x(z)):x(G)}else{if("false"!==j.getContentEditable(w.getNode())){w.isCollapsed()&&A.inline&&!j.select("td[data-mce-selected],th[data-mce-selected]").length?function(Y,M,R,O){var Q,U,ab,L,N,aa,T,X=Y.dom,Z=Y.selection,S=[],W=Z.getRng();for(Q=W.startContainer,U=W.startOffset,3===(N=Q).nodeType&&(U!==Q.nodeValue.length&&(L=!0),N=N.parentNode);N;){if(hk.matchNode(Y,N,M,R,O)){aa=N;break}N.nextSibling&&(L=!0),S.push(N),N=N.parentNode}if(aa){if(L){ab=Z.getBookmark(),W.collapse(!0);var P=o5(Y,W,Y.formatter.get(M),!0);P=i2(P),Y.formatter.remove(M,R,P),Z.moveToBookmark(ab)}else{T=j9(Y.getBody(),aa);var V=qO(!1).dom(),K=p4(S,V);lB(Y,V,T||aa),c7(X,Z,T,!1),Z.setCursorLocation(K,1),X.isEmpty(aa)&&X.remove(aa)}}}(q,I,B,F):(k=b1.getPersistentBookmark(q.selection,!0),x(w.getRng()),w.moveToBookmark(k),A.inline&&hk.match(q,I,B,w.getStart())&&oI.moveStart(j,w,w.getRng()),q.nodeChanged())}else{G=w.getNode();for(var D=0,b=H.length;D<b&&(!H[D].ceFalseOverride||!A4(q,H[D],B,G,G));D++){}}}},u9=bG.each,Fj=function(a){return a&&1===a.nodeType&&!BF(a)&&!lZ(a)&&!o2.isBogus(a)},zA=function(b,a){var c;for(c=b;c;c=c[a]){if(3===c.nodeType&&0!==c.nodeValue.length){return b}if(1===c.nodeType&&!BF(c)){return c}}return b},CU=function(d,b,g){var c,f,a=new gz(d);if(b&&g&&(b=zA(b,"previousSibling"),g=zA(g,"nextSibling"),a.compare(b,g))){for(c=b.nextSibling;c&&c!==g;){c=(f=c).nextSibling,b.appendChild(f)}return d.remove(g),bG.each(bG.grep(g.childNodes),function(h){b.appendChild(h)}),b}return g},D0=function(b,a,c){u9(b.childNodes,function(d){Fj(d)&&(a(d)&&c(d),d.hasChildNodes()&&D0(d,a,c))})},yR=function(b,a){return E6(function(d,c){return !(!c||!oI.getStyle(b,c,d))},a)},Cj=function(b,c,a){return E6(function(f,d,g){b.setStyle(g,f,d),""===g.getAttribute("style")&&g.removeAttribute("style"),w1(b,g)},c,a)},w1=function(b,a){"SPAN"===a.nodeName&&0===b.getAttribs(a).length&&b.remove(a,!0)},BN=function(b,a){var c;1===a.nodeType&&a.parentNode&&1===a.parentNode.nodeType&&(c=oI.getTextDecoration(b,a.parentNode),b.getStyle(a,"color")&&c?b.setStyle(a,"text-decoration",c):b.getStyle(a,"text-decoration")===c&&b.setStyle(a,"text-decoration",null))},tG=function(d,b,a,c){u9(b,function(e){u9(d.dom.select(e.inline,c),function(f){Fj(f)&&G5(d,e,a,f,e.exact?f:null)}),function(g,h,f){if(h.clear_child_styles){var i=h.links?"*:not(a)":"*";u9(g.select(i,f),function(j){Fj(j)&&u9(h.styles,function(l,k){g.setStyle(j,k,"")})})}}(d.dom,e,c)})},GH=function(c,a,d,b){(a.styles.color||a.styles.textDecoration)&&(bG.walk(b,E6(BN,c),"childNodes"),BN(c,b))},rP=function(c,a,d,b){a.styles&&a.styles.backgroundColor&&D0(b,yR(c,"fontSize"),Cj(c,"backgroundColor",oI.replaceVars(a.styles.backgroundColor,d)))},oR=function(c,a,d,b){"sub"!==a.inline&&"sup"!==a.inline||(D0(b,yR(c,"fontSize"),Cj(c,"fontSize","")),c.remove(c.select("sup"===a.inline?"sub":"sup",b),!0))},sq=function(c,a,d,b){b&&!1!==a.merge_siblings&&(b=CU(c,oI.getNonWhiteSpaceSibling(b),b),b=CU(c,b,oI.getNonWhiteSpaceSibling(b,!0)))},sW=function(b,e,c,d,a){hk.matchNode(b,a.parentNode,c,d)&&G5(b,e,d,a)||e.merge_with_parents&&b.dom.getParent(a.parentNode,function(f){if(hk.matchNode(b,f,c,d)){return G5(b,e,d,a),!0}})},iz=bG.each,nK=function(w,j,q,d){var x,G,E=w.formatter.get(j),B=E[0],k=!d&&w.selection.isCollapsed(),m=w.dom,l=w.selection,A=function(c,b){if(b=b||B,c){if(b.onformat&&b.onformat(c,b,q,d),iz(b.styles,function(h,g){m.setStyle(c,g,oI.replaceVars(h,q))}),b.styles){var a=m.getAttrib(c,"style");a&&c.setAttribute("data-mce-style",a)}iz(b.attributes,function(h,g){m.setAttrib(c,g,oI.replaceVars(h,q))}),iz(b.classes,function(g){g=oI.replaceVars(g,q),m.hasClass(c,g)||m.addClass(c,g)})}},f=function(b,a){var c=!1;return !!B.selector&&(iz(b,function(g){if(!("collapsed" in g&&g.collapsed!==k)){return m.is(a,g.selector)&&!lZ(a)?(A(a,g),!(c=!0)):void 0}}),c)},D=function(h,n,g,p){var b,i,o=[],a=!0;b=B.inline||B.block,i=h.create(b),A(i),gX(h,n,function(s){var c,r=function(C){var v,J,y,I;if(I=a,v=C.nodeName.toLowerCase(),J=C.parentNode.nodeName.toLowerCase(),1===C.nodeType&&h.getContentEditable(C)&&(I=a,a="true"===h.getContentEditable(C),y=!0),oI.isEq(v,"br")){return c=0,void (B.block&&h.remove(C))}if(B.wrapper&&hk.matchNode(w,C,j,q)){c=0}else{if(a&&!y&&B.block&&!B.wrapper&&oI.isTextBlock(w,v)&&oI.isValid(w,J,b)){return C=h.rename(C,b),A(C),o.push(C),void (c=0)}if(B.selector){var u=f(E,C);if(!B.inline||u){return void (c=0)}}!a||y||!oI.isValid(w,b,v)||!oI.isValid(w,J,b)||!p&&3===C.nodeType&&1===C.nodeValue.length&&65279===C.nodeValue.charCodeAt(0)||lZ(C)||B.inline&&h.isBlock(C)?(c=0,iz(bG.grep(C.childNodes),r),y&&(a=I),c=0):(c||(c=h.clone(i,!1),C.parentNode.insertBefore(c,C),o.push(c)),c.appendChild(C))}};iz(s,r)}),!0===B.links&&iz(o,function(r){var c=function(s){"A"===s.nodeName&&A(s,B),iz(bG.grep(s.childNodes),c)};c(r)}),iz(o,function(y){var u,I,v,C,s,c=function(r){var t=!1;return iz(r.childNodes,function(K){if((J=K)&&1===J.nodeType&&!BF(J)&&!lZ(J)&&!o2.isBogus(J)){return t=K,!1}var J}),t};I=0,iz(y.childNodes,function(r){oI.isWhiteSpaceNode(r)||BF(r)||I++}),u=I,!(1<o.length)&&h.isBlock(y)||0!==u?(B.inline||B.wrapper)&&(B.exact||1!==u||((C=c(v=y))&&!BF(C)&&hk.matchName(h,C,B)&&(s=h.clone(C,!1),A(s),h.replace(s,v,!0),h.remove(C,1)),y=s||v),tG(w,E,q,y),sW(w,B,j,q,y),rP(h,B,q,y),oR(h,B,q,y),sq(h,B,q,y)):h.remove(y,1)})};if("false"!==m.getContentEditable(l.getNode())){if(B){if(d){d.nodeType?f(E,d)||((G=m.createRng()).setStartBefore(d),G.setEndAfter(d),D(m,o5(w,G,E),0,!0)):D(m,d,0,!0)}else{if(k&&B.inline&&!m.select("td[data-mce-selected],th[data-mce-selected]").length){!function(C,M,h){var b,g,v,K,L,N,J=C.selection;K=(b=J.getRng(!0)).startOffset,N=b.startContainer.nodeValue,(g=j9(C.getBody(),J.getStart()))&&(v=dR(g));var p,y,I=/[^\s\u00a0\u00ad\u200b\ufeff]/;N&&0<K&&K<N.length&&I.test(N.charAt(K))&&I.test(N.charAt(K-1))?(L=J.getBookmark(),b.collapse(!0),b=o5(C,b,C.formatter.get(M)),b=i2(b),C.formatter.apply(M,h,b),J.moveToBookmark(L)):(g&&v.nodeValue===kS||(p=C.getDoc(),y=qO(!0).dom(),v=(g=p.importNode(y,!0)).firstChild,b.insertNode(g),K=1),C.formatter.apply(M,h,g),J.setCursorLocation(v,K))}(w,j,q)}else{var F=w.selection.getNode();w.settings.forced_root_block||!E[0].defaultBlock||m.getParent(F,m.isBlock)||nK(w,E[0].defaultBlock),w.selection.setRng(tY(w.selection.getRng())),x=b1.getPersistentBookmark(w.selection,!0),D(m,o5(w,l.getRng(),E)),B.styles&&GH(m,B,q,F),l.moveToBookmark(x),oI.moveStart(m,l,l.getRng()),w.nodeChanged()}}j8(j,w)}}else{d=l.getNode();for(var H=0,z=E.length;H<z;H++){if(E[H].ceFalseOverride&&m.is(d,E[H].selector)){return void A(d,E[H])}}}},fD={applyFormat:nK},eT=bG.each,zY=function(p,y,h,b,g){var k,w,x,z,v,j,m,q;null===y.get()&&(w=p,x={},(k=y).set({}),w.on("NodeChange",function(d){var a=oI.getParents(w.dom,d.element),c={};a=bG.grep(a,function(f){return 1===f.nodeType&&!f.getAttribute("data-mce-bogus")}),eT(k.get(),function(f,i){eT(a,function(e){return w.formatter.matchNode(e,i,{},f.similar)?(x[i]||(eT(f,function(l){l(!0,{node:e,format:i,parents:a})}),x[i]=f),c[i]=f,!1):!hk.matchesUnInheritedFormatSelector(w,e,i)&&void 0})}),eT(x,function(i,f){c[f]||(delete x[f],eT(i,function(l){l(!1,{node:d.element,format:f,parents:a})}))})})),v=h,j=b,m=g,q=(z=y).get(),eT(v.split(","),function(a){q[a]||(q[a]=[],q[a].similar=m),q[a].push(j)}),z.set(q)},pY={get:function(b){var a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return !0},onformat:function(f,d,c){bG.each(c,function(h,g){b.setAttrib(f,g,h)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return bG.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(c){a[c]={block:c,remove:"all"}}),a}},aR=bG.each,f0=BG.DOM,n7=function(h,b){var j,i,d,a=b&&b.schema||vM({}),c=function(l){var g,m,k;return i="string"==typeof l?{name:l,classes:[],attrs:{}}:l,g=f0.create(i.name),m=g,(k=i).classes.length&&f0.addClass(m,k.classes.join(" ")),f0.setAttribs(m,k.attrs),g},f=function(m,w,B){var g,k,q,z,A,C,y,p,v=0<w.length&&w[0],x=v&&v.name;if(A=x,C="string"!=typeof(z=m)?z.nodeName.toLowerCase():z,y=a.getElementRule(C),q=!(!(p=y&&y.parentsRequired)||!p.length)&&(A&&-1!==bG.inArray(p,A)?A:p[0])){x===q?(k=w[0],w=w.slice(1)):k=q}else{if(v){k=w[0],w=w.slice(1)}else{if(!B){return m}}}return k&&(g=c(k)).appendChild(m),B&&(g||(g=f0.create("div")).appendChild(m),bG.each(B,function(n){var l=c(n);g.insertBefore(l,m)})),f(g,w,k&&k.siblings)};return h&&h.length?(i=h[0],j=c(i),(d=f0.create("div")).appendChild(f(j,h.slice(1),i.siblings)),d):""},pA=function(d){var c,b={classes:[],attrs:{}};return"*"!==(d=b.selector=bG.trim(d))&&(c=d.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(h,f,k,g,j){switch(f){case"#":b.attrs.id=k;break;case".":b.classes.push(k);break;case":":-1!==bG.inArray("checked disabled enabled read-only required".split(" "),k)&&(b.attrs[k]=k)}if("["===g){var a=j.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(b.attrs[a[1]]=a[2])}return""})),b.name=c||"div",b},hQ=function(a){return a&&"string"==typeof a?(a=(a=a.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),bG.map(a.split(/(?:>|\s+(?![^\[\]]+\]))/),function(c){var b=bG.map(c.split(/(?:~\+|~|\+)/),pA),d=b.pop();return b.length&&(d.siblings=b),d}).reverse()):[]},g6=function(f,h){var m,b,d,g,k,l,p="";if(!1===(l=f.settings.preview_styles)){return""}"string"!=typeof l&&(l="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var j=function(a){return a.replace(/%(\w+)/g,"")};if("string"==typeof h){if(!(h=f.formatter.get(h))){return}h=h[0]}return"preview" in h&&!1===(l=h.preview)?"":(m=h.block||h.inline||"span",(g=hQ(h.selector)).length?(g[0].name||(g[0].name=m),m=h.selector,b=n7(g,f)):b=n7([m],f),d=f0.select(m,b)[0]||b.firstChild,aR(h.styles,function(c,a){(c=j(c))&&f0.setStyle(d,a,c)}),aR(h.attributes,function(c,a){(c=j(c))&&f0.setAttrib(d,a,c)}),aR(h.classes,function(a){a=j(a),f0.hasClass(d,a)||f0.addClass(d,a)}),f.fire("PreviewFormats"),f0.setStyles(b,{position:"absolute",left:-65535}),f.getBody().appendChild(b),k=f0.getStyle(f.getBody(),"fontSize",!0),k=/px$/.test(k)?parseInt(k,10):0,aR(l.split(" "),function(c){var a=f0.getStyle(d,c,!0);if(!("background-color"===c&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(a)&&(a=f0.getStyle(f.getBody(),c,!0),"#ffffff"===f0.toHex(a).toLowerCase())||"color"===c&&"#000000"===f0.toHex(a).toLowerCase())){if("font-size"===c&&/em|%$/.test(a)){if(0===k){return}a=parseFloat(a)/(/%$/.test(a)?100:1)*k+"px"}"border"===c&&a&&(p+="padding:0 2px;"),p+=c+":"+a+";"}}),f.fire("AfterPreviewFormats"),f0.remove(b),p)},jH=function(d,b,g,c,f){var a=b.get(g);!hk.match(d,g,c,f)||"toggle" in a[0]&&!a[0].toggle?fD.applyFormat(d,g,c,f):t2(d,g,c,f)},lj=function(b){b.addShortcut("meta+b","","Bold"),b.addShortcut("meta+i","","Italic"),b.addShortcut("meta+u","","Underline");for(var a=1;a<=6;a++){b.addShortcut("access+"+a,"",["FormatBlock",!1,"h"+a])}b.addShortcut("access+7","",["FormatBlock",!1,"p"]),b.addShortcut("access+8","",["FormatBlock",!1,"div"]),b.addShortcut("access+9","",["FormatBlock",!1,"address"])};function iX(d){var b,g,c,f=(b=d,g={},(c=function(i,h){i&&("string"!=typeof i?bG.each(i,function(k,j){c(j,k)}):(h=h.length?h:[h],bG.each(h,function(j){"undefined"==typeof j.deep&&(j.deep=!j.selector),"undefined"==typeof j.split&&(j.split=!j.selector||j.inline),"undefined"==typeof j.remove&&j.selector&&!j.inline&&(j.remove="none"),j.selector&&j.inline&&(j.mixed=!0,j.block_expand=!0),"string"==typeof j.classes&&(j.classes=j.classes.split(/\s+/))}),g[i]=h))})(pY.get(b.dom)),c(b.settings.formats),{get:function(h){return h?g[h]:g},register:c,unregister:function(h){return h&&g[h]&&delete g[h],g}}),a=hI(null);return lj(d),cK(d),{get:f.get,register:f.register,unregister:f.unregister,apply:E6(fD.applyFormat,d),remove:E6(t2,d),toggle:E6(jH,d,f),match:E6(hk.match,d),matchAll:E6(hk.matchAll,d),matchNode:E6(hk.matchNode,d),canApply:E6(hk.canApply,d),formatChanged:E6(zY,d,a),getCssText:E6(g6,d)}}var m0,d9=Object.prototype.hasOwnProperty,q5=(m0=function(b,a){return a},function(){for(var d=new Array(arguments.length),b=0;b<d.length;b++){d[b]=arguments[b]}if(0===d.length){throw new Error("Can't merge zero objects")}for(var g={},c=0;c<d.length;c++){var f=d[c];for(var a in f){d9.call(f,a)&&(g[a]=m0(g[a],f[a]))}}return g}),dM={register:function(a,b,d){a.addAttributeFilter("data-mce-tabindex",function(g,c){for(var h,f=g.length;f--;){(h=g[f]).attr("tabindex",h.attributes.map["data-mce-tabindex"]),h.attr(c,null)}}),a.addAttributeFilter("src,href,style",function(k,h){for(var m,j,l=k.length,g="data-mce-"+h,c=b.url_converter,f=b.url_converter_scope;l--;){(j=(m=k[l]).attributes.map[g])!==undefined?(m.attr(h,0<j.length?j:null),m.attr(g,null)):(j=m.attributes.map[h],"style"===h?j=d.serializeStyle(d.parseStyle(j),m.name):c&&(j=c.call(f,j,h,m.name)),m.attr(h,0<j.length?j:null))}}),a.addAttributeFilter("class",function(g){for(var c,h,f=g.length;f--;){(h=(c=g[f]).attr("class"))&&(h=c.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),c.attr("class",0<h.length?h:null))}}),a.addAttributeFilter("data-mce-type",function(g,c,i){for(var f,h=g.length;h--;){"bookmark"!==(f=g[h]).attributes.map["data-mce-type"]||i.cleanup||f.remove()}}),a.addNodeFilter("noscript",function(f){for(var c,g=f.length;g--;){(c=f[g].firstChild)&&(c.value=cQ.decode(c.value))}}),a.addNodeFilter("script,style",function(j,g){for(var l,h,k,f=j.length,c=function(i){return i.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};f--;){h=(l=j[f]).firstChild?l.firstChild.value:"","script"===g?((k=l.attr("type"))&&l.attr("type","mce-no/type"===k?null:k.replace(/^mce\-/,"")),"xhtml"===b.element_format&&0<h.length&&(l.firstChild.value="// <![CDATA[\n"+c(h)+"\n// ]]>")):"xhtml"===b.element_format&&0<h.length&&(l.firstChild.value="\x3c!--\n"+c(h)+"\n--\x3e")}}),a.addNodeFilter("#comment",function(f){for(var c,g=f.length;g--;){0===(c=f[g]).value.indexOf("[CDATA[")?(c.name="#cdata",c.type=4,c.value=c.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===c.value.indexOf("mce:protected ")&&(c.name="#text",c.type=3,c.raw=!0,c.value=unescape(c.value).substr(14))}}),a.addNodeFilter("xml:namespace,input",function(g,c){for(var h,f=g.length;f--;){7===(h=g[f]).type?h.remove():1===h.type&&("input"!==c||"type" in h.attributes.map||h.attr("type","text"))}}),a.addAttributeFilter("data-mce-type",function(c){Gj(c,function(f){"format-caret"===f.attr("data-mce-type")&&(f.isEmpty(a.schema.getNonEmptyElements())?f.remove():f.unwrap())})}),a.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(f,c){for(var g=f.length;g--;){f[g].attr(c,null)}})},trimTrailingBr:function(c){var a,d,b=function(f){return f&&"br"===f.name};b(a=c.lastChild)&&b(d=a.prev)&&(a.remove(),d.remove())}},wD={process:function(m,w,g){return k=g,(h=m)&&h.hasEventListeners("PreProcess")&&!k.no_events?(d=w,j=g,p=(b=m).dom,d=d.cloneNode(!0),(q=document.implementation).createHTMLDocument&&(v=q.createHTMLDocument(""),bG.each("BODY"===d.nodeName?d.childNodes:[d],function(a){v.body.appendChild(v.importNode(a,!0))}),d="BODY"!==d.nodeName?v.body.firstChild:v.body,x=p.doc,p.doc=v),cq(b,q5(j,{node:d})),x&&(p.doc=x),d):w;var b,d,j,q,v,x,p,h,k}},lU=function(d,b,c){d.addNodeFilter("font",function(a){Gj(a,function(j){var g,l=b.parse(j.attr("style")),h=j.attr("color"),k=j.attr("face"),f=j.attr("size");h&&(l.color=h),k&&(l["font-family"]=k),f&&(l["font-size"]=c[parseInt(j.attr("size"),10)-1]),j.name="span",j.attr("style",b.serialize(l)),g=j,Gj(["color","face","size"],function(i){g.attr(i,null)})})})},AJ=function(c,a){var d,b=AX();a.convert_fonts_to_spans&&lU(c,b,bG.explode(a.font_size_legacy_values)),d=b,c.addNodeFilter("strike",function(f){Gj(f,function(h){var g=d.parse(h.attr("style"));g["text-decoration"]="line-through",h.name="span",h.attr("style",d.serialize(g))})})},qI={register:function(b,a){a.inline_styles&&AJ(b,a)}},c2=/^[ \t\r\n]*$/,j4={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},cF=function(g,d,j){var f,h,c=j?"lastChild":"firstChild",b=j?"prev":"next";if(g[c]){return g[c]}if(g!==d){if(f=g[b]){return f}for(h=g.parent;h&&h!==d;h=h.parent){if(f=h[b]){return f}}}},bW=function(){function b(c,a){this.name=c,1===(this.type=a)&&(this.attributes=[],this.attributes.map={})}return b.create=function(d,a){var f,c;if(f=new b(d,j4[d]||1),a){for(c in a){f.attr(c,a[c])}}return f},b.prototype.replace=function(a){return a.parent&&a.remove(),this.insert(a,this),this.remove(),this},b.prototype.attr=function(d,a){var f,c;if("string"!=typeof d){for(c in d){this.attr(c,d[c])}return this}if(f=this.attributes){if(a!==undefined){if(null===a){if(d in f.map){for(delete f.map[d],c=f.length;c--;){if(f[c].name===d){return f=f.splice(c,1),this}}}return this}if(d in f.map){for(c=f.length;c--;){if(f[c].name===d){f[c].value=a;break}}}else{f.push({name:d,value:a})}return f.map[d]=a,this}return f.map[d]}},b.prototype.clone=function(){var f,c,h,d,g,a=new b(this.name,this.type);if(h=this.attributes){for((g=[]).map={},f=0,c=h.length;f<c;f++){"id"!==(d=h[f]).name&&(g[g.length]={name:d.name,value:d.value},g.map[d.name]=d.value)}a.attributes=g}return a.value=this.value,a.shortEnded=this.shortEnded,a},b.prototype.wrap=function(a){return this.parent.insert(a,this),a.append(this),this},b.prototype.unwrap=function(){var c,a;for(c=this.firstChild;c;){a=c.next,this.insert(c,this,!0),c=a}this.remove()},b.prototype.remove=function(){var c=this.parent,a=this.next,d=this.prev;return c&&(c.firstChild===this?(c.firstChild=a)&&(a.prev=null):d.next=a,c.lastChild===this?(c.lastChild=d)&&(d.next=null):a.prev=d,this.parent=this.next=this.prev=null),this},b.prototype.append=function(c){var a;return c.parent&&c.remove(),(a=this.lastChild)?((a.next=c).prev=a,this.lastChild=c):this.lastChild=this.firstChild=c,c.parent=this,c},b.prototype.insert=function(d,a,f){var c;return d.parent&&d.remove(),c=a.parent||this,f?(a===c.firstChild?c.firstChild=d:a.prev.next=d,d.prev=a.prev,(d.next=a).prev=d):(a===c.lastChild?c.lastChild=d:a.next.prev=d,d.next=a.next,(d.prev=a).next=d),d.parent=c,d},b.prototype.getAll=function(c){var a,d=[];for(a=this.firstChild;a;a=cF(a,this)){a.name===c&&d.push(a)}return d},b.prototype.empty=function(){var c,a,d;if(this.firstChild){for(c=[],d=this.firstChild;d;d=cF(d,this)){c.push(d)}for(a=c.length;a--;){(d=c[a]).parent=d.firstChild=d.lastChild=d.next=d.prev=null}}return this.firstChild=this.lastChild=null,this},b.prototype.isEmpty=function(f,c,h){var d,g,a=this.firstChild;if(c=c||{},a){do{if(1===a.type){if(a.attributes.map["data-mce-bogus"]){continue}if(f[a.name]){return !1}for(d=a.attributes.length;d--;){if("name"===(g=a.attributes[d].name)||0===g.indexOf("data-mce-bookmark")){return !1}}}if(8===a.type){return !1}if(3===a.type&&!c2.test(a.value)){return !1}if(3===a.type&&a.parent&&c[a.parent.name]&&c2.test(a.value)){return !1}if(h&&h(a)){return !1}}while(a=cF(a,this))}return !0},b.prototype.walk=function(a){return cF(this,null,a)},b}(),mD=function(c,a,d,b){(c.padd_empty_with_br||a.insert)&&d[b.name]?b.empty().append(new bW("br",1)).shortEnded=!0:b.empty().append(new bW("#text",3)).value="\xa0"},kN=function(a){return gJ(a,"#text")&&"\xa0"===a.firstChild.value},gJ=function(b,a){return b&&b.firstChild&&b.firstChild===b.lastChild&&b.firstChild.name===a},bz=function(b,c,a,d){return d.isEmpty(c,a,function(g){return f=g,(h=b.getElementRule(f.name))&&h.paddEmpty;var f,h})},CX=function(b,a){return b&&(a[b.name]||"br"===b.name)},t5=function(c,b){var a=c.schema;b.remove_trailing_brs&&c.addNodeFilter("br",function(y,D,k){var h,j,v,B,C,E,A,q,x=y.length,z=bG.extend({},a.getBlockElements()),p=a.getNonEmptyElements(),w=a.getNonEmptyElements();for(z.body=1,h=0;h<x;h++){if(v=(j=y[h]).parent,z[j.parent.name]&&j===v.lastChild){for(C=j.prev;C;){if("span"!==(E=C.name)||"bookmark"!==C.attr("data-mce-type")){if("br"!==E){break}if("br"===E){j=null;break}}C=C.prev}j&&(j.remove(),bz(a,p,w,v)&&(A=a.getElementRule(v.name))&&(A.removeEmpty?v.remove():A.paddEmpty&&mD(b,k,z,v)))}else{for(B=j;v&&v.firstChild===B&&v.lastChild===B&&!z[(B=v).name];){v=v.parent}B===v&&!0!==b.padd_empty_with_br&&((q=new bW("#text",3)).value="\xa0",j.replace(q))}}}),c.addAttributeFilter("href",function(g){var d,i,f,h=g.length;if(!b.allow_unsafe_link_target){for(;h--;){"a"===(d=g[h]).name&&"_blank"===d.attr("target")&&d.attr("rel",(i=d.attr("rel"),f=i?bG.trim(i):"",/\b(noopener)\b/g.test(f)?f:f.split(" ").filter(function(j){return 0<j.length}).concat(["noopener"]).sort().join(" ")))}}}),b.allow_html_in_named_anchor||c.addAttributeFilter("id,name",function(h){for(var f,k,g,j,d=h.length;d--;){if("a"===(j=h[d]).name&&j.firstChild&&!j.attr("href")){for(g=j.parent,f=j.lastChild;k=f.prev,g.insert(f,j),f=k;){}}}}),b.fix_list_elements&&c.addNodeFilter("ul,ol",function(g){for(var d,i,f=g.length;f--;){if("ul"===(i=(d=g[f]).parent).name||"ol"===i.name){if(d.prev&&"li"===d.prev.name){d.prev.append(d)}else{var h=new bW("li",1);h.attr("style","list-style-type: none"),d.wrap(h)}}}}),b.validate&&a.getValidClasses()&&c.addAttributeFilter("class",function(j){for(var p,g,d,f,h,l,m,q=j.length,k=a.getValidClasses();q--;){for(g=(p=j[q]).attr("class").split(" "),h="",d=0;d<g.length;d++){f=g[d],m=!1,(l=k["*"])&&l[f]&&(m=!0),l=k[p.name],!m&&l&&l[f]&&(m=!0),m&&(h&&(h+=" "),h+=f)}h.length||(h=null),p.attr("class",h)}})},xN=bG.makeMap,vq=bG.each,w3=bG.explode,AL=bG.extend;function GK(d,b){void 0===b&&(b=vM());var a={},c=[],f={},h={};(d=d||{}).validate=!("validate" in d)||d.validate,d.root_name=d.root_name||"body";var i=function(l){var j,m,k;m in a&&((k=f[m])?k.push(l):f[m]=[l]),j=c.length;for(;j--;){(m=c[j].name) in l.attributes.map&&((k=h[m])?k.push(l):h[m]=[l])}return l},g={schema:b,addAttributeFilter:function(j,k){vq(w3(j),function(m){var l;for(l=0;l<c.length;l++){if(c[l].name===m){return void c[l].callbacks.push(k)}}c.push({name:m,callbacks:[k]})})},getAttributeFilters:function(){return[].concat(c)},addNodeFilter:function(j,k){vq(w3(j),function(m){var l=a[m];l||(a[m]=l=[]),l.push(k)})},getNodeFilters:function(){var k=[];for(var j in a){a.hasOwnProperty(j)&&k.push({name:j,callbacks:a[j]})}return k},filterNode:i,parse:function(V,Z){var G,M,J,L,Q,D,H,X,P,U,W,O=[];Z=Z||{},f={},h={},P=AL(xN("script,style,head,html,body,title,meta,param"),b.getBlockElements());var T=b.getNonEmptyElements(),K=b.children,R=d.validate,B="forced_root_block" in Z?Z.forced_root_block:d.forced_root_block,Y=b.getWhiteSpaceElements(),q=/^[ \t\r\n]+/,I=/[ \t\r\n]+$/,z=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;U=Y.hasOwnProperty(Z.context)||Y.hasOwnProperty(d.root_name);var k=function(o,l){var p,m=new bW(o,l);return o in a&&((p=f[o])?p.push(m):f[o]=[m]),m},F=function(s){var m,v,p,u,l=b.getBlockElements();for(m=s.prev;m&&3===m.type;){if(0<(p=m.value.replace(I,"")).length){return void (m.value=p)}if(v=m.next){if(3===v.type&&v.value.length){m=m.prev;continue}if(!l[v.name]&&"script"!==v.name&&"style"!==v.name){m=m.prev;continue}}u=m.prev,m.remove(),m=u}};G=t8({validate:R,allow_script_urls:d.allow_script_urls,allow_conditional_comments:d.allow_conditional_comments,self_closing_elements:function(m){var l,o={};for(l in m){"li"!==l&&"p"!==l&&(o[l]=m[l])}return o}(b.getSelfClosingElements()),cdata:function(l){W.append(k("#cdata",4)).value=l},text:function(m,l){var o;U||(m=m.replace(z," "),CX(W.lastChild,P)&&(m=m.replace(q,""))),0!==m.length&&((o=k("#text",3)).raw=!!l,W.append(o).value=m)},comment:function(l){W.append(k("#comment",8)).value=l},pi:function(m,l){W.append(k(m,7)).value=l,F(W)},doctype:function(l){W.append(k("#doctype",10)).value=l,F(W)},start:function(w,s,y){var v,x,p,l,m;if(p=R?b.getElementRule(w):{}){for((v=k(p.outputName||w,1)).attributes=s,v.shortEnded=y,W.append(v),(m=K[W.name])&&K[v.name]&&!m[v.name]&&O.push(v),x=c.length;x--;){(l=c[x].name) in s.map&&((H=h[l])?H.push(v):h[l]=[v])}P[w]&&F(v),y||(W=v),!U&&Y[w]&&(U=!0)}},end:function(s){var m,v,p,u,l;if(v=R?b.getElementRule(s):{}){if(P[s]&&!U){if((m=W.firstChild)&&3===m.type){if(0<(p=m.value.replace(q,"")).length){m.value=p,m=m.next}else{for(u=m.next,m.remove(),m=u;m&&3===m.type;){p=m.value,u=m.next,(0===p.length||A.test(p))&&(m.remove(),m=u),m=u}}}if((m=W.lastChild)&&3===m.type){if(0<(p=m.value.replace(I,"")).length){m.value=p,m=m.prev}else{for(u=m.prev,m.remove(),m=u;m&&3===m.type;){p=m.value,u=m.prev,(0===p.length||A.test(p))&&(m.remove(),m=u),m=u}}}}if(U&&Y[s]&&(U=!1),v.removeEmpty&&bz(b,T,Y,W)&&!W.attributes.map.name&&!W.attr("id")){return l=W.parent,P[W.name]?W.empty().remove():W.unwrap(),void (W=l)}v.paddEmpty&&(kN(W)||bz(b,T,Y,W))&&mD(d,Z,P,W),W=W.parent}}},b);var j=W=new bW(Z.context||d.root_name,11);if(G.parse(V),R&&O.length&&(Z.context?Z.invalid=!0:function(ac){var ah,y,v,x,N,af,ag,ai,ae,E,ab,ad,C,aa,w,S;for(ad=xN("tr,td,th,tbody,thead,tfoot,table"),E=b.getNonEmptyElements(),ab=b.getWhiteSpaceElements(),C=b.getTextBlockElements(),aa=b.getSpecialElements(),ah=0;ah<ac.length;ah++){if((y=ac[ah]).parent&&!y.fixed){if(C[y.name]&&"li"===y.parent.name){for(w=y.next;w&&C[w.name];){w.name="li",w.fixed=!0,y.parent.insert(w,y.parent),w=w.next}y.unwrap(y)}else{for(x=[y],v=y.parent;v&&!b.isValidChild(v.name,y.name)&&!ad[v.name];v=v.parent){x.push(v)}if(v&&1<x.length){for(x.reverse(),N=af=i(x[0].clone()),ae=0;ae<x.length-1;ae++){for(b.isValidChild(af.name,x[ae].name)?(ag=i(x[ae].clone()),af.append(ag)):ag=af,ai=x[ae].firstChild;ai&&ai!==x[ae+1];){S=ai.next,ag.append(ai),ai=S}af=ag}bz(b,E,ab,N)?v.insert(y,x[0],!0):(v.insert(N,x[0],!0),v.insert(y,N)),v=x[0],(bz(b,E,ab,v)||gJ(v,"br"))&&v.empty().remove()}else{if(y.parent){if("li"===y.name){if((w=y.prev)&&("ul"===w.name||"ul"===w.name)){w.append(y);continue}if((w=y.next)&&("ul"===w.name||"ul"===w.name)){w.insert(y,w.firstChild,!0);continue}y.wrap(i(new bW("ul",1)));continue}b.isValidChild(y.parent.name,"div")&&b.isValidChild("div",y.name)?y.wrap(i(new bW("div",1))):aa[y.name]?y.empty().remove():y.unwrap()}}}}}}(O)),B&&("body"===j.name||Z.isRootContent)&&function(){var o,l,p=j.firstChild,m=function(n){n&&((p=n.firstChild)&&3===p.type&&(p.value=p.value.replace(q,"")),(p=n.lastChild)&&3===p.type&&(p.value=p.value.replace(I,"")))};if(b.isValidChild(j.name,B.toLowerCase())){for(;p;){o=p.next,3===p.type||1===p.type&&"p"!==p.name&&!P[p.name]&&!p.attr("data-mce-type")?(l||((l=k(B,1)).attr(d.forced_root_block_attrs),j.insert(l,p)),l.append(p)):(m(l),l=null),p=o}m(l)}}(),!Z.invalid){for(X in f){for(H=a[X],Q=(M=f[X]).length;Q--;){M[Q].parent||M.splice(Q,1)}for(J=0,L=H.length;J<L;J++){H[J](M,X,Z)}}for(J=0,L=c.length;J<L;J++){if((H=c[J]).name in h){for(Q=(M=h[H.name]).length;Q--;){M[Q].parent||M.splice(Q,1)}for(Q=0,D=H.callbacks.length;Q<D;Q++){H.callbacks[Q](M,H.name,Z)}}}}return j}};return t5(g,d),qI.register(g,d),g}var tI=function(b,a,c){-1===bG.inArray(a,c)&&(b.addAttributeFilter(c,function(f,d){for(var g=f.length;g--;){f[g].attr(d,null)}}),a.push(c))},uP=function(c,a,d){var b=eU(d.getInner?a.innerHTML:c.getOuterHTML(a));return d.selection||r0(C4.fromDom(a))?b:bG.trim(b)},D7=function(c,a,f){var b=f.selection?q5({forced_root_block:!1},f):f,d=c.parse(a,b);return dM.trimTrailingBr(d),d},yU=function(h,m,f,b,d){var g,k,l,p,j=(g=b,xG(m,f).serialize(g));return k=h,p=j,!(l=d).no_events&&k?bQ(k,q5(l,{content:p})).content:p};function Cz(g,k){var i,j,m,h,f,d,b=(i=g,d=["data-mce-selected"],m=(j=k)&&j.dom?j.dom:BG.DOM,h=j&&j.schema?j.schema:vM(i),i.entity_encoding=i.entity_encoding||"named",i.remove_trailing_brs=!("remove_trailing_brs" in i)||i.remove_trailing_brs,f=GK(i,h),dM.register(f,i,m),{schema:h,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:function(p,c){var s=q5({format:"html"},c||{}),l=wD.process(j,p,s),q=uP(m,l,s),a=D7(f,q,s);return"tree"===s.format?a:yU(j,i,h,a,s)},addRules:function(a){h.addValidElements(a)},setRules:function(a){h.setValidElements(a)},addTempAttr:E6(tI,f,d),getTempAttrs:function(){return d}});return{schema:b.schema,addNodeFilter:b.addNodeFilter,addAttributeFilter:b.addAttributeFilter,serialize:b.serialize,addRules:b.addRules,setRules:b.setRules,addTempAttr:b.addTempAttr,getTempAttrs:b.getTempAttrs}}function DH(a){return{getBookmark:E6(B2,a),moveToBookmark:E6(wS,a)}}(DH||(DH={})).isBookmarkNode=BF;var yj=DH,BQ=o2.isContentEditableFalse,wG=o2.isContentEditableTrue,A6=function(ai,bb){var ag,ah,aC,ap,aw,ay,ao,av,al,au,af,ba,at,ac,Z,ad,ae,J=bb.dom,X=bG.each,t=bb.getDoc(),q=document,ar=Math.abs,ab=Math.round,bc=bb.getBody();ap={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var ax=".mce-content-body";bb.contentStyles.push(ax+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+ax+" .mce-resizehandle:hover {background: #000}"+ax+" img[data-mce-selected],"+ax+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+ax+" .mce-clonedresizable {position: absolute;"+(fW.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+ax+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var z=function(a){return a&&("IMG"===a.nodeName||bb.dom.is(a,"figure.image"))},an=function(c){var a,d,b=c.target;a=c,d=bb.selection.getRng(),!z(a.target)||AB(a.clientX,a.clientY,d)||c.isDefaultPrevented()||(c.preventDefault(),bb.selection.select(b))},Y=function(a){return bb.dom.is(a,"figure.image")?a.querySelector("img"):a},aa=function(b){var a=bb.settings.object_resizing;return !1!==a&&!fW.iOS&&("string"!=typeof a&&(a="table,img,figure.image,div"),"false"!==b.getAttribute("data-mce-resize")&&b!==bb.getBody()&&kW.is(C4.fromDom(b),a))},H=function(c){var a,f,b,d;a=c.screenX-ay,f=c.screenY-ao,ac=a*aw[2]+au,Z=f*aw[3]+af,ac=ac<5?5:ac,Z=Z<5?5:Z,(z(ag)&&!1!==bb.settings.resize_img_proportional?!cV.modifierPressed(c):cV.modifierPressed(c)||z(ag)&&aw[2]*aw[3]!=0)&&(ar(a)>ar(f)?(Z=ab(ac*ba),ac=ab(Z/ba)):(ac=ab(Z/ba),Z=ab(ac*ba))),J.setStyles(Y(ah),{width:ac,height:Z}),b=0<(b=aw.startPos.x+a)?b:0,d=0<(d=aw.startPos.y+f)?d:0,J.setStyles(aC,{left:b,top:d,display:"block"}),aC.innerHTML=ac+" &times; "+Z,aw[2]<0&&ah.clientWidth<=ac&&J.setStyle(ah,"left",av+(au-ac)),aw[3]<0&&ah.clientHeight<=Z&&J.setStyle(ah,"top",al+(af-Z)),(a=bc.scrollWidth-ad)+(f=bc.scrollHeight-ae)!=0&&J.setStyles(aC,{left:b-a,top:d-f}),at||(gD(bb,ag,au,af),at=!0)},G=function(){at=!1;var a=function(c,b){b&&(ag.style[c]||!bb.schema.isValid(ag.nodeName.toLowerCase(),c)?J.setStyle(Y(ag),c,b):J.setAttrib(Y(ag),c,b))};a("width",ac),a("height",Z),J.unbind(t,"mousemove",H),J.unbind(t,"mouseup",G),q!==t&&(J.unbind(q,"mousemove",H),J.unbind(q,"mouseup",G)),J.remove(ah),J.remove(aC),am(ag),a8(bb,ag,ac,Z),J.setAttrib(ag,"style",J.getAttrib(ag,"style")),bb.nodeChanged()},am=function(d){var b,c,f,g,a;Q(),W(),b=J.getPos(d,bc),av=b.x,al=b.y,a=d.getBoundingClientRect(),c=a.width||a.right-a.left,f=a.height||a.bottom-a.top,ag!==d&&(ag=d,ac=Z=0),g=bb.fire("ObjectSelected",{target:d}),aa(d)&&!g.isDefaultPrevented()?X(ap,function(k,i){var h;(h=J.get("mceResizeHandle"+i))&&J.remove(h),h=J.add(bc,"div",{id:"mceResizeHandle"+i,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+i+"-resize; margin:0; padding:0"}),11===fW.ie&&(h.contentEditable=!1),J.bind(h,"mousedown",function(m){var l;m.stopImmediatePropagation(),m.preventDefault(),ay=(l=m).screenX,ao=l.screenY,au=Y(ag).clientWidth,af=Y(ag).clientHeight,ba=af/au,(aw=k).startPos={x:c*k[0]+av,y:f*k[1]+al},ad=bc.scrollWidth,ae=bc.scrollHeight,ah=ag.cloneNode(!0),J.addClass(ah,"mce-clonedresizable"),J.setAttrib(ah,"data-mce-bogus","all"),ah.contentEditable=!1,ah.unSelectabe=!0,J.setStyles(ah,{left:av,top:al,margin:0}),ah.removeAttribute("data-mce-selected"),bc.appendChild(ah),J.bind(t,"mousemove",H),J.bind(t,"mouseup",G),q!==t&&(J.bind(q,"mousemove",H),J.bind(q,"mouseup",G)),aC=J.add(bc,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},au+" &times; "+af)}),k.elm=h,J.setStyles(h,{left:c*k[0]+av-h.offsetWidth/2,top:f*k[1]+al-h.offsetHeight/2})}):Q(),ag.setAttribute("data-mce-selected","1")},Q=function(){var b,a;for(b in W(),ag&&ag.removeAttribute("data-mce-selected"),ap){(a=J.get("mceResizeHandle"+b))&&(J.unbind(a),J.remove(a))}},V=function(b){var a,c=function(f,d){if(f){do{if(f===d){return !0}}while(f=f.parentNode)}};at||bb.removed||(X(J.select("img[data-mce-selected],hr[data-mce-selected]"),function(d){d.removeAttribute("data-mce-selected")}),a="mousedown"===b.type?b.target:ai.getNode(),c(a=J.$(a).closest("table,img,figure.image,hr")[0],bc)&&(j(),c(ai.getStart(!0),a)&&c(ai.getEnd(!0),a))?am(a):Q())},K=function(a){return BQ(function(c,b){for(;b&&b!==c;){if(wG(b)||BQ(b)){return b}b=b.parentNode}return null}(bb.getBody(),a))},W=function(){for(var b in ap){var a=ap[b];a.elm&&(J.unbind(a.elm),delete a.elm)}},j=function(){try{bb.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(a){}};return bb.on("init",function(){j(),fW.ie&&11<=fW.ie&&(bb.on("mousedown click",function(c){var b=c.target,d=b.nodeName;at||!/^(TABLE|IMG|HR)$/.test(d)||K(b)||(2!==c.button&&bb.selection.select(b,"TABLE"===d),"mousedown"===c.type&&bb.nodeChanged())}),bb.dom.bind(bc,"mscontrolselect",function(c){var b=function(d){jD.setEditorTimeout(bb,function(){bb.selection.select(d)})};if(K(c.target)){return c.preventDefault(),void b(c.target)}/^(TABLE|IMG|HR)$/.test(c.target.nodeName)&&(c.preventDefault(),"IMG"===c.target.tagName&&b(c.target))}));var a=jD.throttle(function(b){bb.composing||V(b)});bb.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",a),bb.on("keyup compositionend",function(b){ag&&"TABLE"===ag.nodeName&&a(b)}),bb.on("hide blur",Q),bb.on("contextmenu",an)}),bb.on("remove",W),{isResizable:aa,showResizeRect:am,hideResizeRect:Q,updateResizeRect:V,destroy:function(){ag=ah=null}}},sY=function(a){return o2.isContentEditableTrue(a)||o2.isContentEditableFalse(a)},FE=function(h,m,f){var b,d,g,k,l,p=f;if(p.caretPositionFromPoint){(d=p.caretPositionFromPoint(h,m))&&((b=f.createRange()).setStart(d.offsetNode,d.offset),b.collapse(!0))}else{if(f.caretRangeFromPoint){b=f.caretRangeFromPoint(h,m)}else{if(p.body.createTextRange){b=p.body.createTextRange();try{b.moveToPoint(h,m),b.collapse(!0)}catch(j){b=function(v,x,s){var u,w,q;if(u=s.elementFromPoint(v,x),w=s.body.createTextRange(),u&&"HTML"!==u.tagName||(u=s.body),w.moveToElementText(u),0<(q=(q=bG.toArray(w.getClientRects())).sort(function(i,a){return(i=Math.abs(Math.max(i.top-x,i.bottom-x)))-(a=Math.abs(Math.max(a.top-x,a.bottom-x)))})).length){x=(q[0].bottom+q[0].top)/2;try{return w.moveToPoint(v,x),w.collapse(!0),w}catch(c){}}return null}(h,m,f)}return g=b,k=f.body,l=g&&g.parentElement?g.parentElement():null,o2.isContentEditableFalse(function(c,a,i){for(;c&&c!==a;){if(i(c)){return c}c=c.parentNode}return null}(l,k,sY))?null:g}}}return b},q7=function(b,a){return G2(a,function(d){var c=b.fire("GetSelectionRange",{range:d});return c.range!==d?c.range:d})},n9=function(b,a){var c=(a||document).createDocumentFragment();return Gj(b,function(d){c.appendChild(d.dom())}),C4.fromDom(c)},rR=pK("element","width","rows"),sA=pK("element","cells"),hS=pK("x","y"),m2=function(b,a){var c=parseInt(s5.get(b,a),10);return isNaN(c)?1:c},eV=function(a){return D3(a,function(c,b){return b.cells().length>c?b.cells().length:c},0)},ek=function(d,b){for(var g=d.rows(),c=0;c<g.length;c++){for(var f=g[c].cells(),a=0;a<f.length;a++){if(dV.eq(f[a],b)){return GG.some(hS(a,c))}}}return GG.none()},zE=function(h,m,f,b,d){for(var g=[],k=h.rows(),l=f;l<=d;l++){var p=k[l].cells(),j=m<b?p.slice(m,b+1):p.slice(b,m+1);g.push(sA(k[l].element(),j))}return g},pD=function(a){var b=rR(GJ(a),0,[]);return Gj(cj(a,"tr"),function(d,c){Gj(cj(d,"td,th"),function(g,f){!function(m,w,k,h,j){for(var l=m2(j,"rowspan"),q=m2(j,"colspan"),v=m.rows(),x=k;x<k+l;x++){v[x]||(v[x]=sA(rQ(h),[]));for(var p=w;p<w+q;p++){v[x].cells()[p]=x===k&&p===w?j:GJ(j)}}}(b,function(l,j,p){for(;k=j,m=p,h=void 0,((h=l.rows())[m]?h[m].cells():[])[k];){j++}var k,m,h;return j}(b,f,c),c,d,g)})}),rR(b.element(),eV(b.rows()),b.rows())},aj=function(c){return f=G2((a=c).rows(),function(h){var g=G2(h.cells(),function(k){var j=rQ(k);return s5.remove(j,"colspan"),s5.remove(j,"rowspan"),j}),i=GJ(h.element());return aK(i,g),i}),b=GJ(a.element()),d=C4.fromTag("tbody"),aK(d,f),zR.append(b,d),b;var a,f,b,d},fF=function(a,c,b){return ek(a,c).bind(function(d){return ek(a,b).map(function(k){return p=a,f=k,g=(h=d).x(),j=h.y(),l=f.x(),m=f.y(),q=j<m?zE(p,g,j,l,m):zE(p,g,m,l,j),rR(p.element(),eV(q),q);var p,h,f,g,j,l,m,q})})},nM=function(b,a){return FI(b,function(c){return"li"===uW.name(c)&&B4(c,a)}).fold(F6([]),function(d){return(c=b,FI(c,function(f){return"ul"===uW.name(f)||"ol"===uW.name(f)})).map(function(f){return[C4.fromTag("li"),C4.fromTag(uW.name(f))]}).getOr([]);var c})},oT=function(h,f){var k,g=C4.fromDom(f.commonAncestorContainer),j=AE(g,h),d=FJ(j,function(a){return yG(a)||y3(a)}),b=nM(j,f),c=d.concat(b.length?b:s7(k=g)?cO.parent(k).filter(BB).fold(F6([]),function(a){return[k,a]}):BB(k)?[k]:[]);return G2(c,GJ)},g8=function(){return n9([])},gL=function(c,a){return f=C4.fromDom(a.cloneContents()),b=oT(c,a),d=D3(b,function(h,g){return zR.append(g,h),g},f),0<b.length?n9([d]):d;var f,b,d},iZ=function(b,c){return(a=b,d=c[0],x9(d,"table",E6(dV.eq,a))).bind(function(h){var f=c[0],i=c[c.length-1],g=pD(h);return fF(g,f,i).map(function(j){return n9([aj(j)])})}).getOrThunk(g8);var a,d},kP=function(c,a){var f,b,d=hG(a,c);return 0<d.length?iZ(c,d):(f=c,0<(b=a).length&&b[0].collapsed?g8():gL(f,b[0]))},iB=function(h,f){var k,g=h.selection.getRng(),j=h.dom.create("body"),d=h.selection.getSel(),b=q7(h,zP(d));if((f=f||{}).get=!0,f.format=f.format||"html",f.selection=!0,(f=h.fire("BeforeGetContent",f)).isDefaultPrevented()){return h.fire("GetContent",f),f.content}if("text"===f.format){return h.selection.isCollapsed()?"":eU(g.text||(d.toString?d.toString():""))}g.cloneContents?(k=f.contextual?kP(C4.fromDom(h.getBody()),b).dom():g.cloneContents())&&j.appendChild(k):g.item!==undefined||g.htmlText!==undefined?(j.innerHTML="<br>"+(g.item?g.item(0).outerHTML:g.htmlText),j.removeChild(j.firstChild)):j.innerHTML=g.toString(),f.getInner=!0;var c=h.selection.serializer.serialize(j,f);return"tree"===f.format?c:(f.content=h.selection.isCollapsed()?"":c,h.fire("GetContent",f),f.content)},mF=function(g,k,d){var b,c,f,h=g.selection.getRng(),j=g.getDoc();if((d=d||{format:"html"}).set=!0,d.selection=!0,d.content=k,d.no_events||!(d=g.fire("BeforeSetContent",d)).isDefaultPrevented()){if(k=d.content,h.insertNode){k+='<span id="__caret">_</span>',h.startContainer===j&&h.endContainer===j?j.body.innerHTML=k:(h.deleteContents(),0===j.body.childNodes.length?j.body.innerHTML=k:h.createContextualFragment?h.insertNode(h.createContextualFragment(k)):(c=j.createDocumentFragment(),f=j.createElement("div"),c.appendChild(f),f.outerHTML=k,h.insertNode(c))),b=g.dom.get("__caret"),(h=j.createRange()).setStartBefore(b),h.setEndBefore(b),g.selection.setRng(h),g.dom.remove("__caret");try{g.selection.setRng(h)}catch(l){}}else{h.item&&(j.execCommand("Delete",!1,null),h=g.getRng()),/^\s+/.test(k)?(h.pasteHTML('<span id="__mce_tmp">_</span>'+k),g.dom.remove("__mce_tmp")):h.pasteHTML(k)}d.no_events||g.fire("SetContent",d)}else{g.fire("SetContent",d)}},dO=function(g,d,j,f,h){var c=j?d.startContainer:d.endContainer,b=j?d.startOffset:d.endOffset;return GG.from(c).map(C4.fromDom).map(function(a){return f&&d.collapsed?a:cO.child(a,h(a,b)).getOr(a)}).bind(function(a){return uW.isElement(a)?GG.some(a):cO.parent(a)}).map(function(a){return a.dom()}).getOr(g)},qL=function(b,a,c){return dO(b,a,!0,c,function(f,d){return Math.min(cO.childNodesCount(f),d)})},c4=function(b,a,c){return dO(b,a,!1,c,function(f,d){return 0<d?d-1:d})},vW=function(b,a){for(var c=b;b&&o2.isText(b)&&0===b.length;){b=a?b.nextSibling:b.previousSibling}return b||c},lq=bG.each,z1=function(a){return !!a.select},p1=function(a){return !(!a||!a.ownerDocument)&&dV.contains(C4.fromDom(a.ownerDocument),C4.fromDom(a))},cH=function(D,F,z,B){var k,E,v,y,C,b=function(c,a){return mF(B,c,a)},j=function(c){var a=q();a.collapse(!!c),w(a)},A=function(){return F.getSelection?F.getSelection():F.document.selection},q=function(){var l,f,p,g,m=function(o,a,s){try{return a.compareBoundaryPoints(o,s)}catch(i){return -1}};if(!F){return null}if(null==(g=F.document)){return null}if(B.bookmark!==undefined&&!1===nj(B)){var d=k4(B);if(d.isSome()){return d.map(function(a){return q7(B,[a])[0]}).getOr(g.createRange())}}try{(l=A())&&(f=0<l.rangeCount?l.getRangeAt(0):l.createRange?l.createRange():g.createRange())}catch(c){}return(f=q7(B,[f])[0])||(f=g.createRange?g.createRange():g.body.createTextRange()),f.setStart&&9===f.startContainer.nodeType&&f.collapsed&&(p=D.getRoot(),f.setStart(p,0),f.setEnd(p,0)),v&&y&&(0===m(f.START_TO_START,f,v)&&0===m(f.END_TO_END,f,v)?f=y:y=v=null),f},w=function(l,f){var p,g;if((m=l)&&(z1(m)||p1(m.startContainer)&&p1(m.endContainer))){var m,d=z1(l)?l:null;if(d){y=null;try{d.select()}catch(c){}}else{if(p=A(),l=B.fire("SetSelectionRange",{range:l,forward:f}).range,p){y=l;try{p.removeAllRanges(),p.addRange(l)}catch(c){}!1===f&&p.extend&&(p.collapse(l.endContainer,l.endOffset),p.extend(l.startContainer,l.startOffset)),v=0<p.rangeCount?p.getRangeAt(0):null}l.collapsed||l.startContainer!==l.endContainer||!p.setBaseAndExtent||fW.ie||l.endOffset-l.startOffset<2&&l.startContainer.hasChildNodes()&&(g=l.startContainer.childNodes[l.startOffset])&&"IMG"===g.tagName&&(p.setBaseAndExtent(l.startContainer,l.startOffset,l.endContainer,l.endOffset),p.anchorNode===l.startContainer&&p.focusNode===l.endContainer||p.setBaseAndExtent(g,0,g,1)),B.fire("AfterSetSelectionRange",{range:l,forward:f})}}},x=function(){var c,a,d=A();return !(d&&d.anchorNode&&d.focusNode)||((c=D.createRng()).setStart(d.anchorNode,d.anchorOffset),c.collapse(!0),(a=D.createRng()).setStart(d.focusNode,d.focusOffset),a.collapse(!0),c.compareBoundaryPoints(c.START_TO_START,a)<=0)},h={bookmarkManager:null,controlSelection:null,dom:D,win:F,serializer:z,editor:B,collapse:j,setCursorLocation:function(c,a){var d=D.createRng();c?(d.setStart(c,a),d.setEnd(c,a),w(d),j(!1)):(wU(D,d,B.getBody(),!0),w(d))},getContent:function(a){return iB(B,a)},setContent:b,getBookmark:function(c,a){return k.getBookmark(c,a)},moveToBookmark:function(a){return k.moveToBookmark(a)},select:function(d,a){var c,g,f;return(c=D,g=d,f=a,GG.from(g).map(function(l){var i=c.nodeIndex(l),m=c.createRng();return m.setStart(l.parentNode,i),m.setEnd(l.parentNode,i+1),f&&(wU(c,m,l,!0),wU(c,m,l,!1)),m})).each(w),d},isCollapsed:function(){var c=q(),a=A();return !(!c||c.item)&&(c.compareEndPoints?0===c.compareEndPoints("StartToEnd",c):!a||c.collapsed)},isForward:x,setNode:function(a){return b(D.getOuterHTML(a)),a},getNode:function(){return l=B.getBody(),(f=q())?(g=f.startContainer,m=f.endContainer,d=f.startOffset,c=f.endOffset,p=f.commonAncestorContainer,!f.collapsed&&(g===m&&c-d<2&&g.hasChildNodes()&&(p=g.childNodes[d]),3===g.nodeType&&3===m.nodeType&&(g=g.length===d?vW(g.nextSibling,!0):g.parentNode,m=0===c?vW(m.previousSibling,!1):m.parentNode,g&&g===m))?g:p&&3===p.nodeType?p.parentNode:p):l;var l,f,p,g,m,d,c},getSel:A,setRng:w,getRng:q,getStart:function(a){return qL(B.getBody(),q(),a)},getEnd:function(a){return c4(B.getBody(),q(),a)},getSelectedBlocks:function(c,a){return function(p,l,G,m){var s,g,d=[];if(g=p.getRoot(),G=p.getParent(G||qL(g,l,!1),p.isBlock),m=p.getParent(m||c4(g,l,!1),p.isBlock),G&&G!==g&&d.push(G),G&&m&&G!==m){for(var f=new AU(s=G,g);(s=f.next())&&s!==m;){p.isBlock(s)&&d.push(s)}}return m&&G!==m&&m!==g&&d.push(m),d}(D,q(),c,a)},normalize:function(){var c=q(),a=A();if(!aI(a)&&BH(B)){var d=GZ(D,c);return d.each(function(f){w(f,x())}),d.getOr(c)}return c},selectorChanged:function(d,c){var a;return C||(C={},a={},B.on("NodeChange",function(g){var l=g.element,f=D.getParents(l,null,D.getRoot()),i={};lq(C,function(m,o){lq(f,function(e){if(D.is(e,o)){return a[o]||(lq(m,function(n){n(!0,{node:e,selector:o,parents:f})}),a[o]=m),i[o]=m,!1}})}),lq(a,function(n,m){i[m]||(delete a[m],lq(n,function(o){o(!1,{node:l,selector:m,parents:f})}))})})),C[d]||(C[d]=[]),C[d].push(c),h},getScrollContainer:function(){for(var c,a=D.getRoot();a&&"BODY"!==a.nodeName;){if(a.scrollHeight>a.clientHeight){c=a;break}a=a.parentNode}return c},scrollIntoView:function(c,a){return jP(B,c,a)},placeCaretAt:function(c,a){return w(FE(c,a,B.getDoc()))},getBoundingClientRect:function(){var a=q();return a.collapsed?pH.fromRangeStart(a).getClientRects()[0]:a.getBoundingClientRect()},destroy:function(){F=v=y=null,E.destroy()}};return k=yj(h),E=A6(h,B),h.bookmarkManager=k,h.controlSelection=E,h},jJ=o2.isContentEditableFalse,bY=xR,bB=kL,lW=mA,j6=function(b,a){for(;a=b(a);){if(a.isVisible()){return a}}return a},f2=function(m,w,g,b){var d,j,q,v,x,p,h=m===eB.Forwards,k=h?lW:bB;return !b.collapsed&&(d=bY(b),jJ(d))?y0(m,w,d,m===eB.Backwards,!0):(v=aS(b.startContainer),k(j=bU(m,w.getBody(),b))?CG(w,j.getNode(!h)):(j=g(j))?k(j)?y0(m,w,j.getNode(!h),h,!0):k(q=g(j))&&(!(p=d7(x=j,q))&&o2.isBr(x.getNode())||p)?y0(m,w,q.getNode(!h),h,!0):v?yD(w,j.toRange(),!0):null:v?b:null)},aU=function(v,A,h,b){var g,p,y,z,B,x,k,q,w;if(w=bY(b),g=bU(v,A.getBody(),b),p=h(A.getBody(),gZ(1),g),y=z6.filter(p,jz(1)),B=z6.last(g.getClientRects()),(lW(g)||gH(g))&&(w=g.getNode()),(bB(g)||bq(g))&&(w=g.getNode(!0)),!B){return null}if(x=B.left,(z=dF(y,x))&&jJ(z.node)){return k=Math.abs(x-z.left),q=Math.abs(x-z.right),y0(v,A,z.node,k<q,!0)}if(w){var j=function(J,O,E,C){var D,H,M,N,P,L,G=eE(O),I=[],K=0,F=function(a){return z6.last(a.getClientRects())};1===J?(D=G.next,H=t9,M=C1,N=pH.after(C)):(D=G.prev,H=C1,M=t9,N=pH.before(C)),L=F(N);do{if(N.isVisible()&&!M(P=F(N),L)){if(0<I.length&&H(P,z6.last(I))&&K++,(P=kO(P)).position=N,P.line=K,E(P)){return I}I.push(P)}}while(N=D(N));return I}(v,A.getBody(),gZ(1),w);if(z=dF(z6.filter(j,jz(1)),x)){return yD(A,z.position.toRange(),!0)}if(z=z6.last(z6.filter(j,jz(0)))){return yD(A,z.position.toRange(),!0)}}},D1=function(h,m,f){var b,d,g,k,l=eE(h.getBody()),p=sX.curry(j6,l.next),j=sX.curry(j6,l.prev);if(f.collapsed&&h.settings.forced_root_block){if(!(b=h.dom.getParent(f.startContainer,"PRE"))){return}(1===m?p(pH.fromRangeStart(f)):j(pH.fromRangeStart(f)))||(k=(g=h).dom.create(g.settings.forced_root_block),(!fW.ie||11<=fW.ie)&&(k.innerHTML='<br data-mce-bogus="1">'),d=k,1===m?h.$(b).after(d):h.$(b).before(d),h.selection.select(d,!0),h.selection.collapse())}},vj=function(a,b){return function(){var j,p,g,d,f,h,l,m,q,k=(p=b,d=eE((j=a).getBody()),f=sX.curry(j6,d.next),h=sX.curry(j6,d.prev),l=p?eB.Forwards:eB.Backwards,m=p?f:h,q=j.selection.getRng(),(g=f2(l,j,m,q))?g:(g=D1(j,l,q))||null);return !!k&&(a.selection.setRng(k),!0)}},yS=function(a,b){return function(){var h,f,k,g,j,d,c=(g=(f=b)?1:-1,j=f?hJ:o7,d=(h=a).selection.getRng(),(k=aU(g,h,j,d))?k:(k=D1(h,g,d))||null);return !!c&&(a.selection.setRng(c),!0)}},wE=function(b,a){return F8(G2(b,function(c){return q5({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:D9},c)}),function(d){return c=d,(f=a).keyCode===c.keyCode&&f.shiftKey===c.shiftKey&&f.altKey===c.altKey&&f.ctrlKey===c.ctrlKey&&f.metaKey===c.metaKey?[d]:[];var c,f})},x8=function(c){for(var a=[],d=1;d<arguments.length;d++){a[d-1]=arguments[d]}var b=Array.prototype.slice.call(arguments,1);return function(){return c.apply(null,b)}},BO=function(b,a){return FI(wE(b,a),function(c){return c.action()})},G8=function(c,b){c.on("keydown",function(f){var a,h,d,g;!1===f.isDefaultPrevented()&&(a=c,h=b,d=f,g=gk.detect().os,BO([{keyCode:cV.RIGHT,action:vj(a,!0)},{keyCode:cV.LEFT,action:vj(a,!1)},{keyCode:cV.UP,action:yS(a,!1)},{keyCode:cV.DOWN,action:yS(a,!0)},{keyCode:cV.RIGHT,action:sj(a,!0)},{keyCode:cV.LEFT,action:sj(a,!1)},{keyCode:cV.UP,action:sU(a,!1)},{keyCode:cV.DOWN,action:sU(a,!0)},{keyCode:cV.RIGHT,action:tT.move(a,h,!0)},{keyCode:cV.LEFT,action:tT.move(a,h,!1)},{keyCode:cV.RIGHT,ctrlKey:!g.isOSX(),altKey:g.isOSX(),action:tT.moveNextWord(a,h)},{keyCode:cV.LEFT,ctrlKey:!g.isOSX(),altKey:g.isOSX(),action:tT.movePrevWord(a,h)}],d).each(function(i){d.preventDefault()}))})},uN=function(a){return 1===cO.children(a).length},vU=function(j,q,f,b){var d,h,m,p,v=E6(jM,q),k=G2(FJ(b,v),function(a){return a.dom()});if(0===k.length){BL(q,j,f)}else{var g=(d=f.dom(),h=k,m=qO(!1),p=p4(h,m.dom()),zR.before(C4.fromDom(d),m),nZ.remove(C4.fromDom(d)),pH(p,0));q.selection.setRng(g.toRange())}},GI=function(g,c){var b,d=C4.fromDom(g.getBody()),f=C4.fromDom(g.selection.getStart()),a=FJ((b=AE(f,d),F2(b,CJ).fold(F6(b),function(h){return b.slice(0,h)})),uN);return uJ(a).map(function(i){var h=pH.fromRangeStart(g.selection.getRng());return !!pT(c,h,i.dom())&&(vU(c,g,i,a),!0)}).getOr(!1)},zZ=function(b,a){return !!b.selection.isCollapsed()&&GI(b,a)},DF=function(b,a){b.on("keydown",function(f){var c,g,d;!1===f.isDefaultPrevented()&&(c=b,g=a,d=f,BO([{keyCode:cV.BACKSPACE,action:x8(rM,c,!1)},{keyCode:cV.DELETE,action:x8(rM,c,!0)},{keyCode:cV.BACKSPACE,action:x8(CL,c,g,!1)},{keyCode:cV.DELETE,action:x8(CL,c,g,!0)},{keyCode:cV.BACKSPACE,action:x8(Aq,c,!1)},{keyCode:cV.DELETE,action:x8(Aq,c,!0)},{keyCode:cV.BACKSPACE,action:x8(uK,c,!1)},{keyCode:cV.DELETE,action:x8(uK,c,!0)},{keyCode:cV.BACKSPACE,action:x8(kI,c,!1)},{keyCode:cV.DELETE,action:x8(kI,c,!0)},{keyCode:cV.BACKSPACE,action:x8(zZ,c,!1)},{keyCode:cV.DELETE,action:x8(zZ,c,!0)}],d).each(function(h){d.preventDefault()}))}),b.on("keyup",function(d){var c,f;!1===d.isDefaultPrevented()&&(c=b,f=d,BO([{keyCode:cV.BACKSPACE,action:x8(oO,c)},{keyCode:cV.DELETE,action:x8(oO,c)}],f))})},Fk=function(a){return GG.from(a.dom.getParent(a.selection.getStart(!0),a.dom.isBlock))},zB=function(g,k){var d,b,c,f=k,h=g.dom,j=g.schema.getMoveCaretBeforeOnEnterElements();if(k){if(/^(LI|DT|DD)$/.test(k.nodeName)){var l=function(a){for(;a;){if(1===a.nodeType||3===a.nodeType&&a.data&&/[\r\n\s]/.test(a.data)){return a}a=a.nextSibling}}(k.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&k.insertBefore(h.doc.createTextNode("\xa0"),k.firstChild)}if(c=h.createRng(),k.normalize(),k.hasChildNodes()){for(d=new AU(k,k);b=d.current();){if(o2.isText(b)){c.setStart(b,0),c.setEnd(b,0);break}if(j[b.nodeName.toLowerCase()]){c.setStartBefore(b),c.setEndBefore(b);break}f=b,b=d.next()}b||(c.setStart(f,0),c.setEnd(f,0))}else{o2.isBr(k)?k.nextSibling&&h.isBlock(k.nextSibling)?(c.setStartBefore(k),c.setEndBefore(k)):(c.setStartAfter(k),c.setEndAfter(k)):(c.setStart(k,0),c.setEnd(k,0))}g.selection.setRng(c),h.remove(void 0),g.selection.scrollIntoView(k)}},CV=function(c,a){var f,b,d=c.getRoot();for(f=a;f!==d&&"false"!==c.getContentEditable(f);){"true"===c.getContentEditable(f)&&(b=f),f=f.parentNode}return f!==d?b:d},xL=Fk,Ck=function(a){return Fk(a).fold(F6(""),function(b){return b.nodeName.toUpperCase()})},t3=function(a){return Fk(a).filter(function(b){return s7(C4.fromDom(b))}).isSome()},G6=function(b,a){return b&&b.parentNode&&b.parentNode.nodeName===a},sk=function(a){return a&&/^(OL|UL|LI)$/.test(a.nodeName)},pz=function(b){var a=b.parentNode;return/^(LI|DT|DD)$/.test(a.nodeName)?a:b},sV=function(c,a,d){for(var b=c[d?"firstChild":"lastChild"];b&&!o2.isElement(b);){b=b[d?"nextSibling":"previousSibling"]}return b===a},tF=function(p,y,h,b,g){var k=p.dom,w=p.selection.getRng();if(h!==p.getBody()){var x;sk(x=h)&&sk(x.parentNode)&&(g="LI");var z,v,j=g?y(g):k.create("BR");if(sV(h,b,!0)&&sV(h,b,!1)){G6(h,"LI")?k.insertAfter(j,pz(h)):k.replace(j,h)}else{if(sV(h,b,!0)){G6(h,"LI")?(k.insertAfter(j,pz(h)),j.appendChild(k.doc.createTextNode(" ")),j.appendChild(h)):h.parentNode.insertBefore(j,h)}else{if(sV(h,b,!1)){k.insertAfter(j,pz(h))}else{h=pz(h);var m=w.cloneRange();m.setStartAfter(b),m.setEndAfter(h);var q=m.extractContents();"LI"===g&&(v="LI",(z=q).firstChild&&z.firstChild.nodeName===v)?(j=q.firstChild,k.insertAfter(q,h)):(k.insertAfter(q,h),k.insertAfter(j,h))}}}k.remove(b),zB(p,j)}},iW=function(a){a.innerHTML='<br data-mce-bogus="1">'},n6=function(b,a){return b.nodeName===a||b.previousSibling&&b.previousSibling.nodeName===a},fZ=function(b,a){return a&&b.isBlock(a)&&!/^(TD|TH|CAPTION|FORM)$/.test(a.nodeName)&&!/^(fixed|absolute)/i.test(a.style.position)&&"true"!==b.getContentEditable(a)},fB=function(b,a,c){return !1===o2.isText(a)?c:b?1===c&&a.data.charAt(c-1)===fE?0:c:c===a.data.length-1&&a.data.charAt(c)===fE?a.data.length:c},AI=function(c,a){var f,b,d=c.getRoot();for(f=a;f!==d&&"false"!==c.getContentEditable(f);){"true"===c.getContentEditable(f)&&(b=f),f=f.parentNode}return f!==d?b:d},p0=function(b,a){var c=vS(b);c&&c.toLowerCase()===a.tagName.toLowerCase()&&b.dom.setAttribs(a,xJ(b))},aT=function(ab,X){var H,F,I,R,Z,O,K,M,Q,W,Y,P,V,L,U,D,aa,z,J=ab.dom,A=ab.schema,B=A.getNonEmptyElements(),q=ab.selection.getRng(),G=function(d){var b,g,c,f=I,a=A.getTextInlineElements();if(d||"TABLE"===W||"HR"===W?(b=J.create(d||P),p0(ab,b)):b=Z.cloneNode(!1),c=b,!1===t1(ab)){J.setAttrib(b,"style",null),J.setAttrib(b,"class",null)}else{do{if(a[f.nodeName]){if(lZ(f)){continue}g=f.cloneNode(!1),J.setAttrib(g,"id",""),b.hasChildNodes()?g.appendChild(b.firstChild):c=g,b.appendChild(g)}}while((f=f.parentNode)&&f!==F)}return iW(c),b},k=function(c){var a,f,b,d;if(d=fB(c,I,R),o2.isText(I)&&(c?0<d:d<I.nodeValue.length)){return !1}if(I.parentNode===Z&&V&&!c){return !0}if(c&&o2.isElement(I)&&I===Z.firstChild){return !0}if(n6(I,"TABLE")||n6(I,"HR")){return V&&!c||!V&&c}for(a=new AU(I,Z),o2.isText(I)&&(c&&0===d?a.prev():c||d!==I.nodeValue.length||a.next());f=a.current();){if(o2.isElement(f)){if(!f.getAttribute("data-mce-bogus")&&(b=f.nodeName.toLowerCase(),B[b]&&"br"!==b)){return !1}}else{if(o2.isText(f)&&!/^[ \t\r\n]*$/.test(f.nodeValue)){return !1}}c?a.prev():a.next()}return !0},j=function(){K=/^(H[1-6]|PRE|FIGURE)$/.test(W)&&"HGROUP"!==Y?G(P):G(),u8(ab)&&fZ(J,Q)&&J.isEmpty(Z)?K=J.split(Q,Z):J.insertAfter(K,Z),zB(ab,K)};GZ(J,q).each(function(a){q.setStart(a.startContainer,a.startOffset),q.setEnd(a.endContainer,a.endOffset)}),I=q.startContainer,R=q.startOffset,P=vS(ab),O=X.shiftKey,o2.isElement(I)&&I.hasChildNodes()&&(V=R>I.childNodes.length-1,I=I.childNodes[Math.min(R,I.childNodes.length-1)]||I,R=V&&o2.isText(I)?I.nodeValue.length:0),(F=AI(J,I))&&((P&&!O||!P&&O)&&(I=function(E,ad,p,b,h){var x,T,ac,ae,S,w,C,N=ad||"P",v=E.dom,y=AI(v,b);if(!(T=v.getParent(b,v.isBlock))||!fZ(v,T)){if(w=(T=T||y)===E.getBody()||(C=T)&&/^(TD|TH|CAPTION)$/.test(C.nodeName)?T.nodeName.toLowerCase():T.parentNode.nodeName.toLowerCase(),!T.hasChildNodes()){return x=v.create(N),p0(E,x),T.appendChild(x),p.setStart(x,0),p.setEnd(x,0),x}for(ae=b;ae.parentNode!==T;){ae=ae.parentNode}for(;ae&&!v.isBlock(ae);){ae=(ac=ae).previousSibling}if(ac&&E.schema.isValidChild(w,N.toLowerCase())){for(x=v.create(N),p0(E,x),ac.parentNode.insertBefore(x,ac),ae=ac;ae&&!v.isBlock(ae);){S=ae.nextSibling,x.appendChild(ae),ae=S}p.setStart(b,h),p.setEnd(b,h)}}return b}(ab,P,q,I,R)),Z=J.getParent(I,J.isBlock),Q=Z?J.getParent(Z.parentNode,J.isBlock):null,W=Z?Z.nodeName.toUpperCase():"","LI"!==(Y=Q?Q.nodeName.toUpperCase():"")||X.ctrlKey||(Q=(Z=Q).parentNode,W=Y),/^(LI|DT|DD)$/.test(W)&&J.isEmpty(Z)?tF(ab,G,Q,Z,P):P&&Z===ab.getBody()||(P=P||"P",aS(Z)?(K=m1(Z),J.isEmpty(Z)&&iW(Z),zB(ab,K)):k()?j():k(!0)?(K=Z.parentNode.insertBefore(G(),Z),zB(ab,n6(Z,"HR")?K:Z)):((H=(aa=q,z=aa.cloneRange(),z.setStart(aa.startContainer,fB(!0,aa.startContainer,aa.startOffset)),z.setEnd(aa.endContainer,fB(!1,aa.endContainer,aa.endOffset)),z).cloneRange()).setEndAfter(Z),function(a){for(;o2.isText(a)&&(a.nodeValue=a.nodeValue.replace(/^[\r\n]+/,"")),a=a.firstChild;){}}(M=H.extractContents()),K=M.firstChild,J.insertAfter(M,Z),function(g,d,l){var f,h=l,c=[];if(h){for(;h=h.firstChild;){if(g.isBlock(h)){return}o2.isElement(h)&&!d[h.nodeName.toLowerCase()]&&c.push(h)}for(f=c.length;f--;){!(h=c[f]).hasChildNodes()||h.firstChild===h.lastChild&&""===h.firstChild.nodeValue?g.remove(h):(b=h)&&"A"===b.nodeName&&0===bG.trim(eU(b.innerText||b.textContent)).length&&g.remove(h)}var b}}(J,B,K),L=J,(U=Z).normalize(),(D=U.lastChild)&&!/^(left|right)$/gi.test(L.getStyle(D,"float",!0))||L.add(U,"br"),J.isEmpty(Z)&&iW(Z),K.normalize(),J.isEmpty(K)?(J.remove(K),j()):zB(ab,K)),J.setAttrib(K,"id",""),ab.fire("NewBlock",{newBlock:K})))},gI=function(b,a){return xL(b).filter(function(c){return 0<a.length&&kW.is(C4.fromDom(c),a)}).isSome()},oQ=function(a){return gI(a,A2(a))},pX=function(a){return gI(a,G4(a))},iq=x5([{br:[]},{block:[]},{none:[]}]),hP=function(b,a){return pX(b)},j3=function(a){return function(c,b){return""===vS(c)===a}},lT=function(a){return function(c,b){return t3(c)===a}},jG=function(b,a){return function(d,c){return Ck(d)===b.toUpperCase()===a}},nJ=function(a){return jG("pre",a)},eS=function(a){return function(c,b){return x6(c)===a}},rO=function(b,a){return oQ(b)},d8=function(b,a){return a},w0=function(b){var a=vS(b),c=CV(b.dom,b.selection.getStart());return c&&b.schema.isValidChild(c.nodeName,a||"P")},mB=function(b,a){return function(d,c){return D3(b,function(g,f){return g&&f(d,c)},!0)?GG.some(a):GG.none()}},A3=function(b,a){return n4([mB([hP],iq.none()),mB([jG("summary",!0)],iq.br()),mB([nJ(!0),eS(!1),d8],iq.br()),mB([nJ(!0),eS(!1)],iq.block()),mB([nJ(!0),eS(!0),d8],iq.block()),mB([nJ(!0),eS(!0)],iq.br()),mB([lT(!0),d8],iq.br()),mB([lT(!0)],iq.block()),mB([j3(!0),d8,w0],iq.block()),mB([j3(!0)],iq.br()),mB([rO],iq.br()),mB([j3(!1),d8],iq.br()),mB([w0],iq.block())],[b,a.shiftKey]).getOr(iq.none())},qK=function(b,a){A3(b,a).fold(function(){BI(b,a)},function(){aT(b,a)},D9)},dL=function(a){a.on("keydown",function(d){var b,f,c;d.keyCode===cV.ENTER&&(b=a,(f=d).isDefaultPrevented()||(f.preventDefault(),(c=b.undoManager).typing&&(c.typing=!1,c.add()),b.undoManager.transact(function(){!1===b.selection.isCollapsed()&&b.execCommand("Delete"),qK(b,f)})))})},kM=function(h,f,k){return c=f,!(!c1(k)||!o2.isText(c.container())||(g=h,d=(j=f).container(),b=j.offset(),d.insertData(b,"\xa0"),g.selection.setCursorLocation(d,b+1),0));var g,j,d,b,c},c1=function(a){return a.fold(F6(!1),F6(!0),F6(!0),F6(!1))},cE=function(c){return !!c.selection.isCollapsed()&&(a=c,d=E6(fk.isInlineTarget,a),b=pH.fromRangeStart(a.selection.getRng()),bT(d,a.getBody(),b).map(E6(kM,a,b)).getOr(!1));var a,d,b},mZ=function(a){a.on("keydown",function(c){var b,d;!1===c.isDefaultPrevented()&&(b=a,d=c,BO([{keyCode:cV.SPACEBAR,action:x8(cE,b)}],d).each(function(f){d.preventDefault()}))})},k9=function(b,a){var c;a.hasAttribute("data-mce-caret")&&(m1(a),(c=b).selection.setRng(c.selection.getRng()),b.selection.scrollIntoView(a))},g5=function(c,a){var d,b=(d=c,vV(C4.fromDom(d.getBody()),"*[data-mce-caret]").fold(F6(null),function(f){return f.dom()}));if(b){return"compositionstart"===a.type?(a.preventDefault(),a.stopPropagation(),void k9(c,b)):void (pB(b)&&(k9(c,b),c.undoManager.add()))}},bV=function(a){a.on("keyup compositionstart",E6(g5,a))},CY=function(b){var a=tT.setupSelectedState(b);bV(b),G8(b,a),DF(b,a),dL(b),mZ(b)};function t6(q){var x,E,A,D=bG.each,N=cV.BACKSPACE,G=cV.DELETE,K=q.dom,M=q.selection,L=q.settings,w=q.parser,H=fW.gecko,P=fW.ie,F=fW.webkit,J="data:text/mce-internal,",B=P?"Text":"URL",I=function(b,a){try{q.getDoc().execCommand(b,!1,a)}catch(c){}},k=function(a){return a.isDefaultPrevented()},O=function(){q.shortcuts.add("meta+a",null,"SelectAll")},j=function(){q.on("keydown",function(b){if(!k(b)&&b.keyCode===N&&M.isCollapsed()&&0===M.getRng().startOffset){var a=M.getNode().previousSibling;if(a&&a.nodeName&&"table"===a.nodeName.toLowerCase()){return b.preventDefault(),!1}}})},z=function(){q.inline||(q.contentStyles.push("body {min-height: 150px}"),q.on("click",function(b){var a;if("HTML"===b.target.nodeName){if(11<fW.ie){return void q.getBody().focus()}a=q.selection.getRng(),q.getBody().focus(),q.selection.setRng(a),q.selection.normalize(),q.nodeChanged()}}))};return q.on("keydown",function(d){var b,g,c,f,a;if(!k(d)&&d.keyCode===cV.BACKSPACE&&(g=(b=M.getRng()).startContainer,c=b.startOffset,f=K.getRoot(),a=g,b.collapsed&&0===c)){for(;a&&a.parentNode&&a.parentNode.firstChild===a&&a.parentNode!==f;){a=a.parentNode}"BLOCKQUOTE"===a.tagName&&(q.formatter.toggle("blockquote",null,a),(b=K.createRng()).setStart(g,0),b.setEnd(g,0),M.setRng(b))}}),x=function(b){var a=K.create("body"),c=b.cloneContents();return a.appendChild(c),M.serializer.serialize(a,{format:"html"})},q.on("keydown",function(g){var d,l,f,h,c,b=g.keyCode;if(!k(g)&&(b===G||b===N)){if(d=q.selection.isCollapsed(),l=q.getBody(),d&&!K.isEmpty(l)){return}if(!d&&(f=q.selection.getRng(),h=x(f),(c=K.createRng()).selectNode(q.getBody()),h!==x(c))){return}g.preventDefault(),q.setContent(""),l.firstChild&&K.isBlock(l.firstChild)?q.selection.setCursorLocation(l.firstChild,0):q.selection.setCursorLocation(l,0),q.nodeChanged()}}),fW.windowsPhone||q.on("keyup focusin mouseup",function(a){cV.modifierPressed(a)||M.normalize()},!0),F&&(q.settings.content_editable||K.bind(q.getDoc(),"mousedown mouseup",function(b){var a;if(b.target===q.getDoc().documentElement){if(a=M.getRng(),q.getBody().focus(),"mousedown"===b.type){if(n8(a.startContainer)){return}M.placeCaretAt(b.clientX,b.clientY)}else{M.setRng(a)}}}),q.on("click",function(b){var a=b.target;/^(IMG|HR)$/.test(a.nodeName)&&"false"!==K.getContentEditableParent(a)&&(b.preventDefault(),q.selection.select(a),q.nodeChanged()),"A"===a.nodeName&&K.hasClass(a,"mce-item-anchor")&&(b.preventDefault(),M.select(a))}),L.forced_root_block&&q.on("init",function(){I("DefaultParagraphSeparator",L.forced_root_block)}),q.on("init",function(){q.dom.bind(q.getBody(),"submit",function(a){a.preventDefault()})}),j(),w.addNodeFilter("br",function(b){for(var a=b.length;a--;){"Apple-interchange-newline"===b[a].attr("class")&&b[a].remove()}}),fW.iOS?(q.inline||q.on("keydown",function(){document.activeElement===document.body&&q.getWin().focus()}),z(),q.on("click",function(b){var a=b.target;do{if("A"===a.tagName){return void b.preventDefault()}}while(a=a.parentNode)}),q.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):O()),11<=fW.ie&&(z(),j()),fW.ie&&(O(),I("AutoUrlDetect",!1),q.on("dragstart",function(c){var a,d,b;(a=c).dataTransfer&&(q.selection.isCollapsed()&&"IMG"===a.target.tagName&&M.select(a.target),0<(d=q.selection.getContent()).length&&(b=J+escape(q.id)+","+escape(d),a.dataTransfer.setData(B,b)))}),q.on("drop",function(g){if(!k(g)){var d=(c=g).dataTransfer&&(b=c.dataTransfer.getData(B))&&0<=b.indexOf(J)?(b=b.substr(J.length).split(","),{id:unescape(b[0]),html:unescape(b[1])}):null;if(d&&d.id!==q.id){g.preventDefault();var l=FE(g.x,g.y,q.getDoc());M.setRng(l),f=d.html,h=!0,q.queryCommandSupported("mceInsertClipboardContent")?q.execCommand("mceInsertClipboardContent",!1,{content:f,internal:h}):q.execCommand("mceInsertContent",!1,f)}}var f,h,c,b})),H&&(q.on("keydown",function(b){if(!k(b)&&b.keyCode===N){if(!q.getBody().getElementsByTagName("hr").length){return}if(M.isCollapsed()&&0===M.getRng().startOffset){var a=M.getNode(),c=a.previousSibling;if("HR"===a.nodeName){return K.remove(a),void b.preventDefault()}c&&c.nodeName&&"hr"===c.nodeName.toLowerCase()&&(K.remove(c),b.preventDefault())}}}),Range.prototype.getClientRects||q.on("mousedown",function(b){if(!k(b)&&"HTML"===b.target.nodeName){var a=q.getBody();a.blur(),jD.setEditorTimeout(q,function(){a.focus()})}}),E=function(){var a=K.getAttribs(M.getStart().cloneNode(!1));return function(){var b=M.getStart();b!==q.getBody()&&(K.setAttrib(b,"style",null),D(a,function(c){b.setAttributeNode(c.cloneNode(!0))}))}},A=function(){return !M.isCollapsed()&&K.getParent(M.getStart(),K.isBlock)!==K.getParent(M.getEnd(),K.isBlock)},q.on("keypress",function(b){var a;if(!k(b)&&(8===b.keyCode||46===b.keyCode)&&A()){return a=E(),q.getDoc().execCommand("delete",!1,null),a(),b.preventDefault(),!1}}),K.bind(q.getDoc(),"cut",function(b){var a;!k(b)&&A()&&(a=E(),jD.setEditorTimeout(q,function(){a()}))}),L.readonly||q.on("BeforeExecCommand MouseDown",function(){I("StyleWithCSS",!1),I("enableInlineTableEditing",!1),L.object_resizing||I("enableObjectResizing",!1)}),q.on("SetContent ExecCommand",function(a){"setcontent"!==a.type&&"mceInsertLink"!==a.command||D(K.select("a"),function(c){var b=c.parentNode,d=K.getRoot();if(b.lastChild===c){for(;b&&!K.isBlock(b);){if(b.parentNode.lastChild!==b||b===d){return}b=b.parentNode}K.add(b,"br",{"data-mce-bogus":1})}})}),q.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),fW.mac&&q.on("keydown",function(a){!cV.metaKeyPressed(a)||a.shiftKey||37!==a.keyCode&&39!==a.keyCode||(a.preventDefault(),q.selection.getSel().modify("move",37===a.keyCode?"backward":"forward","lineboundary"))}),j()),{refreshContentEditable:function(){},isHidden:function(){var a;return !H||q.removed?0:!(a=q.selection.getSel())||!a.rangeCount||0===a.rangeCount}}}var xO=function(a){return o2.isElement(a)&&wP(C4.fromDom(a))},vz=function(a){a.on("click",function(b){3===b.detail&&function(f){var c=f.selection.getRng(),h=eZ.fromRangeStart(c),d=eZ.fromRangeEnd(c);if(eZ.isElementPosition(h)){var g=h.container();xO(g)&&GW.firstPositionIn(g).each(function(i){return c.setStart(i.container(),i.offset())})}eZ.isElementPosition(d)&&(g=h.container(),xO(g)&&GW.lastPositionIn(g).each(function(i){return c.setEnd(i.container(),i.offset())})),f.selection.setRng(tY(c))}(a)})},w4=function(b){var a,c;(a=b).on("click",function(d){a.dom.getParent(d.target,"details")&&d.preventDefault()}),(c=b).parser.addNodeFilter("details",function(d){Gj(d,function(f){f.attr("data-mce-open",f.attr("open")),f.attr("open","open")})}),c.serializer.addNodeFilter("details",function(d){Gj(d,function(g){var f=g.attr("data-mce-open");g.attr("open",EQ(f)?f:null),g.attr("data-mce-open",null)})})},AM=BG.DOM,GL=function(b){var a;b.bindPendingEventDelegates(),b.initialized=!0,b.fire("init"),b.focus(!0),b.nodeChanged({initial:!0}),b.execCallback("init_instance_callback",b),(a=b).settings.auto_focus&&jD.setEditorTimeout(a,function(){var c;(c=!0===a.settings.auto_focus?a:a.editorManager.get(a.settings.auto_focus)).destroyed||c.focus()},100)},tJ=function(E,z){var k,b,D,j,w,C,F,B,v,y,A,q=E.settings,x=E.getElement(),h=E.getDoc();q.inline||(E.getElement().style.visibility=E.orgVisibility),z||q.content_editable||(h.open(),h.write(E.iframeHTML),h.close()),q.content_editable&&(E.on("remove",function(){var a=this.getBody();AM.removeClass(a,"mce-content-body"),AM.removeClass(a,"mce-edit-focus"),AM.setAttrib(a,"contentEditable",null)}),AM.addClass(x,"mce-content-body"),E.contentDocument=h=q.content_document||document,E.contentWindow=q.content_window||window,E.bodyElement=x,q.content_document=q.content_window=null,q.root_name=x.nodeName.toLowerCase()),(k=E.getBody()).disabled=!0,E.readonly=q.readonly,E.readonly||(E.inline&&"static"===AM.getStyle(k,"position",!0)&&(k.style.position="relative"),k.contentEditable=E.getParam("content_editable_state",!0)),k.disabled=!1,E.editorUpload=tW(E),E.schema=vM(q),E.dom=BG(h,{keep_values:!0,url_converter:E.convertURL,url_converter_scope:E,hex_colors:q.force_hex_style_colors,class_filter:q.class_filter,update_styles:!0,root_element:E.inline?E.getBody():null,collect:q.content_editable,schema:E.schema,onSetAttrib:function(a){E.fire("SetAttrib",a)}}),E.parser=((j=GK((D=E).settings,D.schema)).addAttributeFilter("src,href,style,tabindex",function(l,f){for(var p,g,m,d=l.length,c=D.dom;d--;){if(g=(p=l[d]).attr(f),m="data-mce-"+f,!p.attributes.map[m]){if(0===g.indexOf("data:")||0===g.indexOf("blob:")){continue}"style"===f?((g=c.serializeStyle(c.parseStyle(g),p.name)).length||(g=null),p.attr(m,g),p.attr(f,g)):"tabindex"===f?(p.attr(m,g),p.attr(f,null)):p.attr(m,D.convertURL(g,f,p.name))}}}),j.addNodeFilter("script",function(d){for(var a,f,c=d.length;c--;){0!==(f=(a=d[c]).attr("type")||"no/type").indexOf("mce-")&&a.attr("type","mce-"+f)}}),j.addNodeFilter("#cdata",function(c){for(var a,d=c.length;d--;){(a=c[d]).type=8,a.name="#comment",a.value="[CDATA["+a.value+"]]"}}),j.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(d){for(var a,f=d.length,c=D.schema.getNonEmptyElements();f--;){(a=d[f]).isEmpty(c)&&0===a.getAll("br").length&&(a.append(new bW("br",1)).shortEnded=!0)}}),j),E.serializer=Cz(q,E),E.selection=cH(E.dom,E.getWin(),E.serializer,E),E.experimental=(w=dD(E),C={},Object.defineProperty(C,"annotator",{get:function(){return console.warn("Using experimental API: annotator"),w}}),C),E.formatter=iX(E),E.undoManager=m5(E),E._nodeChangeDispatcher=new tq(E),E._selectionOverrides=gB(E),w4(E),vz(E),CY(E),CO(E),E.fire("PreInit"),q.browser_spellcheck||q.gecko_spellcheck||(h.body.spellcheck=!1,AM.setAttrib(k,"spellcheck","false")),E.quirks=t6(E),E.fire("PostRender"),q.directionality&&(k.dir=q.directionality),q.nowrap&&(k.style.whiteSpace="nowrap"),q.protect&&E.on("BeforeSetContent",function(a){bG.each(q.protect,function(c){a.content=a.content.replace(c,function(d){return"\x3c!--mce:protected "+escape(d)+"--\x3e"})})}),E.on("SetContent",function(){E.addVisual(E.getBody())}),E.load({initial:!0,format:"html"}),E.startContent=E.getContent({format:"raw"}),E.on("compositionstart compositionend",function(a){E.composing="compositionstart"===a.type}),0<E.contentStyles.length&&(b="",bG.each(E.contentStyles,function(a){b+=a+"\r\n"}),E.dom.addStyle(b)),(F=E,F.inline?AM.styleSheetLoader:F.dom.styleSheetLoader).loadAll(E.contentCSS,function(a){GL(E)},function(a){GL(E)}),q.content_style&&(B=E,v=q.content_style,y=C4.fromDom(B.getDoc().head),A=C4.fromTag("style"),s5.set(A,"type","text/css"),zR.append(A,C4.fromText(v)),zR.append(y,A))},uQ=BG.DOM,D8=function(z,E){var k,b,j,w,C,D,F,B=z.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),v=(k=z.id,b=B,j=E.height,w=l1(z),F=C4.fromTag("iframe"),s5.setAll(F,w),s5.setAll(F,{id:k+"_ifr",frameBorder:"0",allowTransparency:"true",title:b}),e2(F,{width:"100%",height:(C=j,D="number"==typeof C?C+"px":C,D||""),display:"block"}),F).dom();v.onload=function(){v.onload=null,z.fire("load")};var y,A,q,x,h=function(d,a){if(document.domain!==window.location.hostname&&fW.ie&&fW.ie<12){var f=GY.uuid("mce");d[f]=function(){tJ(d)};var c='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+d.id+'");document.write(ed.iframeHTML);document.close();ed.'+f+"(true);})()";return uQ.setAttrib(a,"src",c),!0}return !1}(z,v);return z.contentAreaContainer=E.iframeContainer,z.iframeElement=v,z.iframeHTML=(x=kk(y=z)+"<html><head>",f7(y)!==y.documentBaseUrl&&(x+='<base href="'+y.documentBaseURI.getURI()+'" />'),x+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',A=aZ(y),q=DD(y),uL(y)&&(x+='<meta http-equiv="Content-Security-Policy" content="'+uL(y)+'" />'),x+='</head><body id="'+A+'" class="mce-content-body '+q+'" data-id="'+y.id+'"><br></body></html>'),uQ.add(E.iframeContainer,v),h},yV=function(b,a){var c=D8(b,a);a.editorContainer&&(uQ.get(a.editorContainer).style.display=b.orgDisplay,b.hidden=uQ.isHidden(a.editorContainer)),b.getElement().style.display="none",uQ.setAttrib(b.id,"aria-hidden","true"),c||tJ(b)},CA=BG.DOM,DI=function(b,g,d){var c,f,a=lH.get(d);if(c=lH.urls[d]||b.documentBaseUrl.replace(/\/$/,""),d=bG.trim(d),a&&-1===bG.inArray(g,d)){if(bG.each(lH.dependencies(d),function(h){DI(b,g,h)}),b.plugins[d]){return}f=new a(b,c,b.$),(b.plugins[d]=f).init&&(f.init(b,c),g.push(d))}},yk=function(a){return a.replace(/^\-/,"")},BR=function(a){return{editorContainer:a,iframeContainer:a}},wH=function(c){var a,d,b=c.getElement();return c.inline?BR(null):(a=b,d=CA.create("div"),CA.insertAfter(d,a),BR(d))},A7=function(v){var A,h,b,g,p,y,z,B,x,k,q,w=v.settings,j=v.getElement();return v.orgDisplay=j.style.display,EQ(w.theme)?(k=(g=v).settings,q=g.getElement(),p=k.width||CA.getStyle(q,"width")||"100%",y=k.height||CA.getStyle(q,"height")||q.offsetHeight,z=k.min_height||100,(B=/^[0-9\.]+(|px)$/i).test(""+p)&&(p=Math.max(parseInt(p,10),100)),B.test(""+y)&&(y=Math.max(parseInt(y,10),z)),x=g.theme.renderUI({targetNode:q,width:p,height:y,deltaWidth:k.delta_width,deltaHeight:k.delta_height}),k.content_editable||(y=(x.iframeHeight||y)+("number"==typeof y?x.deltaHeight||0:""))<z&&(y=z),x.height=y,x):FU(w.theme)?(b=(A=v).getElement(),(h=A.settings.theme(A,b)).editorContainer.nodeType&&(h.editorContainer.id=h.editorContainer.id||A.id+"_parent"),h.iframeContainer&&h.iframeContainer.nodeType&&(h.iframeContainer.id=h.iframeContainer.id||A.id+"_iframecontainer"),h.height=h.iframeHeight?h.iframeHeight:b.offsetHeight,h):wH(v)},sZ=function(k){var g,d,b,c,f,h,j=k.settings,l=k.getElement();return k.rtl=j.rtl_ui||k.editorManager.i18n.rtl,k.editorManager.i18n.setCode(j.language),j.aria_label=j.aria_label||CA.getAttrib(l,"aria-label",k.getLang("aria.rich_text_area")),k.fire("ScriptsLoaded"),c=(d=k).settings.theme,EQ(c)?(d.settings.theme=yk(c),b=z9.get(c),d.theme=new b(d,z9.urls[c]),d.theme.init&&d.theme.init(d,z9.urls[c]||d.documentBaseUrl.replace(/\/$/,""),d.$)):d.theme={},f=k,h=[],bG.each(f.settings.plugins.split(/[ ,]/),function(a){DI(f,h,yk(a))}),g=A7(k),k.editorContainer=g.editorContainer?g.editorContainer:null,j.content_css&&bG.each(bG.explode(j.content_css),function(a){k.contentCSS.push(k.documentBaseURI.toAbsolute(a))}),j.content_editable?tJ(k):yV(k,g)},FF=BG.DOM,q8=function(a){return"-"===a.charAt(0)},oj=function(d,b){var c=r4.ScriptLoader;!function(k,h,m,j){var l=h.settings,g=l.theme;if(EQ(g)){if(!q8(g)&&!z9.urls.hasOwnProperty(g)){var f=l.theme_url;f?z9.load(g,h.documentBaseURI.toAbsolute(f)):z9.load(g,"themes/"+g+"/theme"+m+".js")}k.loadQueue(function(){z9.waitFor(g,j)})}else{j()}}(c,d,b,function(){var g,a,i,f,h;g=c,(i=(a=d).settings).language&&"en"!==i.language&&!i.language_url&&(i.language_url=a.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&!a.editorManager.i18n.data[i.language]&&g.add(i.language_url),f=d.settings,h=b,bG.isArray(f.plugins)&&(f.plugins=f.plugins.join(" ")),bG.each(f.external_plugins,function(k,j){lH.load(j,k),f.plugins+=" "+j}),bG.each(f.plugins.split(/[ ,]/),function(k){if((k=bG.trim(k))&&!lH.urls[k]){if(q8(k)){k=k.substr(1,k.length);var j=lH.dependencies(k);bG.each(j,function(m){var l={prefix:"plugins/",resource:m,suffix:"/plugin"+h+".js"};m=lH.createUrl(l,m),lH.load(m.resource,m)})}else{lH.load(k,{prefix:"plugins/",resource:k,suffix:"/plugin"+h+".js"})}}}),c.loadQueue(function(){d.removed||sZ(d)},d,function(j){dW(d,j[0]),d.removed||sZ(d)})})},rS=function(a){var c=a.settings,f=a.id,b=function(){FF.unbind(window,"ready",b),a.render()};if(AF.Event.domLoaded){if(a.getElement()&&fW.contentEditable){c.inline?a.inline=!0:(a.orgVisibility=a.getElement().style.visibility,a.getElement().style.visibility="hidden");var d=a.getElement().form||FF.getParent(f,"form");d&&(a.formElement=d,c.hidden_input&&!/TEXTAREA|INPUT/i.test(a.getElement().nodeName)&&(FF.insertAfter(FF.create("input",{type:"hidden",name:f}),f),a.hasHiddenInput=!0),a.formEventDelegate=function(g){a.fire(g.type,g)},FF.bind(d,"submit reset",a.formEventDelegate),a.on("reset",function(){a.setContent(a.startContent,{format:"raw"})}),!c.submit_patch||d.submit.nodeType||d.submit.length||d._mceOldSubmit||(d._mceOldSubmit=d.submit,d.submit=function(){return a.editorManager.triggerSave(),a.setDirty(!1),d._mceOldSubmit(d)})),a.windowManager=gT(a),a.notificationManager=hD(a),"xml"===c.encoding&&a.on("GetContent",function(g){g.save&&(g.content=FF.encode(g.content))}),c.add_form_submit_trigger&&a.on("submit",function(){a.initialized&&a.save()}),c.add_unload_trigger&&(a._beforeUnload=function(){!a.initialized||a.destroyed||a.isHidden()||a.save({format:"raw",no_events:!0,set_dirty:!1})},a.editorManager.on("BeforeUnload",a._beforeUnload)),a.editorManager.add(a),oj(a,a.suffix)}}else{FF.bind(window,"ready",b)}},sB=function(c,a,d){var b=c.sidebars?c.sidebars:[];b.push({name:a,settings:d}),c.sidebars=b},hT=bG.each,m3=bG.trim,eW="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),eq={ftp:21,http:80,https:443,mailto:25},zF=function(c,d){var b,g,f=this;if(c=m3(c),b=(d=f.settings=d||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(c)||/^\s*#/.test(c)){f.source=c}else{var a=0===c.indexOf("//");0!==c.indexOf("/")||a||(c=(b&&b.protocol||"http")+"://mce_host"+c),/^[\w\-]*:?\/\//.test(c)||(g=d.base_uri?d.base_uri.path:new zF(document.location.href).directory,""==d.base_uri.protocol?c="//mce_host"+f.toAbsPath(g,c):(c=/([^#?]*)([#?]?.*)/.exec(c),c=(b&&b.protocol||"http")+"://mce_host"+f.toAbsPath(g,c[1])+c[2])),c=c.replace(/@@/g,"(mce_at)"),c=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(c),hT(eW,function(i,h){var j=c[h];j&&(j=j.replace(/\(mce_at\)/g,"@@")),f[i]=j}),b&&(f.protocol||(f.protocol=b.protocol),f.userInfo||(f.userInfo=b.userInfo),f.port||"mce_host"!==f.host||(f.port=b.port),f.host&&"mce_host"!==f.host||(f.host=b.host),f.source=""),a&&(f.protocol="")}};zF.prototype={setPath:function(a){a=/^(.*?)\/?(\w+)?$/.exec(a),this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},toRelative:function(c){var a;if("./"===c){return c}if("mce_host"!==(c=new zF(c,{base_uri:this})).host&&this.host!==c.host&&c.host||this.port!==c.port||this.protocol!==c.protocol&&""!==c.protocol){return c.getURI()}var d=this.getURI(),b=c.getURI();return d===b||"/"===d.charAt(d.length-1)&&d.substr(0,d.length-1)===b?d:(a=this.toRelPath(this.path,c.path),c.query&&(a+="?"+c.query),c.anchor&&(a+="#"+c.anchor),a)},toAbsolute:function(b,a){return(b=new zF(b,{base_uri:this})).getURI(a&&this.isSameOrigin(b))},isSameOrigin:function(b){if(this.host==b.host&&this.protocol==b.protocol){if(this.port==b.port){return !0}var a=eq[this.protocol];if(a&&(this.port||a)==(b.port||a)){return !0}}return !1},toRelPath:function(g,d){var j,f,h,c=0,b="";if(g=(g=g.substring(0,g.lastIndexOf("/"))).split("/"),j=d.split("/"),g.length>=j.length){for(f=0,h=g.length;f<h;f++){if(f>=j.length||g[f]!==j[f]){c=f+1;break}}}if(g.length<j.length){for(f=0,h=j.length;f<h;f++){if(f>=g.length||g[f]!==j[f]){c=f+1;break}}}if(1===c){return d}for(f=0,h=g.length-(c-1);f<h;f++){b+="../"}for(f=c-1,h=j.length;f<h;f++){b+=f!==c-1?"/"+j[f]:j[f]}return b},toAbsPath:function(g,d){var j,f,h,c=0,b=[];for(f=/\/$/.test(d)?"/":"",g=g.split("/"),d=d.split("/"),hT(g,function(a){a&&b.push(a)}),g=b,j=d.length-1,b=[];0<=j;j--){0!==d[j].length&&"."!==d[j]&&(".."!==d[j]?0<c?c--:b.push(d[j]):c++)}return 0!==(h=(j=g.length-c)<=0?b.reverse().join("/"):g.slice(0,j).join("/")+"/"+b.reverse().join("/")).indexOf("/")&&(h="/"+h),f&&h.lastIndexOf("/")!==h.length-1&&(h+=f),h},getURI:function(b){var a,c=this;return c.source&&!b||(a="",b||(c.protocol?a+=c.protocol+"://":a+="//",c.userInfo&&(a+=c.userInfo+"@"),c.host&&(a+=c.host),c.port&&(a+=":"+c.port)),c.path&&(a+=c.path),c.query&&(a+="?"+c.query),c.anchor&&(a+="#"+c.anchor),c.source=a),c.source}},zF.parseDataUri=function(b){var a,c;return b=decodeURIComponent(b).split(","),(c=/data:([^;]+)/.exec(b[0]))&&(a=c[1]),{type:a,data:b[1]}},zF.getDocumentBaseUrl=function(b){var a;return a=0!==b.protocol.indexOf("http")&&"file:"!==b.protocol?b.href:b.protocol+"//"+b.host+b.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a};var pE=function(h,f,k){var g,j,d,b,c;if(f.format=f.format?f.format:"html",f.get=!0,f.getInner=!0,f.no_events||h.fire("BeforeGetContent",f),"raw"===f.format){g=bG.trim(vB.trimExternal(h.serializer,k.innerHTML))}else{if("text"===f.format){g=eU(k.innerText||k.textContent)}else{if("tree"===f.format){return h.serializer.serialize(k,f)}d=(j=h).serializer.serialize(k,f),b=vS(j),c=new RegExp("^(<"+b+"[^>]*>(&nbsp;|&#160;|\\s|\xa0|<br \\/>|)<\\/"+b+">[\r\n]*|<br \\/>[\r\n]*)$"),g=d.replace(c,"")}}return"text"===f.format||r0(C4.fromDom(k))?f.content=g:f.content=bG.trim(g),f.no_events||h.fire("GetContent",f),f.content},ak=function(b,a){a(b),b.firstChild&&ak(b.firstChild,a),b.next&&ak(b.next,a)},fG=function(c,a,d){var b=function(k,m,h){var j={},l={},g=[];for(var f in h.firstChild&&ak(h.firstChild,function(e){Gj(k,function(i){i.name===e.name&&(j[i.name]?j[i.name].nodes.push(e):j[i.name]={filter:i,nodes:[e]})}),Gj(m,function(i){"string"==typeof e.attr(i.name)&&(l[i.name]?l[i.name].nodes.push(e):l[i.name]={filter:i,nodes:[e]})})}),j){j.hasOwnProperty(f)&&g.push(j[f])}for(var f in l){l.hasOwnProperty(f)&&g.push(l[f])}return g}(c,a,d);Gj(b,function(e){Gj(e.filter.callbacks,function(f){f(e.nodes,e.filter.name,{})})})},nN=function(a){return a instanceof bW},oU=function(c,a){var b;c.dom.setHTML(c.getBody(),a),nj(b=c)&&GW.firstPositionIn(b.getBody()).each(function(f){var d=f.getNode(),g=o2.isTable(d)?GW.firstPositionIn(d).getOr(f):f;b.selection.setRng(g.toRange())})},g9=function(a,b,d){return void 0===d&&(d={}),d.format=d.format?d.format:"html",d.set=!0,d.content=nN(b)?"":b,nN(b)||d.no_events||(a.fire("BeforeSetContent",d),b=d.content),GG.from(a.getBody()).fold(F6(b),function(j){return nN(b)?function(p,i,s,m){fG(p.parser.getNodeFilters(),p.parser.getAttributeFilters(),s);var q=xG({validate:p.validate},p.schema).serialize(s);return m.content=r0(C4.fromDom(i))?q:bG.trim(q),oU(p,m.content),m.no_events||p.fire("SetContent",m),s}(a,j,b,d):(g=a,l=j,k=d,0===(h=b).length||/^\s+$/.test(h)?(c='<br data-mce-bogus="1">',"TABLE"===l.nodeName?h="<tr><td>"+c+"</td></tr>":/^(UL|OL)$/.test(l.nodeName)&&(h="<li>"+c+"</li>"),(f=vS(g))&&g.schema.isValidChild(l.nodeName.toLowerCase(),f.toLowerCase())?(h=c,h=g.dom.createHTML(f,g.settings.forced_root_block_attrs,h)):h||(h='<br data-mce-bogus="1">'),oU(g,h),g.fire("SetContent",k)):("raw"!==k.format&&(h=xG({validate:g.validate},g.schema).serialize(g.parser.parse(h,{isRootContent:!0,insert:!0}))),k.content=r0(C4.fromDom(l))?h:bG.trim(h),oU(g,k.content),k.no_events||g.fire("SetContent",k)),k.content);var g,l,h,k,f,c})},gM=BG.DOM,i0=function(a){return GG.from(a).each(function(b){return b.destroy()})},kQ=function(d){if(!d.removed){var b=d._selectionOverrides,g=d.editorUpload,c=d.getBody(),f=d.getElement();c&&d.save({is_removing:!0}),d.removed=!0,d.unbindAllNativeEvents(),d.hasHiddenInput&&f&&gM.remove(f.nextSibling),!d.inline&&c&&(a=d,gM.setStyle(a.id,"display",a.orgDisplay)),mj(d),d.editorManager.remove(d),gM.remove(d.getContainer()),i0(b),i0(g),d.destroy()}var a},iD=function(g,d){var j,f,h,c=g.selection,b=g.dom;g.destroyed||(d||g.removed?(d||(g.editorManager.off("beforeunload",g._beforeUnload),g.theme&&g.theme.destroy&&g.theme.destroy(),i0(c),i0(b)),(f=(j=g).formElement)&&(f._mceOldSubmit&&(f.submit=f._mceOldSubmit,f._mceOldSubmit=null),gM.unbind(f,"submit reset",j.formEventDelegate)),(h=g).contentAreaContainer=h.formElement=h.container=h.editorContainer=null,h.bodyElement=h.contentDocument=h.contentWindow=null,h.iframeElement=h.targetElm=null,h.selection&&(h.selection=h.selection.win=h.selection.dom=h.selection.dom.doc=null),g.destroyed=!0):g.remove())},mG=BG.DOM,dP=bG.extend,qM=bG.each,c5=bG.resolve,vX=fW.ie,lz=function(p,y,h){var b,g,k,w,x,z,v,j=this,m=j.documentBaseUrl=h.documentBaseURL,q=h.baseURI;b=j,g=p,k=m,w=h.defaultSettings,x=y,v={id:g,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:k,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(z=b).convertURL,url_converter_scope:z,ie7_compat:!0},y=rK(DW,v,w,x),j.settings=y,nB.language=y.language||"en",nB.languageLoad=y.language_load,nB.baseURL=h.baseURL,j.id=p,j.setDirty(!1),j.plugins={},j.documentBaseURI=new zF(y.document_base_url,{base_uri:q}),j.baseURI=q,j.contentCSS=[],j.contentStyles=[],j.shortcuts=new yF(j),j.loadedCSS={},j.editorCommands=new wk(j),j.suffix=h.suffix,j.editorManager=h,j.inline=y.inline,j.buttons={},j.menuItems={},y.cache_suffix&&(fW.cacheSuffix=y.cache_suffix.replace(/^[\?\&]+/,"")),!1===y.override_viewport&&(fW.overrideViewPort=!1),h.fire("SetupEditor",{editor:j}),j.execCallback("setup",j),j.$=wQ.overrideDefaults(function(){return{context:j.inline?j.getBody():j.getDoc(),element:j.getBody()}})};dP(lz.prototype={render:function(){rS(this)},focus:function(a){h0(this,a)},hasFocus:function(){return nj(this)},execCallback:function(c){for(var a=[],f=1;f<arguments.length;f++){a[f-1]=arguments[f]}var b,d=this.settings[c];if(d){return this.callbackLookup&&(b=this.callbackLookup[c])&&(d=b.func,b=b.scope),"string"==typeof d&&(b=(b=d.replace(/\.\w+$/,""))?c5(b):0,d=c5(d),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[c]={func:d,scope:b}),d.apply(b||this,Array.prototype.slice.call(arguments,1))}},translate:function(b){if(b&&bG.is(b,"string")){var c=this.settings.language||"en",a=this.editorManager.i18n;b=a.data[c+"."+b]||b.replace(/\{\#([^\}]+)\}/g,function(f,d){return a.data[c+"."+d]||"{#"+d+"}"})}return this.editorManager.translate(b)},getLang:function(b,a){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+b]||(a!==undefined?a:"{#"+b+"}")},getParam:function(b,a,c){return sR(this,b,a,c)},nodeChanged:function(a){this._nodeChangeDispatcher.nodeChanged(a)},addButton:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),a.stateSelector&&"undefined"==typeof a.active&&(a.active=!1),a.text||a.icon||(a.icon=b),c.buttons=c.buttons,a.tooltip=a.tooltip||a.title,c.buttons[b]=a},addSidebar:function(b,a){return sB(this,b,a)},addMenuItem:function(b,a){var c=this;a.cmd&&(a.onclick=function(){c.execCommand(a.cmd)}),c.menuItems=c.menuItems,c.menuItems[b]=a},addContextToolbar:function(c,a){var d,b=this;b.contextToolbars=b.contextToolbars||[],"string"==typeof c&&(d=c,c=function(f){return b.dom.is(f,d)}),b.contextToolbars.push({id:GY.uuid("mcet"),predicate:c,items:a})},addCommand:function(b,a,c){this.editorCommands.addCommand(b,a,c)},addQueryStateHandler:function(b,a,c){this.editorCommands.addQueryStateHandler(b,a,c)},addQueryValueHandler:function(b,a,c){this.editorCommands.addQueryValueHandler(b,a,c)},addShortcut:function(c,a,d,b){this.shortcuts.add(c,a,d,b)},execCommand:function(c,a,d,b){return this.editorCommands.execCommand(c,a,d,b)},queryCommandState:function(a){return this.editorCommands.queryCommandState(a)},queryCommandValue:function(a){return this.editorCommands.queryCommandValue(a)},queryCommandSupported:function(a){return this.editorCommands.queryCommandSupported(a)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(mG.show(this.getContainer()),mG.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var b=this,a=b.getDoc();b.hidden||(vX&&a&&!b.inline&&a.execCommand("SelectAll"),b.save(),b.inline?(b.getBody().contentEditable=!1,b===b.editorManager.focusedEditor&&(b.editorManager.focusedEditor=null)):(mG.hide(b.getContainer()),mG.setStyle(b.id,"display",b.orgDisplay)),b.hidden=!0,b.fire("hide"))},isHidden:function(){return !!this.hidden},setProgressState:function(b,a){this.fire("ProgressState",{state:b,time:a})},load:function(b){var a,c=this.getElement();return this.removed?"":c?((b=b||{}).load=!0,a=this.setContent(c.value!==undefined?c.value:c.innerHTML,b),b.element=c,b.no_events||this.fire("LoadContent",b),b.element=c=null,a):void 0},save:function(c){var a,f,b=this,d=b.getElement();if(d&&b.initialized&&!b.removed){return(c=c||{}).save=!0,c.element=d,c.content=b.getContent(c),c.no_events||b.fire("SaveContent",c),"raw"===c.format&&b.fire("RawSaveContent",c),a=c.content,/TEXTAREA|INPUT/i.test(d.nodeName)?d.value=a:(!c.is_removing&&b.inline||(d.innerHTML=a),(f=mG.getParent(b.id,"form"))&&qM(f.elements,function(g){if(g.name===b.id){return g.value=a,!1}})),c.element=d=null,!1!==c.set_dirty&&b.setDirty(!1),a}},setContent:function(b,a){return g9(this,b,a)},getContent:function(b){return a=this,void 0===(c=b)&&(c={}),GG.from(a.getBody()).fold(F6("tree"===c.format?new bW("body",11):""),function(d){return pE(a,c,d)});var a,c},insertContent:function(b,a){a&&(b=dP({content:b},a)),this.execCommand("mceInsertContent",!1,b)},isDirty:function(){return !this.isNotDirty},setDirty:function(b){var a=!this.isNotDirty;this.isNotDirty=!b,b&&b!==a&&this.fire("dirty")},setMode:function(b){var a,c;(c=b)!==xV(a=this)&&(a.initialized?uz(a,"readonly"===c):a.on("init",function(){uz(a,"readonly"===c)}),kH(a,c))},getContainer:function(){return this.container||(this.container=mG.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=mG.get(this.id)),this.targetElm},getWin:function(){var a;return this.contentWindow||(a=this.iframeElement)&&(this.contentWindow=a.contentWindow),this.contentWindow},getDoc:function(){var a;return this.contentDocument||(a=this.getWin())&&(this.contentDocument=a.document),this.contentDocument},getBody:function(){var a=this.getDoc();return this.bodyElement||(a?a.body:null)},convertURL:function(c,a,d){var b=this.settings;return b.urlconverter_callback?this.execCallback("urlconverter_callback",c,d,!0,a):!b.convert_urls||d&&"LINK"===d.nodeName||0===c.indexOf("file:")||0===c.length?c:b.relative_urls?this.documentBaseURI.toRelative(c):c=this.documentBaseURI.toAbsolute(c,b.remove_script_host)},addVisual:function(c){var f,b=this,d=b.settings,a=b.dom;c=c||b.getBody(),b.hasVisual===undefined&&(b.hasVisual=d.visual),qM(a.select("table,a",c),function(h){var g;switch(h.nodeName){case"TABLE":return f=d.visual_table_class||"mce-item-table",void ((g=a.getAttrib(h,"border"))&&"0"!==g||!b.hasVisual?a.removeClass(h,f):a.addClass(h,f));case"A":return void (a.getAttrib(h,"href")||(g=a.getAttrib(h,"name")||h.id,f=d.visual_anchor_class||"mce-item-anchor",g&&b.hasVisual?a.addClass(h,f):a.removeClass(h,f)))}}),b.fire("VisualAid",{element:c,hasVisual:b.hasVisual})},remove:function(){kQ(this)},destroy:function(a){iD(this,a)},uploadImages:function(a){return this.editorUpload.uploadImages(a)},_scanForImages:function(){return this.editorUpload.scanForImages()}},uX);var z2,p2,cI,jK={isEditorUIElement:function(a){return -1!==a.className.toString().indexOf("mce-")}},bZ=function(d,c){var a,b;gk.detect().browser.isIE()?(b=d).on("focusout",function(){g0(b)}):(a=c,d.on("mouseup touchend",function(f){a.throttle()})),d.on("keyup nodechange",function(g){var f;"nodechange"===(f=g).type&&f.selectionChange||g0(d)})},bD=function(c){var a,f,b,d=o6(function(){g0(c)},0);c.inline&&(a=c,f=d,b=function(){f.throttle()},BG.DOM.bind(document,"mouseup",b),a.on("remove",function(){BG.DOM.unbind(document,"mouseup",b)})),c.on("init",function(){bZ(c,d)}),c.on("remove",function(){d.cancel()})},lX=BG.DOM,j7=function(a){return jK.isEditorUIElement(a)},f3=function(a,b){var c=a?a.settings.custom_ui_selector:"";return null!==lX.getParent(b,function(d){return j7(d)||!!c&&a.dom.is(d,c)})},aV=function(b,c){var a=c.editor;bD(a),a.on("focusin",function(){var d=b.focusedEditor;d!==this&&(d&&d.fire("blur",{focusedEditor:this}),b.setActive(this),(b.focusedEditor=this).fire("focus",{blurredEditor:d}),this.focus(!0))}),a.on("focusout",function(){var d=this;jD.setEditorTimeout(d,function(){var f=b.focusedEditor;f3(d,function(){try{return document.activeElement}catch(g){return document.body}}())||f!==d||(d.fire("blur",{focusedEditor:null}),b.focusedEditor=null)})}),z2||(z2=function(f){var d,g=b.activeEditor;d=f.target,g&&d.ownerDocument===document&&(d===document.body||f3(g,d)||b.focusedEditor!==g||(g.fire("blur",{focusedEditor:null}),b.focusedEditor=null))},lX.bind(document,"focusin",z2))},CZ=function(b,a){b.focusedEditor===a.editor&&(b.focusedEditor=null),b.activeEditor||(lX.unbind(document,"focusin",z2),z2=null)},t7=function(a){a.on("AddEditor",E6(aV,a)),a.on("RemoveEditor",E6(CZ,a))},xP={},vA="en",w5={setCode:function(a){a&&(vA=a,this.rtl=!!this.data[a]&&"rtl"===this.data[a]._dir)},getCode:function(){return vA},rtl:!1,add:function(c,a){var d=xP[c];for(var b in d||(xP[c]=d={}),a){d[b]=a[b]}this.setCode(c)},translate:function(d){var b=xP[vA]||{},g=function(h){return bG.is(h,"function")?Object.prototype.toString.call(h):c(h)?"":""+h},c=function(h){return""===h||null===h||bG.is(h,"undefined")},f=function(h){return h=g(h),bG.hasOwn(b,h)?g(b[h]):h};if(c(d)){return""}if(bG.is(d,"object")&&bG.hasOwn(d,"raw")){return g(d.raw)}if(bG.is(d,"array")){var a=d.slice(1);d=f(d[0]).replace(/\{([0-9]+)\}/g,function(i,h){return bG.hasOwn(a,h)?g(a[h]):i})}return f(d).replace(/{context:\w+}$/,"")},data:xP},AN=BG.DOM,GM=bG.explode,tK=bG.each,uR=bG.extend,Ej=0,yW=!1,CB=[],DJ=[],yq=function(a){tK(cI.get(),function(b){"scroll"===a.type?b.fire("ScrollWindow",a):b.fire("ResizeWindow",a)})},BS=function(a){a!==yW&&(a?wQ(window).on("resize scroll",yq):wQ(window).off("resize scroll",yq),yW=a)},wI=function(a){var b=DJ;delete CB[a.id];for(var c=0;c<CB.length;c++){if(CB[c]===a){CB.splice(c,1);break}}return DJ=FJ(DJ,function(d){return a!==d}),cI.activeEditor===a&&(cI.activeEditor=0<DJ.length?DJ[0]:null),cI.focusedEditor===a&&(cI.focusedEditor=null),b.length!==DJ.length};uR(cI={defaultSettings:{},$:wQ,majorVersion:"4",minorVersion:"8.1",releaseDate:"2018-07-26",editors:CB,i18n:w5,activeEditor:null,settings:{},setup:function(){var h,f,k,g,j="";if(f=zF.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(f)&&(f=f.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(f)||(f+="/")),k=window.tinymce||window.tinyMCEPreInit){h=k.base||k.baseURL,j=k.suffix}else{for(var d=document.getElementsByTagName("script"),b=0;b<d.length;b++){var c=(g=d[b].src).substring(g.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(g)){-1!==c.indexOf(".min")&&(j=".min"),h=g.substring(0,g.lastIndexOf("/"));break}}!h&&document.currentScript&&(-1!==(g=document.currentScript.src).indexOf(".min")&&(j=".min"),h=g.substring(0,g.lastIndexOf("/")))}this.baseURL=new zF(f).toAbsolute(h),this.documentBaseURL=f,this.baseURI=new zF(this.baseURL),this.suffix=j,t7(this)},overrideDefaults:function(c){var a,f;(a=c.base_url)&&(this.baseURL=new zF(this.documentBaseURL).toAbsolute(a.replace(/\/+$/,"")),this.baseURI=new zF(this.baseURL)),f=c.suffix,c.suffix&&(this.suffix=f);var b=(this.defaultSettings=c).plugin_base_urls;for(var d in b){nB.PluginManager.urls[d]=b[d]}},init:function(g){var k,b,d=this;b=bG.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var j=function(f){var c=f.id;return c||(c=(c=f.name)&&!AN.get(c)?f.name:AN.uniqueId(),f.setAttribute("id",c)),c},a=function(f,c){return c.constructor===RegExp?c.test(f.className):AN.hasClass(f,c)},h=function(c){k=c},i=function(){var f,e=0,c=[],l=function(p,m,q){var o=new lz(p,m,d);c.push(o),o.on("init",function(){++e===f.length&&h(c)}),o.targetElm=o.targetElm||q,o.render()};AN.unbind(window,"ready",i),function(n){var m=g[n];m&&m.apply(d,Array.prototype.slice.call(arguments,2))}("onpageload"),f=wQ.unique(function(m){var o,p=[];if(fW.ie&&fW.ie<11){return v4("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[]}if(m.types){return tK(m.types,function(n){p=p.concat(AN.select(n.selector))}),p}if(m.selector){return AN.select(m.selector)}if(m.target){return[m.target]}switch(m.mode){case"exact":0<(o=m.elements||"").length&&tK(GM(o),function(n){var q;(q=AN.get(n))?p.push(q):tK(document.forms,function(r){tK(r.elements,function(s){s.name===n&&(n="mce_editor_"+Ej++,AN.setAttrib(s,"id",n),p.push(s))})})});break;case"textareas":case"specific_textareas":tK(AN.select("textarea"),function(n){m.editor_deselector&&a(n,m.editor_deselector)||m.editor_selector&&!a(n,m.editor_selector)||p.push(n)})}return p}(g)),g.types?tK(g.types,function(m){bG.each(f,function(n){return !AN.is(n,m.selector)||(l(j(n),uR({},g,m),n),!1)})}):(bG.each(f,function(n){var m;(m=d.get(n.id))&&m.initialized&&!(m.getContainer()||m.getBody()).parentNode&&(wI(m),m.unbindAllNativeEvents(),m.destroy(!0),m.removed=!0,m=null)}),0===(f=bG.grep(f,function(m){return !d.get(m.id)})).length?h([]):tK(f,function(n){var m;m=n,g.inline&&m.tagName.toLowerCase() in b?v4("Could not initialize inline editor on invalid inline target element",n):l(j(n),g,n)}))};return d.settings=g,AN.bind(window,"ready",i),new n3(function(c){k?c(k):h=function(f){c(f)}})},get:function(a){return 0===arguments.length?DJ.slice(0):EQ(a)?FI(DJ,function(b){return b.id===a}).getOr(null):FT(a)&&DJ[a]?DJ[a]:null},add:function(b){var a=this;return CB[b.id]===b||(null===a.get(b.id)&&("length"!==b.id&&(CB[b.id]=b),CB.push(b),DJ.push(b)),BS(!0),a.activeEditor=b,a.fire("AddEditor",{editor:b}),p2||(p2=function(){a.fire("BeforeUnload")},AN.bind(window,"beforeunload",p2))),b},createEditor:function(b,a){return this.add(new lz(b,a,this))},remove:function(c){var a,d,b=this;if(c){if(!EQ(c)){return d=c,Gz(b.get(d.id))?null:(wI(d)&&b.fire("RemoveEditor",{editor:d}),0===DJ.length&&AN.unbind(window,"beforeunload",p2),d.remove(),BS(0<DJ.length),d)}tK(AN.select(c),function(f){(d=b.get(f.id))&&b.remove(d)})}else{for(a=DJ.length-1;0<=a;a--){b.remove(DJ[a])}}},execCommand:function(c,a,d){var b=this.get(d);switch(c){case"mceAddEditor":return this.get(d)||new lz(d,this.settings,this).render(),!0;case"mceRemoveEditor":return b&&b.remove(),!0;case"mceToggleEditor":return b?b.isHidden()?b.show():b.hide():this.execCommand("mceAddEditor",0,d),!0}return !!this.activeEditor&&this.activeEditor.execCommand(c,a,d)},triggerSave:function(){tK(DJ,function(a){a.save()})},addI18n:function(b,a){w5.add(b,a)},translate:function(a){return w5.translate(a)},setActive:function(b){var a=this.activeEditor;this.activeEditor!==b&&(a&&a.fire("deactivate",{relatedTarget:b}),b.fire("activate",{relatedTarget:a})),this.activeEditor=b}},jY),cI.setup();var A8,s0=cI;function FH(a){return{walk:function(c,b){return gX(a,c,b)},split:i2,normalize:function(b){return GZ(a,b).fold(F6(!1),function(c){return b.setStart(c.startContainer,c.startOffset),b.setEnd(c.endContainer,c.endOffset),!0})}}}(A8=FH||(FH={})).compareRanges=a4,A8.getCaretRangeFromPoint=FE,A8.getSelectedNode=xR,A8.getNode=vD;var q9,ok,rT=FH,sD=Math.min,hU=Math.max,m4=Math.round,eX=function(g,k,d){var b,c,f,h,j,l;return b=k.x,c=k.y,f=g.w,h=g.h,j=k.w,l=k.h,"b"===(d=(d||"").split(""))[0]&&(c+=l),"r"===d[1]&&(b+=j),"c"===d[0]&&(c+=m4(l/2)),"c"===d[1]&&(b+=m4(j/2)),"b"===d[3]&&(c-=h),"r"===d[4]&&(b-=f),"c"===d[3]&&(c-=m4(h/2)),"c"===d[4]&&(b-=m4(f/2)),ez(b,c,f,h)},ez=function(c,a,d,b){return{x:c,y:a,w:d,h:b}},zG={inflate:function(b,a,c){return ez(b.x-a,b.y-c,b.w+2*a,b.h+2*c)},relativePosition:eX,findBestRelativePosition:function(d,b,g,c){var f,a;for(a=0;a<c.length;a++){if((f=eX(d,b,c[a])).x>=g.x&&f.x+f.w<=g.w+g.x&&f.y>=g.y&&f.y+f.h<=g.h+g.y){return c[a]}}return null},intersect:function(d,b){var g,c,f,a;return g=hU(d.x,b.x),c=hU(d.y,b.y),f=sD(d.x+d.w,b.x+b.w),a=sD(d.y+d.h,b.y+b.h),f-g<0||a-c<0?null:ez(g,c,f-g,a-c)},clamp:function(p,y,h){var b,g,k,w,x,z,v,j,m,q;return x=p.x,z=p.y,v=p.x+p.w,j=p.y+p.h,m=y.x+y.w,q=y.y+y.h,b=hU(0,y.x-x),g=hU(0,y.y-z),k=hU(0,v-m),w=hU(0,j-q),x+=b,z+=g,h&&(v+=b,j+=g,x-=k,z-=w),ez(x,z,(v-=k)-x,(j-=w)-z)},create:ez,fromClientRect:function(a){return ez(a.left,a.top,a.width,a.height)}},pF={},aq={add:function(b,a){pF[b.toLowerCase()]=a},has:function(a){return !!pF[a.toLowerCase()]},get:function(b){var a=b.toLowerCase(),c=pF.hasOwnProperty(a)?pF[a]:null;if(null===c){throw new Error("Could not find module for type: "+b)}return c},create:function(b,a){var c;if("string"==typeof b?(a=a||{}).type=b:b=(a=b).type,b=b.toLowerCase(),!(c=pF[b])){throw new Error("Could not find control by type: "+b)}return(c=new c(a)).type=b,c}},fH=bG.each,nO=bG.extend,oV=function(){};oV.extend=q9=function(k){var h,f,g,j=this.prototype,d=function(){var i,a,l;if(!ok&&(this.init&&this.init.apply(this,arguments),a=this.Mixins)){for(i=a.length;i--;){(l=a[i]).init&&l.init.apply(this,arguments)}}},b=function(){return this},c=function(e,a){return function(){var l,i=this._super;return this._super=j[e],l=a.apply(this,arguments),this._super=i,l}};for(f in ok=!0,h=new this,ok=!1,k.Mixins&&(fH(k.Mixins,function(i){for(var a in i){"init"!==a&&(k[a]=i[a])}}),j.Mixins&&(k.Mixins=j.Mixins.concat(k.Mixins))),k.Methods&&fH(k.Methods.split(","),function(a){k[a]=b}),k.Properties&&fH(k.Properties.split(","),function(i){var a="_"+i;k[i]=function(l){return l!==undefined?(this[a]=l,this):this[a]}}),k.Statics&&fH(k.Statics,function(i,a){d[a]=i}),k.Defaults&&j.Defaults&&(k.Defaults=nO({},j.Defaults,k.Defaults)),k){"function"==typeof(g=k[f])&&j[f]?h[f]=c(f,g):h[f]=g}return d.prototype=h,(d.constructor=d).extend=q9,d};var hj=Math.min,gN=Math.max,i1=Math.round,kR=function(d,g){var c,f,b,a;if(g=g||'"',null===d){return"null"}if("string"==(b=typeof d)){return f="\bb\tt\nn\ff\rr\"\"''\\\\",g+d.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(i,h){return'"'===g&&"'"===i?i:(c=f.indexOf(h))+1?"\\"+f.charAt(c+1):(i=h.charCodeAt().toString(16),"\\u"+"0000".substring(i.length)+i)})+g}if("object"===b){if(d.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(d)){for(c=0,f="[";c<d.length;c++){f+=(0<c?",":"")+kR(d[c],g)}return f+"]"}for(a in f="{",d){d.hasOwnProperty(a)&&(f+="function"!=typeof d[a]?(1<f.length?","+g:g)+a+g+":"+kR(d[a],g):"")}return f+"}"}return""+d},iE={serialize:kR,parse:function(b){try{return JSON.parse(b)}catch(a){}}},mH={callbacks:{},count:0,send:function(b){var e=this,c=BG.DOM,d=b.count!==undefined?b.count:e.count,a="tinymce_jsonp_"+d;e.callbacks[d]=function(f){c.remove(a),delete e.callbacks[d],b.callback(f)},c.add(c.doc.body,"script",{id:a,src:b.url,type:"text/javascript"}),e.count++}},dQ={send:function(c){var a,d=0,b=function(){!c.async||4===a.readyState||10000<d++?(c.success&&d<10000&&200===a.status?c.success.call(c.success_scope,""+a.responseText,a,c):c.error&&c.error.call(c.error_scope,10000<d?"TIMED_OUT":"GENERAL",a,c),a=null):setTimeout(b,10)};if(c.scope=c.scope||this,c.success_scope=c.success_scope||c.scope,c.error_scope=c.error_scope||c.scope,c.async=!1!==c.async,c.data=c.data||"",dQ.fire("beforeInitialize",{settings:c}),a=new p9){if(a.overrideMimeType&&a.overrideMimeType(c.content_type),a.open(c.type||(c.data?"POST":"GET"),c.url,c.async),c.crossDomain&&(a.withCredentials=!0),c.content_type&&a.setRequestHeader("Content-Type",c.content_type),c.requestheaders&&bG.each(c.requestheaders,function(f){a.setRequestHeader(f.key,f.value)}),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),(a=dQ.fire("beforeSend",{xhr:a,settings:c}).xhr).send(c.data),!c.async){return b()}setTimeout(b,10)}}};bG.extend(dQ,jY);var qN=bG.extend,c6=function(a){this.settings=qN({},a),this.count=0};c6.sendRPC=function(a){return(new c6).send(a)},c6.prototype={send:function(c){var a=c.error,b=c.success;(c=qN(this.settings,c)).success=function(f,d){void 0===(f=iE.parse(f))&&(f={error:"JSON Parse error."}),f.error?a.call(c.error_scope||c.scope,f.error,d):b.call(c.success_scope||c.scope,f.result)},c.error=function(f,d){a&&a.call(c.error_scope||c.scope,f,d)},c.data=iE.serialize({id:c.id||"c"+this.count++,method:c.method,params:c.params}),c.content_type="application/json",dQ.send(c)}};var vY,lA=window.localStorage,z3=s0,p3={geom:{Rect:zG},util:{Promise:n3,Delay:jD,Tools:bG,VK:cV,URI:zF,Class:oV,EventDispatcher:AD,Observable:jY,I18n:w5,XHR:dQ,JSON:iE,JSONRequest:c6,JSONP:mH,LocalStorage:lA,Color:function(f){var h={},a=0,d=0,g=0,b=function(i){var c;return"object"==typeof i?"r" in i?(a=i.r,d=i.g,g=i.b):"v" in i&&function(p,l,s){var m,q,k,j;if(p=(parseInt(p,10)||0)%360,l=parseInt(l,10)/100,s=parseInt(s,10)/100,l=gN(0,hj(l,1)),s=gN(0,hj(s,1)),0!==l){switch(m=p/60,k=(q=s*l)*(1-Math.abs(m%2-1)),j=s-q,Math.floor(m)){case 0:a=q,d=k,g=0;break;case 1:a=k,d=q,g=0;break;case 2:a=0,d=q,g=k;break;case 3:a=0,d=k,g=q;break;case 4:a=k,d=0,g=q;break;case 5:a=q,d=0,g=k;break;default:a=d=g=0}a=i1(255*(a+j)),d=i1(255*(d+j)),g=i1(255*(g+j))}else{a=d=g=i1(255*s)}}(i.h,i.s,i.v):(c=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(i))?(a=parseInt(c[1],10),d=parseInt(c[2],10),g=parseInt(c[3],10)):(c=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(i))?(a=parseInt(c[1],16),d=parseInt(c[2],16),g=parseInt(c[3],16)):(c=/#([0-F])([0-F])([0-F])/gi.exec(i))&&(a=parseInt(c[1]+c[1],16),d=parseInt(c[2]+c[2],16),g=parseInt(c[3]+c[3],16)),a=a<0?0:255<a?255:a,d=d<0?0:255<d?255:d,g=g<0?0:255<g?255:g,h};return f&&b(f),h.toRgb=function(){return{r:a,g:d,b:g}},h.toHsv=function(){return m=a,k=d,q=g,p=0,(j=hj(m/=255,hj(k/=255,q/=255)))===(c=gN(m,gN(k,q)))?{h:0,s:0,v:100*(p=j)}:(l=(c-j)/c,{h:i1(60*((m===j?3:q===j?1:5)-(m===j?k-q:q===j?m-k:q-m)/((p=c)-j))),s:i1(100*l),v:i1(100*p)});var m,k,q,l,p,j,c},h.toHex=function(){var c=function(i){return 1<(i=parseInt(i,10).toString(16)).length?i:"0"+i};return"#"+c(a)+c(d)+c(g)},h.parse=b,h}},dom:{EventUtils:AF,Sizzle:eD,DomQuery:wQ,TreeWalker:AU,DOMUtils:BG,ScriptLoader:r4,RangeUtils:rT,Serializer:Cz,ControlSelection:A6,BookmarkManager:yj,Selection:cH,Event:AF.Event},html:{Styles:AX,Entities:cQ,Node:bW,Schema:vM,SaxParser:t8,DomParser:GK,Writer:vP,Serializer:xG},ui:{Factory:aq},Env:fW,AddOnManager:nB,Annotator:dD,Formatter:iX,UndoManager:m5,EditorCommands:wk,WindowManager:gT,NotificationManager:hD,EditorObservable:uX,Shortcuts:yF,Editor:lz,FocusManager:jK,EditorManager:s0,DOM:BG.DOM,ScriptLoader:r4.ScriptLoader,PluginManager:nB.PluginManager,ThemeManager:nB.ThemeManager,trim:bG.trim,isArray:bG.isArray,is:bG.is,toArray:bG.toArray,makeMap:bG.makeMap,each:bG.each,map:bG.map,grep:bG.grep,inArray:bG.inArray,extend:bG.extend,create:bG.create,walk:bG.walk,createNS:bG.createNS,resolve:bG.resolve,explode:bG.explode,_addCacheSuffix:bG._addCacheSuffix,isOpera:fW.opera,isWebKit:fW.webkit,isIE:fW.ie,isGecko:fW.gecko,isMac:fW.mac},cJ=z3=bG.extend(z3,p3);vY=cJ,window.tinymce=vY,window.tinyMCE=vY,function(b){if("object"==typeof module){try{module.exports=b}catch(a){}}}(cJ)}();