/*! showdown 21-12-2016 */
(function(){function q(a){var d={omitExtraWLInCodeBlocks:{defaultValue:false,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:false,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:false,describe:"Specify a prefix to generated header ids",type:"string"},headerLevelStart:{defaultValue:false,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:false,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:false,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:false,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:false,describe:"Parse midword underscores as literal underscores",type:"boolean"},strikethrough:{defaultValue:false,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:false,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:false,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:true,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:false,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:false,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:false,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:false,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:false,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:false,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"}};if(a===false){return JSON.parse(JSON.stringify(d))}var c={};for(var b in d){if(d.hasOwnProperty(b)){c[b]=d[b].defaultValue}}return c}var B={},r={},v={},x=q(true),u={github:{omitExtraWLInCodeBlocks:true,prefixHeaderId:"user-content-",simplifiedAutoLink:true,excludeTrailingPunctuationFromURLs:true,literalMidWordUnderscores:true,strikethrough:true,tables:true,tablesHeaderId:true,ghCodeBlocks:true,tasklists:true,disableForced4SpacesIndentedSublists:true,simpleLineBreaks:true,requireSpaceBeforeHeadingText:true},vanilla:q(true)};B.helper={};B.extensions={};B.setOption=function(b,a){x[b]=a;return this};B.getOption=function(a){return x[a]};B.getOptions=function(){return x};B.resetOptions=function(){x=q(true)};B.setFlavor=function(c){if(u.hasOwnProperty(c)){var a=u[c];for(var b in a){if(a.hasOwnProperty(b)){x[b]=a[b]}}}};B.getDefaultOptions=function(a){return q(a)};B.subParser=function(b,a){if(B.helper.isString(b)){if(typeof a!=="undefined"){r[b]=a}else{if(r.hasOwnProperty(b)){return r[b]}else{throw Error("SubParser named "+b+" not registered!")}}}};B.extension=function(c,b){if(!B.helper.isString(c)){throw Error("Extension 'name' must be a string")}c=B.helper.stdExtName(c);if(B.helper.isUndefined(b)){if(!v.hasOwnProperty(c)){throw Error("Extension named "+c+" is not registered!")}return v[c]}else{if(typeof b==="function"){b=b()}if(!B.helper.isArray(b)){b=[b]}var a=s(b,c);if(a.valid){v[c]=b}else{throw Error(a.error)}}};B.getAllExtensions=function(){return v};B.removeExtension=function(a){delete v[a]};B.resetExtensions=function(){v={}};function s(c,b){var h=(b)?"Error in "+b+" extension->":"Error in unnamed extension",g={valid:true,error:""};if(!B.helper.isArray(c)){c=[c]}for(var i=0;i<c.length;++i){var d=h+" sub-extension "+i+": ",a=c[i];if(typeof a!=="object"){g.valid=false;g.error=d+"must be an object, but "+typeof a+" given";return g}if(!B.helper.isString(a.type)){g.valid=false;g.error=d+'property "type" must be a string, but '+typeof a.type+" given";return g}var e=a.type=a.type.toLowerCase();if(e==="language"){e=a.type="lang"}if(e==="html"){e=a.type="output"}if(e!=="lang"&&e!=="output"&&e!=="listener"){g.valid=false;g.error=d+"type "+e+' is not recognized. Valid values: "lang/language", "output/html" or "listener"';return g}if(e==="listener"){if(B.helper.isUndefined(a.listeners)){g.valid=false;g.error=d+'. Extensions of type "listener" must have a property called "listeners"';return g}}else{if(B.helper.isUndefined(a.filter)&&B.helper.isUndefined(a.regex)){g.valid=false;g.error=d+e+' extensions must define either a "regex" property or a "filter" method';return g}}if(a.listeners){if(typeof a.listeners!=="object"){g.valid=false;g.error=d+'"listeners" property must be an object but '+typeof a.listeners+" given";return g}for(var f in a.listeners){if(a.listeners.hasOwnProperty(f)){if(typeof a.listeners[f]!=="function"){g.valid=false;g.error=d+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+f+" must be a function but "+typeof a.listeners[f]+" given";return g}}}}if(a.filter){if(typeof a.filter!=="function"){g.valid=false;g.error=d+'"filter" must be a function, but '+typeof a.filter+" given";return g}}else{if(a.regex){if(B.helper.isString(a.regex)){a.regex=new RegExp(a.regex,"g")}if(!a.regex instanceof RegExp){g.valid=false;g.error=d+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given";return g}if(B.helper.isUndefined(a.replace)){g.valid=false;g.error=d+'"regex" extensions must implement a replace string or function';return g}}}}return g}B.validateExtension=function(a){var b=s(a,null);if(!b.valid){console.warn(b.error);return false}return true};if(!B.hasOwnProperty("helper")){B.helper={}}B.helper.isString=function D(a){return(typeof a==="string"||a instanceof String)};B.helper.isFunction=function C(b){var a={};return b&&a.toString.call(b)==="[object Function]"};B.helper.forEach=function w(b,a){if(typeof b.forEach==="function"){b.forEach(a)}else{for(var c=0;c<b.length;c++){a(b[c],c,b)}}};B.helper.isArray=function y(a){return a.constructor===Array};B.helper.isUndefined=function A(a){return typeof a==="undefined"};B.helper.stdExtName=function(a){return a.replace(/[_-]||\s/g,"").toLowerCase()};function E(c,a){var b=a.charCodeAt(0);return"~E"+b+"E"}B.helper.escapeCharactersCallback=E;B.helper.escapeCharacters=function F(a,d,c){var e="(["+d.replace(/([\[\]\\])/g,"\\$1")+"])";if(c){e="\\\\"+e}var b=new RegExp(e,"g");a=a.replace(b,E);return a};var z=function(d,k,n,b){var e=b||"",f=e.indexOf("g")>-1,o=new RegExp(k+"|"+n,"g"+e.replace(/g/g,"")),i=new RegExp(k,e.replace(/g/g,"")),a=[],m,j,l,c,h;do{m=0;while((l=o.exec(d))){if(i.test(l[0])){if(!(m++)){j=o.lastIndex;c=j-l[0].length}}else{if(m){if(!--m){h=l.index+l[0].length;var g={left:{start:c,end:j},match:{start:j,end:l.index},right:{start:l.index,end:h},wholeMatch:{start:c,end:h}};a.push(g);if(!f){return a}}}}}}while(m&&(o.lastIndex=j));return a};B.helper.matchRecursiveRegExp=function(a,b,c,f){var g=z(a,b,c,f),d=[];for(var e=0;e<g.length;++e){d.push([a.slice(g[e].wholeMatch.start,g[e].wholeMatch.end),a.slice(g[e].match.start,g[e].match.end),a.slice(g[e].left.start,g[e].left.end),a.slice(g[e].right.start,g[e].right.end)])}return d};B.helper.replaceRecursiveRegExp=function(h,b,k,d,a){if(!B.helper.isFunction(b)){var g=b;b=function(){return g}}var e=z(h,k,d,a),i=h,f=e.length;if(f>0){var c=[];if(e[0].wholeMatch.start!==0){c.push(h.slice(0,e[0].wholeMatch.start))}for(var j=0;j<f;++j){c.push(b(h.slice(e[j].wholeMatch.start,e[j].wholeMatch.end),h.slice(e[j].match.start,e[j].match.end),h.slice(e[j].left.start,e[j].left.end),h.slice(e[j].right.start,e[j].right.end)));if(j<f-1){c.push(h.slice(e[j].wholeMatch.end,e[j+1].wholeMatch.start))}}if(e[f-1].wholeMatch.end<h.length){c.push(h.slice(e[f-1].wholeMatch.end))}i=c.join("")}return i};if(B.helper.isUndefined(console)){console={warn:function(a){alert(a)},log:function(a){alert(a)},error:function(a){throw a}}}B.Converter=function(b){var c={},f=[],h=[],e={};k();function k(){b=b||{};for(var l in x){if(x.hasOwnProperty(l)){c[l]=x[l]}}if(typeof b==="object"){for(var m in b){if(b.hasOwnProperty(m)){c[m]=b[m]}}}else{throw Error("Converter expects the passed parameter to be an object, but "+typeof b+" was passed instead.")}if(c.extensions){B.helper.forEach(c.extensions,a)}}function a(m,p){p=p||null;if(B.helper.isString(m)){m=B.helper.stdExtName(m);p=m;if(B.extensions[m]){console.warn("DEPRECATION WARNING: "+m+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!");d(B.extensions[m],m);return}else{if(!B.helper.isUndefined(v[m])){m=v[m]}else{throw Error('Extension "'+m+'" could not be loaded. It was either not found or is not a valid extension.')}}}if(typeof m==="function"){m=m()}if(!B.helper.isArray(m)){m=[m]}var n=s(m,p);if(!n.valid){throw Error(n.error)}for(var o=0;o<m.length;++o){switch(m[o].type){case"lang":f.push(m[o]);break;case"output":h.push(m[o]);break}if(m[o].hasOwnProperty("listeners")){for(var l in m[o].listeners){if(m[o].listeners.hasOwnProperty(l)){i(l,m[o].listeners[l])}}}}}function d(m,o){if(typeof m==="function"){m=m(new B.Converter())}if(!B.helper.isArray(m)){m=[m]}var l=s(m,o);if(!l.valid){throw Error(l.error)}for(var n=0;n<m.length;++n){switch(m[n].type){case"lang":f.push(m[n]);break;case"output":h.push(m[n]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}}function i(m,l){if(!B.helper.isString(m)){throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof m+" given")}if(typeof l!=="function"){throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof l+" given")}if(!e.hasOwnProperty(m)){e[m]=[]}e[m].push(l)}function j(l){var n=l.match(/^\s*/)[0].length,m=new RegExp("^\\s{0,"+n+"}","gm");return l.replace(m,"")}this._dispatch=function g(m,l,H,o){if(e.hasOwnProperty(m)){for(var n=0;n<e[m].length;++n){var p=e[m][n](m,l,this,H,o);if(p&&typeof p!=="undefined"){l=p}}}return l};this.listen=function(m,l){i(m,l);return this};this.makeHtml=function(l){if(!l){return l}var m={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:f,outputModifiers:h,converter:this,ghCodeBlocks:[]};l=l.replace(/~/g,"~T");l=l.replace(/\$/g,"~D");l=l.replace(/\r\n/g,"\n");l=l.replace(/\r/g,"\n");l=l.replace(/\u00A0/g," ");if(c.smartIndentationFix){l=j(l)}l="\n\n"+l+"\n\n";l=B.subParser("detab")(l,c,m);l=B.subParser("stripBlankLines")(l,c,m);B.helper.forEach(f,function(n){l=B.subParser("runExtension")(n,l,c,m)});l=B.subParser("hashPreCodeTags")(l,c,m);l=B.subParser("githubCodeBlocks")(l,c,m);l=B.subParser("hashHTMLBlocks")(l,c,m);l=B.subParser("hashHTMLSpans")(l,c,m);l=B.subParser("stripLinkDefinitions")(l,c,m);l=B.subParser("blockGamut")(l,c,m);l=B.subParser("unhashHTMLSpans")(l,c,m);l=B.subParser("unescapeSpecialChars")(l,c,m);l=l.replace(/~D/g,"$$");l=l.replace(/~T/g,"~");B.helper.forEach(h,function(n){l=B.subParser("runExtension")(n,l,c,m)});return l};this.setOption=function(m,l){c[m]=l};this.getOption=function(l){return c[l]};this.getOptions=function(){return c};this.addExtension=function(l,m){m=m||null;a(l,m)};this.useExtension=function(l){a(l)};this.setFlavor=function(n){if(u.hasOwnProperty(n)){var l=u[n];for(var m in l){if(l.hasOwnProperty(m)){c[m]=l[m]}}}};this.removeExtension=function(l){if(!B.helper.isArray(l)){l=[l]}for(var p=0;p<l.length;++p){var m=l[p];for(var o=0;o<f.length;++o){if(f[o]===m){f[o].splice(o,1)}}for(var n=0;n<h.length;++o){if(h[n]===m){h[n].splice(o,1)}}}};this.getAllExtensions=function(){return{language:f,output:h}}};B.subParser("anchors",function(a,c,b){a=b.converter._dispatch("anchors.before",a,c,b);var d=function(j,p,H,e,f,h,k,l){if(B.helper.isUndefined(l)){l=""}j=p;var m=H,g=e.toLowerCase(),o=f,i=l;if(!o){if(!g){g=m.toLowerCase().replace(/ ?\n/g," ")}o="#"+g;if(!B.helper.isUndefined(b.gUrls[g])){o=b.gUrls[g];if(!B.helper.isUndefined(b.gTitles[g])){i=b.gTitles[g]}}else{if(j.search(/\(\s*\)$/m)>-1){o=""}else{return j}}}o=B.helper.escapeCharacters(o,"*_",false);var n='<a href="'+o+'"';if(i!==""&&i!==null){i=i.replace(/"/g,"&quot;");i=B.helper.escapeCharacters(i,"*_",false);n+=' title="'+i+'"'}n+=">"+m+"</a>";return n};a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)][ ]?(?:\n[ ]*)?\[(.*?)])()()()()/g,d);a=a.replace(/(\[((?:\[[^\]]*]|[^\[\]])*)]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,d);a=a.replace(/(\[([^\[\]]+)])()()()()()/g,d);a=b.converter._dispatch("anchors.after",a,c,b);return a});B.subParser("autoLinks",function(d,c,g){d=g.converter._dispatch("autoLinks.before",d,c,g);var f=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+)()(?=\s|$)(?!["<>])/gi,i=/\b(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?()]?)(?=\s|$)(?!["<>])/gi,b=/<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)>/gi,j=/(?:^|\s)([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?:$|\s)/gi,h=/<(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi;d=d.replace(b,a);d=d.replace(h,e);if(c.simplifiedAutoLink){if(c.excludeTrailingPunctuationFromURLs){d=d.replace(i,a)}else{d=d.replace(f,a)}d=d.replace(j,e)}function a(m,n,o,H,p){var l=n,k="";if(/^www\./i.test(n)){n=n.replace(/^www\./i,"http://www.")}if(c.excludeTrailingPunctuationFromURLs&&p){k=p}return'<a href="'+n+'">'+l+"</a>"+k}function e(k,l){var m=B.subParser("unescapeSpecialChars")(l);return B.subParser("encodeEmailAddress")(m)}d=g.converter._dispatch("autoLinks.after",d,c,g);return d});B.subParser("blockGamut",function(a,d,b){a=b.converter._dispatch("blockGamut.before",a,d,b);a=B.subParser("blockQuotes")(a,d,b);a=B.subParser("headers")(a,d,b);var c=B.subParser("hashBlock")("<hr />",d,b);a=a.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,c);a=a.replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,c);a=a.replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,c);a=B.subParser("lists")(a,d,b);a=B.subParser("codeBlocks")(a,d,b);a=B.subParser("tables")(a,d,b);a=B.subParser("hashHTMLBlocks")(a,d,b);a=B.subParser("paragraphs")(a,d,b);a=b.converter._dispatch("blockGamut.after",a,d,b);return a});B.subParser("blockQuotes",function(a,c,b){a=b.converter._dispatch("blockQuotes.before",a,c,b);a=a.replace(/((^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(f,e){var d=e;d=d.replace(/^[ \t]*>[ \t]?/gm,"~0");d=d.replace(/~0/g,"");d=d.replace(/^[ \t]+$/gm,"");d=B.subParser("githubCodeBlocks")(d,c,b);d=B.subParser("blockGamut")(d,c,b);d=d.replace(/(^|\n)/g,"$1  ");d=d.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(h,g){var i=g;i=i.replace(/^  /mg,"~0");i=i.replace(/~0/g,"");return i});return B.subParser("hashBlock")("<blockquote>\n"+d+"\n</blockquote>",c,b)});a=b.converter._dispatch("blockQuotes.after",a,c,b);return a});B.subParser("codeBlocks",function(a,d,c){a=c.converter._dispatch("codeBlocks.before",a,d,c);a+="~0";var b=/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g;a=a.replace(b,function(g,e,f){var j=e,i=f,h="\n";j=B.subParser("outdent")(j);j=B.subParser("encodeCode")(j);j=B.subParser("detab")(j);j=j.replace(/^\n+/g,"");j=j.replace(/\n+$/g,"");if(d.omitExtraWLInCodeBlocks){h=""}j="<pre><code>"+j+h+"</code></pre>";return B.subParser("hashBlock")(j,d,c)+i});a=a.replace(/~0/,"");a=c.converter._dispatch("codeBlocks.after",a,d,c);return a});B.subParser("codeSpans",function(a,c,b){a=b.converter._dispatch("codeSpans.before",a,c,b);if(typeof(a)==="undefined"){a=""}a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(g,e,f,h){var d=h;d=d.replace(/^([ \t]*)/g,"");d=d.replace(/[ \t]*$/g,"");d=B.subParser("encodeCode")(d);return e+"<code>"+d+"</code>"});a=b.converter._dispatch("codeSpans.after",a,c,b);return a});B.subParser("detab",function(a){a=a.replace(/\t(?=\t)/g,"    ");a=a.replace(/\t/g,"~A~B");a=a.replace(/~B(.+?)~A/g,function(f,d){var b=d,e=4-b.length%4;for(var c=0;c<e;c++){b+=" "}return b});a=a.replace(/~A/g,"    ");a=a.replace(/~B/g,"");return a});B.subParser("encodeAmpsAndAngles",function(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;");return a});B.subParser("encodeBackslashEscapes",function(a){a=a.replace(/\\(\\)/g,B.helper.escapeCharactersCallback);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,B.helper.escapeCharactersCallback);return a});B.subParser("encodeCode",function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=B.helper.escapeCharacters(a,"*_{}[]\\",false);return a});B.subParser("encodeEmailAddress",function(a){var b=[function(c){return"&#"+c.charCodeAt(0)+";"},function(c){return"&#x"+c.charCodeAt(0).toString(16)+";"},function(c){return c}];a="mailto:"+a;a=a.replace(/./g,function(d){if(d==="@"){d=b[Math.floor(Math.random()*2)](d)}else{if(d!==":"){var c=Math.random();d=(c>0.9?b[2](d):c>0.45?b[1](d):b[0](d))}}return d});a='<a href="'+a+'">'+a+"</a>";a=a.replace(/">.+:/g,'">');return a});B.subParser("escapeSpecialCharsWithinTagAttributes",function(a){var b=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;a=a.replace(b,function(c){var d=c.replace(/(.)<\/?code>(?=.)/g,"$1`");d=B.helper.escapeCharacters(d,"\\`*_",false);return d});return a});B.subParser("githubCodeBlocks",function(a,c,b){if(!c.ghCodeBlocks){return a}a=b.converter._dispatch("githubCodeBlocks.before",a,c,b);a+="~0";a=a.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(f,d,e){var g=(c.omitExtraWLInCodeBlocks)?"":"\n";e=B.subParser("encodeCode")(e);e=B.subParser("detab")(e);e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");e="<pre><code"+(d?' class="'+d+" language-"+d+'"':"")+">"+e+g+"</code></pre>";e=B.subParser("hashBlock")(e,c,b);return"\n\n~G"+(b.ghCodeBlocks.push({text:f,codeblock:e})-1)+"G\n\n"});a=a.replace(/~0/,"");return b.converter._dispatch("githubCodeBlocks.after",a,c,b)});B.subParser("hashBlock",function(a,c,b){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(b.gHtmlBlocks.push(a)-1)+"K\n\n"});B.subParser("hashElement",function(a,c,b){return function(f,e){var d=e;d=d.replace(/\n\n/g,"\n");d=d.replace(/^\n/,"");d=d.replace(/\n+$/g,"");d="\n\n~K"+(b.gHtmlBlocks.push(d)-1)+"K\n\n";return d}});B.subParser("hashHTMLBlocks",function(a,e,c){var f=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],b=function(h,k,g,j){var i=h;if(g.search(/\bmarkdown\b/)!==-1){i=g+c.converter.makeHtml(k)+j}return"\n\n~K"+(c.gHtmlBlocks.push(i)-1)+"K\n\n"};for(var d=0;d<f.length;++d){a=B.helper.replaceRecursiveRegExp(a,b,"^ {0,3}<"+f[d]+"\\b[^>]*>","</"+f[d]+">","gim")}a=a.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,B.subParser("hashElement")(a,e,c));a=B.helper.replaceRecursiveRegExp(a,function(g){return"\n\n~K"+(c.gHtmlBlocks.push(g)-1)+"K\n\n"},"^ {0,3}<!--","-->","gm");a=a.replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,B.subParser("hashElement")(a,e,c));return a});B.subParser("hashHTMLSpans",function(a,e,c){var b=B.helper.matchRecursiveRegExp(a,"<code\\b[^>]*>","</code>","gi");for(var d=0;d<b.length;++d){a=a.replace(b[d][0],"~C"+(c.gHtmlSpans.push(b[d][0])-1)+"C")}return a});B.subParser("unhashHTMLSpans",function(a,d,b){for(var c=0;c<b.gHtmlSpans.length;++c){a=a.replace("~C"+c+"C",b.gHtmlSpans[c])}return a});B.subParser("hashPreCodeTags",function(a,d,c){var b=function(h,g,i,f){var e=i+B.subParser("encodeCode")(g)+f;return"\n\n~G"+(c.ghCodeBlocks.push({text:h,codeblock:e})-1)+"G\n\n"};a=B.helper.replaceRecursiveRegExp(a,b,"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim");return a});B.subParser("headers",function(e,c,a){e=a.converter._dispatch("headers.before",e,c,a);var d=c.prefixHeaderId,h=(isNaN(parseInt(c.headerLevelStart)))?1:parseInt(c.headerLevelStart),g=(c.smoothLivePreview)?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,i=(c.smoothLivePreview)?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=e.replace(g,function(n,m){var l=B.subParser("spanGamut")(m,c,a),o=(c.noHeaderId)?"":' id="'+f(m)+'"',j=h,k="<h"+j+o+">"+l+"</h"+j+">";return B.subParser("hashBlock")(k,c,a)});e=e.replace(i,function(l,o){var n=B.subParser("spanGamut")(o,c,a),j=(c.noHeaderId)?"":' id="'+f(o)+'"',m=h+1,k="<h"+m+j+">"+n+"</h"+m+">";return B.subParser("hashBlock")(k,c,a)});var b=(c.requireSpaceBeforeHeadingText)?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;e=e.replace(b,function(o,m,n){var l=B.subParser("spanGamut")(n,c,a),p=(c.noHeaderId)?"":' id="'+f(n)+'"',j=h-1+m.length,k="<h"+j+p+">"+l+"</h"+j+">";return B.subParser("hashBlock")(k,c,a)});function f(k){var l,j=k.replace(/[^\w]/g,"").toLowerCase();if(a.hashLinkCounts[j]){l=j+"-"+(a.hashLinkCounts[j]++)}else{l=j;a.hashLinkCounts[j]=1}if(d===true){d="section"}if(B.helper.isString(d)){return d+l}return l}e=a.converter._dispatch("headers.after",e,c,a);return e});B.subParser("images",function(a,f,c){a=c.converter._dispatch("images.before",a,f,c);var d=/!\[(.*?)]\s?\([ \t]*()<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(['"])(.*?)\6[ \t]*)?\)/g,e=/!\[([^\]]*?)] ?(?:\n *)?\[(.*?)]()()()()()/g;function b(i,I,J,m,l,p,h,g){var n=c.gUrls,j=c.gTitles,k=c.gDimensions;J=J.toLowerCase();if(!g){g=""}if(m===""||m===null){if(J===""||J===null){J=I.toLowerCase().replace(/ ?\n/g," ")}m="#"+J;if(!B.helper.isUndefined(n[J])){m=n[J];if(!B.helper.isUndefined(j[J])){g=j[J]}if(!B.helper.isUndefined(k[J])){l=k[J].width;p=k[J].height}}else{return i}}I=I.replace(/"/g,"&quot;");I=B.helper.escapeCharacters(I,"*_",false);m=B.helper.escapeCharacters(m,"*_",false);var o='<img src="'+m+'" alt="'+I+'"';if(g){g=g.replace(/"/g,"&quot;");g=B.helper.escapeCharacters(g,"*_",false);o+=' title="'+g+'"'}if(l&&p){l=(l==="*")?"auto":l;p=(p==="*")?"auto":p;o+=' width="'+l+'"';o+=' height="'+p+'"'}o+=" />";return o}a=a.replace(e,b);a=a.replace(d,b);a=c.converter._dispatch("images.after",a,f,c);return a});B.subParser("italicsAndBold",function(a,c,b){a=b.converter._dispatch("italicsAndBold.before",a,c,b);if(c.literalMidWordUnderscores){a=a.replace(/(^|\s|>|\b)__(?=\S)([\s\S]+?)__(?=\b|<|\s|$)/gm,"$1<strong>$2</strong>");a=a.replace(/(^|\s|>|\b)_(?=\S)([\s\S]+?)_(?=\b|<|\s|$)/gm,"$1<em>$2</em>");a=a.replace(/(\*\*)(?=\S)([^\r]*?\S[*]*)\1/g,"<strong>$2</strong>");a=a.replace(/(\*)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")}else{a=a.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>");a=a.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")}a=b.converter._dispatch("italicsAndBold.after",a,c,b);return a});B.subParser("lists",function(b,d,c){b=c.converter._dispatch("lists.before",b,d,c);function e(h,i){c.gListLevel++;h=h.replace(/\n{2,}$/,"\n");h+="~0";var f=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,g=(/\n[ \t]*\n(?!~0)/.test(h));if(d.disableForced4SpacesIndentedSublists){f=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm}h=h.replace(f,function(m,p,J,j,k,o,l){l=(l&&l.trim()!=="");var I=B.subParser("outdent")(k,d,c),n="";if(o&&d.tasklists){n=' class="task-list-item" style="list-style-type: none;"';I=I.replace(/^[ \t]*\[(x|X| )?]/m,function(){var G='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';if(l){G+=" checked"}G+=">";return G})}I=I.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,function(G){return"~A"+G});if(p||(I.search(/\n{2,}/)>-1)){I=B.subParser("githubCodeBlocks")(I,d,c);I=B.subParser("blockGamut")(I,d,c)}else{I=B.subParser("lists")(I,d,c);I=I.replace(/\n$/,"");I=B.subParser("hashHTMLBlocks")(I,d,c);I=I.replace(/\n\n+/g,"\n\n");if(g){I=B.subParser("paragraphs")(I,d,c)}else{I=B.subParser("spanGamut")(I,d,c)}}I=I.replace("~A","");I="<li"+n+">"+I+"</li>\n";return I});h=h.replace(/~0/g,"");c.gListLevel--;if(i){h=h.replace(/\s+$/,"")}return h}function a(g,k,m){var h=(d.disableForced4SpacesIndentedSublists)?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,f=(d.disableForced4SpacesIndentedSublists)?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,j=(k==="ul")?h:f,i="";if(g.search(j)!==-1){(function l(o){var n=o.search(j);if(n!==-1){i+="\n<"+k+">\n"+e(o.slice(0,n),!!m)+"</"+k+">\n";k=(k==="ul")?"ol":"ul";j=(k==="ul")?h:f;l(o.slice(n))}else{i+="\n<"+k+">\n"+e(o,!!m)+"</"+k+">\n"}})(g)}else{i="\n<"+k+">\n"+e(g,!!m)+"</"+k+">\n"}return i}b+="~0";if(c.gListLevel){b=b.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(h,i,g){var f=(g.search(/[*+-]/g)>-1)?"ul":"ol";return a(i,f,true)})}else{b=b.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,function(g,f,i,h){var j=(h.search(/[*+-]/g)>-1)?"ul":"ol";return a(i,j,false)})}b=b.replace(/~0/,"");b=c.converter._dispatch("lists.after",b,d,c);return b});B.subParser("outdent",function(a){a=a.replace(/^(\t|[ ]{1,4})/gm,"~0");a=a.replace(/~0/g,"");return a});B.subParser("paragraphs",function(e,c,k){e=k.converter._dispatch("paragraphs.before",e,c,k);e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");var d=e.split(/\n{2,}/g),f=[],l=d.length;for(var j=0;j<l;j++){var g=d[j];if(g.search(/~(K|G)(\d+)\1/g)>=0){f.push(g)}else{g=B.subParser("spanGamut")(g,c,k);g=g.replace(/^([ \t]*)/g,"<p>");g+="</p>";f.push(g)}}l=f.length;for(j=0;j<l;j++){var h="",m=f[j],a=false;while(m.search(/~(K|G)(\d+)\1/)>=0){var b=RegExp.$1,i=RegExp.$2;if(b==="K"){h=k.gHtmlBlocks[i]}else{if(a){h=B.subParser("encodeCode")(k.ghCodeBlocks[i].text)}else{h=k.ghCodeBlocks[i].codeblock}}h=h.replace(/\$/g,"$$$$");m=m.replace(/(\n\n)?~(K|G)\d+\2(\n\n)?/,h);if(/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(m)){a=true}}f[j]=m}e=f.join("\n");e=e.replace(/^\n+/g,"");e=e.replace(/\n+$/g,"");return k.converter._dispatch("paragraphs.after",e,c,k)});B.subParser("runExtension",function(c,a,e,b){if(c.filter){a=c.filter(a,b.converter,e)}else{if(c.regex){var d=c.regex;if(!d instanceof RegExp){d=new RegExp(d,"g")}a=a.replace(d,c.replace)}}return a});B.subParser("spanGamut",function(a,c,b){a=b.converter._dispatch("spanGamut.before",a,c,b);a=B.subParser("codeSpans")(a,c,b);a=B.subParser("escapeSpecialCharsWithinTagAttributes")(a,c,b);a=B.subParser("encodeBackslashEscapes")(a,c,b);a=B.subParser("images")(a,c,b);a=B.subParser("anchors")(a,c,b);a=B.subParser("autoLinks")(a,c,b);a=B.subParser("encodeAmpsAndAngles")(a,c,b);a=B.subParser("italicsAndBold")(a,c,b);a=B.subParser("strikethrough")(a,c,b);if(c.simpleLineBreaks){a=a.replace(/\b\n\b/g,"<br />\n")}else{a=a.replace(/\b  +\n\b/g,"<br />\n")}a=b.converter._dispatch("spanGamut.after",a,c,b);return a});B.subParser("strikethrough",function(a,c,b){if(c.strikethrough){a=b.converter._dispatch("strikethrough.before",a,c,b);a=a.replace(/(?:~T){2}([\s\S]+?)(?:~T){2}/g,"<del>$1</del>");a=b.converter._dispatch("strikethrough.after",a,c,b)}return a});B.subParser("stripBlankLines",function(a){return a.replace(/^[ \t]+$/mg,"")});B.subParser("stripLinkDefinitions",function(a,d,b){var c=/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(\S+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=~0))/gm;a+="~0";a=a.replace(c,function(h,f,g,e,i,k,j){f=f.toLowerCase();b.gUrls[f]=B.subParser("encodeAmpsAndAngles")(g);if(k){return k+j}else{if(j){b.gTitles[f]=j.replace(/"|'/g,"&quot;")}if(d.parseImgDimensions&&e&&i){b.gDimensions[f]={width:e,height:i}}}return""});a=a.replace(/~0/,"");return a});B.subParser("tables",function(a,g,d){if(!g.tables){return a}var e=/^ {0,3}\|?.+\|.+\n[ \t]{0,3}\|?[ \t]*:?[ \t]*(?:-|=){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:-|=){2,}[\s\S]+?(?:\n\n|~0)/gm;function f(i){if(/^:[ \t]*--*$/.test(i)){return' style="text-align:left;"'}else{if(/^--*[ \t]*:[ \t]*$/.test(i)){return' style="text-align:right;"'}else{if(/^:[ \t]*--*[ \t]*:$/.test(i)){return' style="text-align:center;"'}else{return""}}}}function b(i,k){var j="";i=i.trim();if(g.tableHeaderId){j=' id="'+i.replace(/ /g,"_").toLowerCase()+'"'}i=B.subParser("spanGamut")(i,g,d);return"<th"+j+k+">"+i+"</th>\n"}function c(k,i){var j=B.subParser("spanGamut")(k,g,d);return"<td"+i+">"+j+"</td>\n"}function h(j,l){var n="<table>\n<thead>\n<tr>\n",k=j.length;for(var i=0;i<k;++i){n+=j[i]}n+="</tr>\n</thead>\n<tbody>\n";for(i=0;i<l.length;++i){n+="<tr>\n";for(var m=0;m<k;++m){n+=l[i][m]}n+="</tr>\n"}n+="</tbody>\n</table>\n";return n}a=d.converter._dispatch("tables.before",a,g,d);a=a.replace(e,function(j){var k,l=j.split("\n");for(k=0;k<l.length;++k){if(/^ {0,3}\|/.test(l[k])){l[k]=l[k].replace(/^ {0,3}\|/,"")}if(/\|[ \t]*$/.test(l[k])){l[k]=l[k].replace(/\|[ \t]*$/,"")}}var n=l[0].split("|").map(function(G){return G.trim()}),L=l[1].split("|").map(function(G){return G.trim()}),i=[],m=[],p=[],J=[];l.shift();l.shift();for(k=0;k<l.length;++k){if(l[k].trim()===""){continue}i.push(l[k].split("|").map(function(G){return G.trim()}))}if(n.length<L.length){return j}for(k=0;k<L.length;++k){p.push(f(L[k]))}for(k=0;k<n.length;++k){if(B.helper.isUndefined(p[k])){p[k]=""}m.push(b(n[k],p[k]))}for(k=0;k<i.length;++k){var o=[];for(var K=0;K<m.length;++K){if(B.helper.isUndefined(i[k][K])){}o.push(c(i[k][K],p[K]))}J.push(o)}return h(m,J)});a=d.converter._dispatch("tables.after",a,g,d);return a});B.subParser("unescapeSpecialChars",function(a){a=a.replace(/~E(\d+)E/g,function(d,b){var c=parseInt(b);return String.fromCharCode(c)});return a});var t=this;if(typeof module!=="undefined"&&module.exports){module.exports=B}else{if(typeof define==="function"&&define.amd){define(function(){return B})}else{t.showdown=B}}}).call(this);