/*!
 @package noty - jQuery Notification Plugin
 @version version: 2.4.1
 @contributors https://github.com/needim/noty/v2/graphs/contributors

 @documentation Examples and Documentation - http://needim.github.com/noty/v2/

 @license Licensed under the MIT licenses: http://www.opensource.org/licenses/mit-license.php
 */
;if(typeof Object.create!=="function"){Object.create=function(b){function a(){}a.prototype=b;return new a()}}var NotyObject={init:function(a){this.options=$.extend({},$.noty.defaults,a);this.options.layout=(this.options.custom)?$.noty.layouts.inline:$.noty.layouts[this.options.layout];if($.noty.themes[this.options.theme]){this.options.theme=$.noty.themes[this.options.theme];if(this.options.theme.template){this.options.template=this.options.theme.template}if(this.options.theme.animation){this.options.animation=this.options.theme.animation}}else{this.options.themeClassName=this.options.theme}this.options=$.extend({},this.options,this.options.layout.options);if(this.options.id){if($.noty.store[this.options.id]){return $.noty.store[this.options.id]}}else{this.options.id="noty_"+(new Date().getTime()*Math.floor(Math.random()*1000000))}this._build();return this},_build:function(){var d=$('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);d.append(this.options.template).find(".noty_text").html(this.options.text);this.$bar=(this.options.layout.parent.object!==null)?$(this.options.layout.parent.object).css(this.options.layout.parent.css).append(d):d;if(this.options.themeClassName){this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type)}if(this.options.buttons){var c;if(this.$bar.find(".noty_buttons").length>0){c=this.$bar.find(".noty_buttons")}else{c=$("<div/>").addClass("noty_buttons");(this.options.layout.parent.object!==null)?this.$bar.find(".noty_bar").append(c):this.$bar.append(c)}var b=this;$.each(this.options.buttons,function(f,e){var g=$("<button/>").addClass((e.addClass)?e.addClass:"gray").html(e.text).attr("id",e.id?e.id:"button-"+f).attr("title",e.title).appendTo(c).on("click",function(h){if($.isFunction(e.onClick)){e.onClick.call(g,b,h)}})})}else{this.$bar.find(".noty_buttons").remove()}if(this.options.progressBar&&this.options.timeout){var a=$("<div/>").addClass("noty_progress_bar");(this.options.layout.parent.object!==null)?this.$bar.find(".noty_bar").append(a):this.$bar.append(a)}this.$message=this.$bar.find(".noty_message");this.$closeButton=this.$bar.find(".noty_close");this.$buttons=this.$bar.find(".noty_buttons");this.$progressBar=this.$bar.find(".noty_progress_bar");$.noty.store[this.options.id]=this},show:function(){var a=this;(a.options.custom)?a.options.custom.find(a.options.layout.container.selector).append(a.$bar):$(a.options.layout.container.selector).append(a.$bar);if(a.options.theme&&a.options.theme.style){a.options.theme.style.apply(a)}($.type(a.options.layout.css)==="function")?this.options.layout.css.apply(a.$bar):a.$bar.css(this.options.layout.css||{});a.$bar.addClass(a.options.layout.addClass);a.options.layout.container.style.apply($(a.options.layout.container.selector),[a.options.within]);a.showing=true;if(a.options.theme&&a.options.theme.style){a.options.theme.callback.onShow.apply(this)}if($.inArray("click",a.options.closeWith)>-1){a.$bar.css("cursor","pointer").on("click",function(b){a.stopPropagation(b);if(a.options.callback.onCloseClick){a.options.callback.onCloseClick.apply(a)}a.close()})}if($.inArray("hover",a.options.closeWith)>-1){a.$bar.one("mouseenter",function(){a.close()})}if($.inArray("button",a.options.closeWith)>-1){a.$closeButton.one("click",function(b){a.stopPropagation(b);a.close()})}if($.inArray("button",a.options.closeWith)==-1){a.$closeButton.remove()}if(a.options.callback.beforeShow){a.options.callback.beforeShow.apply(a)}if(typeof a.options.animation.open=="string"){a.animationTypeOpen="css";a.$bar.css("min-height",a.$bar.innerHeight());a.$bar.on("click",function(b){a.wasClicked=true});a.$bar.show();if(a.options.callback.onShow){a.options.callback.onShow.apply(a)}a.$bar.addClass(a.options.animation.open).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){if(a.options.callback.afterShow){a.options.callback.afterShow.apply(a)}a.showing=false;a.shown=true;a.bindTimeout();if(a.hasOwnProperty("wasClicked")){a.$bar.off("click",function(b){a.wasClicked=true});a.close()}})}else{if(typeof a.options.animation.open=="object"&&a.options.animation.open==null){a.animationTypeOpen="none";a.showing=false;a.shown=true;a.$bar.show();a.bindTimeout();if(a.options.callback.onShow){a.options.callback.onShow.apply(a)}a.$bar.queue(function(){if(a.options.callback.afterShow){a.options.callback.afterShow.apply(a)}})}else{a.animationTypeOpen="anim";if(a.options.callback.onShow){a.options.callback.onShow.apply(a)}a.$bar.animate(a.options.animation.open,a.options.animation.speed,a.options.animation.easing,function(){if(a.options.callback.afterShow){a.options.callback.afterShow.apply(a)}a.showing=false;a.shown=true;a.bindTimeout()})}}return this},bindTimeout:function(){var a=this;if(a.options.timeout){if(a.options.progressBar&&a.$progressBar){a.$progressBar.css({transition:"all "+a.options.timeout+"ms linear",width:"0%"})}a.queueClose(a.options.timeout);a.$bar.on("mouseenter",a.dequeueClose.bind(a));a.$bar.on("mouseleave",a.queueClose.bind(a,a.options.timeout))}},dequeueClose:function(){var a=this;if(a.options.progressBar){this.$progressBar.css({transition:"none",width:"100%"})}if(!this.closeTimer){return}clearTimeout(this.closeTimer);this.closeTimer=null},queueClose:function(b){var a=this;if(a.options.progressBar){a.$progressBar.css({transition:"all "+a.options.timeout+"ms linear",width:"0%"})}if(this.closeTimer){return}a.closeTimer=window.setTimeout(function(){a.close()},b);return a.closeTimer},close:function(){if(this.$progressBar){this.$progressBar.remove()}if(this.closeTimer){this.dequeueClose()}if(this.closed){return}if(this.$bar&&this.$bar.hasClass("i-am-closing-now")){return}var b=this;if(this.showing&&(this.animationTypeOpen=="anim"||this.animationTypeOpen=="none")){b.$bar.queue(function(){b.close.apply(b)});return}else{if(this.showing&&this.animationTypeOpen=="css"){b.$bar.on("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){b.close()})}}if(!this.shown&&!this.showing){var a=[];$.each($.noty.queue,function(c,d){if(d.options.id!=b.options.id){a.push(d)}});$.noty.queue=a;return}b.$bar.addClass("i-am-closing-now");if(b.options.callback.onClose){b.options.callback.onClose.apply(b)}if(typeof b.options.animation.close=="string"){b.$bar.removeClass(b.options.animation.open).addClass(b.options.animation.close).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){if(b.options.callback.afterClose){b.options.callback.afterClose.apply(b)}b.closeCleanUp()})}else{if(typeof b.options.animation.close=="object"&&b.options.animation.close==null){b.$bar.dequeue().hide(0,function(){if(b.options.callback.afterClose){b.options.callback.afterClose.apply(b)}b.closeCleanUp()})}else{b.$bar.clearQueue().stop().animate(b.options.animation.close,b.options.animation.speed,b.options.animation.easing,function(){if(b.options.callback.afterClose){b.options.callback.afterClose.apply(b)}}).promise().done(function(){b.closeCleanUp()})}}},closeCleanUp:function(){var a=this;if(a.options.modal){$.notyRenderer.setModalCount(-1);if($.notyRenderer.getModalCount()==0&&!$.noty.queue.length){$(".noty_modal").fadeOut(a.options.animation.fadeSpeed,function(){$(this).remove()})}}$.notyRenderer.setLayoutCountFor(a,-1);if($.notyRenderer.getLayoutCountFor(a)==0){$(a.options.layout.container.selector).remove()}if(typeof a.$bar!=="undefined"&&a.$bar!==null){if(typeof a.options.animation.close=="string"){a.$bar.css("transition","all 10ms ease").css("border",0).css("margin",0).height(0);a.$bar.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){a.$bar.remove();a.$bar=null;a.closed=true;if(a.options.theme.callback&&a.options.theme.callback.onClose){a.options.theme.callback.onClose.apply(a)}a.handleNext()})}else{a.$bar.remove();a.$bar=null;a.closed=true;a.handleNext()}}else{a.handleNext()}},handleNext:function(){var a=this;delete $.noty.store[a.options.id];if(a.options.theme.callback&&a.options.theme.callback.onClose){a.options.theme.callback.onClose.apply(a)}if(!a.options.dismissQueue){$.noty.ontap=true;$.notyRenderer.render()}if(a.options.maxVisible>0&&a.options.dismissQueue){$.notyRenderer.render()}},setText:function(a){if(!this.closed){this.options.text=a;this.$bar.find(".noty_text").html(a)}return this},setType:function(a){if(!this.closed){this.options.type=a;this.options.theme.style.apply(this);this.options.theme.callback.onShow.apply(this)}return this},setTimeout:function(b){if(!this.closed){var a=this;this.options.timeout=b;a.$bar.delay(a.options.timeout).promise().done(function(){a.close()})}return this},stopPropagation:function(a){a=a||window.event;if(typeof a.stopPropagation!=="undefined"){a.stopPropagation()}else{a.cancelBubble=true}},closed:false,showing:false,shown:false};$.notyRenderer={};$.notyRenderer.init=function(a){var b=Object.create(NotyObject).init(a);if(b.options.killer){$.noty.closeAll()}(b.options.force)?$.noty.queue.unshift(b):$.noty.queue.push(b);$.notyRenderer.render();return($.noty.returns=="object")?b:b.options.id};$.notyRenderer.render=function(){var a=$.noty.queue[0];if($.type(a)==="object"){if(a.options.dismissQueue){if(a.options.maxVisible>0){if($(a.options.layout.container.selector+" > li").length<a.options.maxVisible){$.notyRenderer.show($.noty.queue.shift())}else{}}else{$.notyRenderer.show($.noty.queue.shift())}}else{if($.noty.ontap){$.notyRenderer.show($.noty.queue.shift());$.noty.ontap=false}}}else{$.noty.ontap=true}};$.notyRenderer.show=function(a){if(a.options.modal){$.notyRenderer.createModalFor(a);$.notyRenderer.setModalCount(+1)}if(a.options.custom){if(a.options.custom.find(a.options.layout.container.selector).length==0){a.options.custom.append($(a.options.layout.container.object).addClass("i-am-new"))}else{a.options.custom.find(a.options.layout.container.selector).removeClass("i-am-new")}}else{if($(a.options.layout.container.selector).length==0){$("body").append($(a.options.layout.container.object).addClass("i-am-new"))}else{$(a.options.layout.container.selector).removeClass("i-am-new")}}$.notyRenderer.setLayoutCountFor(a,+1);a.show()};$.notyRenderer.createModalFor=function(b){if($(".noty_modal").length==0){var a=$("<div/>").addClass("noty_modal").addClass(b.options.theme).data("noty_modal_count",0);if(b.options.theme.modal&&b.options.theme.modal.css){a.css(b.options.theme.modal.css)}a.prependTo($("body")).fadeIn(b.options.animation.fadeSpeed);if($.inArray("backdrop",b.options.closeWith)>-1){a.on("click",function(){$.noty.closeAll()})}}};$.notyRenderer.getLayoutCountFor=function(a){return $(a.options.layout.container.selector).data("noty_layout_count")||0};$.notyRenderer.setLayoutCountFor=function(b,a){return $(b.options.layout.container.selector).data("noty_layout_count",$.notyRenderer.getLayoutCountFor(b)+a)};$.notyRenderer.getModalCount=function(){return $(".noty_modal").data("noty_modal_count")||0};$.notyRenderer.setModalCount=function(a){return $(".noty_modal").data("noty_modal_count",$.notyRenderer.getModalCount()+a)};$.fn.noty=function(a){a.custom=$(this);return $.notyRenderer.init(a)};$.noty={};$.noty.queue=[];$.noty.ontap=true;$.noty.layouts={};$.noty.themes={};$.noty.returns="object";$.noty.store={};$.noty.get=function(a){return $.noty.store.hasOwnProperty(a)?$.noty.store[a]:false};$.noty.close=function(a){return $.noty.get(a)?$.noty.get(a).close():false};$.noty.setText=function(b,a){return $.noty.get(b)?$.noty.get(b).setText(a):false};$.noty.setType=function(b,a){return $.noty.get(b)?$.noty.get(b).setType(a):false};$.noty.clearQueue=function(){$.noty.queue=[]};$.noty.closeAll=function(){$.noty.clearQueue();$.each($.noty.store,function(b,a){a.close()})};var windowAlert=window.alert;$.noty.consumeAlert=function(a){window.alert=function(b){if(a){a.text=b}else{a={text:b}}$.notyRenderer.init(a)}};$.noty.stopConsumeAlert=function(){window.alert=windowAlert};$.noty.defaults={layout:"topRight",theme:"relax",type:"alert",text:"",progressBar:false,dismissQueue:true,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:500,fadeSpeed:"fast"},timeout:false,force:false,modal:false,maxVisible:5,killer:false,closeWith:["click"],callback:{beforeShow:function(){},onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:false};$(window).on("resize",function(){$.each($.noty.layouts,function(a,b){b.container.style.apply($(b.container.selector))})});window.noty=function noty(a){return $.notyRenderer.init(a)};