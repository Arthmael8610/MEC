(function(){var j=0,g=true,D=false,A="message",v=A.length,a="[iFrameSizer]",c=a.length,t=null,d=window.requestAnimationFrame,C={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},y={},o=null,n={autoResize:true,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:true,enableInPageLinks:false,enablePublicMethods:false,heightCalculationMethod:"offset",interval:32,log:false,maxHeight:Infinity,maxWidth:Infinity,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:false,sizeHeight:true,sizeWidth:false,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){},scrollCallback:function(){return true}};function r(H,F,G){if("addEventListener" in window){H.addEventListener(F,G,false)}else{if("attachEvent" in window){H.attachEvent("on"+F,G)}}}function l(){var G=["moz","webkit","o","ms"],F;for(F=0;F<G.length&&!d;F+=1){d=window[G[F]+"RequestAnimationFrame"]}if(!(d)){k(" RequestAnimationFrame not supported")}}function b(){var F="Host page";if(window.top!==window.self){if(window.parentIFrame){F=window.parentIFrame.getId()}else{F="Nested host page"}}return F}function B(F){return a+"["+b()+"]"+F}function k(F){if(D&&("object"===typeof window.console)){console.log(B(F))}}function x(F){if("object"===typeof window.console){console.warn(B(F))}}function u(X){function F(){function Z(){w(M);i();y[J].resizedCallback(M)}G("Height");G("Width");s(Z,M,"resetPage")}function U(Z){var aa=Z.id;k(" Removing iFrame: "+aa);Z.parentNode.removeChild(Z);y[aa].closedCallback(aa);delete y[aa];k(" --")}function T(){var Z=K.substr(c).split(":");return{iframe:document.getElementById(Z[0]),id:Z[0],height:Z[1],width:Z[2],type:Z[3]}}function G(ad){var Z=Number(y[J]["max"+ad]),ab=Number(y[J]["min"+ad]),ac=ad.toLowerCase(),aa=Number(M[ac]);if(ab>Z){throw new Error("Value for min"+ad+" can not be greater than max"+ad)}k(" Checking "+ac+" is in range "+ab+"-"+Z);if(aa<ab){aa=ab;k(" Set "+ac+" to min value")}if(aa>Z){aa=Z;k(" Set "+ac+" to max value")}M[ac]=""+aa}function W(){function ac(){function ad(){k(" Checking connection is from allowed list of origins: "+ab);var af;for(af=0;af<ab.length;af++){if(ab[af]===aa){return true}}return false}function ae(){k(" Checking connection is from: "+Z);return aa==Z}return ab.constructor===Array?ad():ae()}var aa=X.origin,ab=y[J].checkOrigin,Z=M.iframe.src.split("/").slice(0,3).join("/");if(ab){if((""+aa!=="null")&&!ac()){throw new Error("Unexpected message received from: "+aa+" for "+M.iframe.id+". Message was: "+X.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.")}}return true}function V(){return a===(""+K).substr(0,c)}function R(){var Z=M.type in {"true":1,"false":1,"undefined":1};if(Z){k(" Ignoring init message from meta parent page")}return Z}function O(Z){return K.substr(K.indexOf(":")+v+Z)}function P(Z){k(" MessageCallback passed: {iframe: "+M.iframe.id+", message: "+Z+"}");y[J].messageCallback({iframe:M.iframe,message:JSON.parse(Z)});k(" --")}function I(){if(null===M.iframe){x(" IFrame ("+M.id+") not found");return false}return true}function Y(aa){var Z=aa.getBoundingClientRect();q();return{x:parseInt(Z.left,10)+parseInt(t.x,10),y:parseInt(Z.top,10)+parseInt(t.y,10)}}function S(ad){function Z(){t=aa;H();k(" --")}function ab(){return{x:Number(M.width)+ac.x,y:Number(M.height)+ac.y}}var ac=ad?Y(M.iframe):{x:0,y:0},aa=ab();k(" Reposition requested from iFrame (offset x:"+ac.x+" y:"+ac.y+")");if(window.top!==window.self){if(window.parentIFrame){if(ad){parentIFrame.scrollToOffset(aa.x,aa.y)}else{parentIFrame.scrollTo(M.width,M.height)}}else{x(" Unable to scroll to requested position, window.parentIFrame not found")}}else{Z()}}function H(){if(false!==y[J].scrollCallback(t)){i()}}function Q(Z){var ad=Z.split("#")[1]||"";var aa=decodeURIComponent(ad);function ab(af){var ae=Y(af);k(" Moving to in page link (#"+ad+") at x: "+ae.x+" y: "+ae.y);t={x:ae.x,y:ae.y};H();k(" --")}var ac=document.getElementById(aa)||document.getElementsByName(aa)[0];if(window.top!==window.self){if(window.parentIFrame){parentIFrame.moveToAnchor(ad)}else{k(" In page link #"+ad+" not found and window.parentIFrame not found")}}else{if(ac){ab(ac)}else{k(" In page link #"+ad+" not found")}}}function N(){switch(M.type){case"close":U(M.iframe);break;case"message":P(O(6));break;case"scrollTo":S(false);break;case"scrollToOffset":S(true);break;case"inPageLink":Q(O(9));break;case"reset":E(M);break;case"init":F();y[J].initCallback(M.iframe);break;default:F()}}function L(aa){var Z=true;if(!y[aa]){Z=false;x(M.type+" No settings for "+aa+". Message was: "+K)}return Z}var K=X.data,M={},J=null;if(V()){M=T();J=M.id;if(!R()&&L(J)){D=y[J].log;k(" Received: "+K);if(I()&&W()){N();g=false}}}}function q(){if(null===t){t={x:(window.pageXOffset!==undefined)?window.pageXOffset:document.documentElement.scrollLeft,y:(window.pageYOffset!==undefined)?window.pageYOffset:document.documentElement.scrollTop};k(" Get page position: "+t.x+","+t.y)}}function i(){if(null!==t){window.scrollTo(t.x,t.y);k(" Set page position: "+t.x+","+t.y);t=null}}function E(G){function F(){w(G);p("reset","reset",G.iframe,G.id)}k(" Size reset requested by "+("init"===G.type?"host page":"iFrame"));q();s(F,G,"init")}function w(G){function F(I){G.iframe.style[I]=G[I]+"px";k(" IFrame ("+H+") "+I+" set to "+G[I]+"px")}var H=G.iframe.id;if(y[H].sizeHeight){F("height")}if(y[H].sizeWidth){F("width")}}function s(G,F,H){if(H!==F.type&&d){k(" Requesting animation frame");d(G)}else{G()}}function p(G,H,F,I){if(F&&F.contentWindow){k("["+G+"] Sending msg to iframe ("+H+")");F.contentWindow.postMessage(a+H,"*")}else{x("["+G+"] IFrame not found");if(y[I]){delete y[I]}}}function z(O){function M(){function Q(R){if((Infinity!==y[F][R])&&(0!==y[F][R])){J.style[R]=y[F][R]+"px";k(" Set "+R+" = "+y[F][R]+"px")}}Q("maxHeight");Q("minHeight");Q("maxWidth");Q("minWidth")}function G(Q){if(""===Q){J.id=Q="iFrameResizer"+j++;D=(O||{}).log;k(" Added missing iframe ID: "+Q+" ("+J.src+")")}return Q}function K(){k(" IFrame scrolling "+(y[F].scrolling?"enabled":"disabled")+" for "+F);J.style.overflow=false===y[F].scrolling?"hidden":"auto";J.scrolling=false===y[F].scrolling?"no":"yes"}function H(){if(("number"===typeof(y[F].bodyMargin))||("0"===y[F].bodyMargin)){y[F].bodyMarginV1=y[F].bodyMargin;y[F].bodyMargin=""+y[F].bodyMargin+"px"}}function P(){return F+":"+y[F].bodyMarginV1+":"+y[F].sizeWidth+":"+y[F].log+":"+y[F].interval+":"+y[F].enablePublicMethods+":"+y[F].autoResize+":"+y[F].bodyMargin+":"+y[F].heightCalculationMethod+":"+y[F].bodyBackground+":"+y[F].bodyPadding+":"+y[F].tolerance+":"+y[F].enableInPageLinks+":"+y[F].resizeFrom}function N(Q){r(J,"load",function(){var R=g;p("iFrame.onload",Q,J);if(!R&&y[F].heightCalculationMethod in C){E({iframe:J,height:0,width:0,type:"init"})}});p("init",Q,J)}function I(Q){if("object"!==typeof Q){throw new TypeError("Options is not an object.")}}function L(Q){Q=Q||{};y[F]={};I(Q);for(var R in n){if(n.hasOwnProperty(R)){y[F][R]=Q.hasOwnProperty(R)?Q[R]:n[R]}}D=y[F].log}var J=this,F=G(J.id);L(O);K();M();H();N(P())}function h(F,G){if(null===o){o=setTimeout(function(){o=null;F()},G)}}function m(){h(function(){for(var F in y){if("parent"===y[F].resizeFrom){p("Window resize","resize",document.getElementById(F),F)}}},66)}function f(){l();r(window,"message",u);r(window,"resize",m);function G(I,H){if(!I.tagName){throw new TypeError("Object is not a valid DOM element")}else{if("IFRAME"!==I.tagName.toUpperCase()){throw new TypeError("Expected <IFRAME> tag, found <"+I.tagName+">.")}else{z.call(I,H)}}}return function F(H,I){switch(typeof(I)){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(I||"iframe"),function(J){G(J,H)});break;case"object":G(I,H);break;default:throw new TypeError("Unexpected data type ("+typeof(I)+").")}}}function e(G){G.fn.iFrameResize=function F(H){return this.filter("iframe").each(function(I,J){z.call(J,H)}).end()}}if(window.jQuery){e(jQuery)}if(typeof define==="function"&&define.amd){define([],f)}else{if(typeof module==="object"&&typeof module.exports==="object"){module.exports=f()}else{window.iFrameResize=window.iFrameResize||f()}}})();