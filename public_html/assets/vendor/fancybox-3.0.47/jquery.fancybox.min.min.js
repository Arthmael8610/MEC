(function(q,o,u,x){if(!u){return x}var v={speed:330,loop:true,opacity:"auto",margin:[44,0],gutter:30,infobar:true,buttons:true,slideShow:true,fullScreen:true,thumbs:true,closeBtn:true,smallBtn:"auto",image:{preload:"auto",protect:false},ajax:{settings:{data:{fancybox:true}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:true,scrolling:"no",css:{}},baseClass:"",slideClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-controls"><div class="fancybox-infobar"><button data-fancybox-previous class="fancybox-button fancybox-button--left" title="Previous"></button><div class="fancybox-infobar__body"><span class="js-fancybox-index"></span>&nbsp;/&nbsp;<span class="js-fancybox-count"></span></div><button data-fancybox-next class="fancybox-button fancybox-button--right" title="Next"></button></div><div class="fancybox-buttons"><button data-fancybox-close class="fancybox-button fancybox-button--close" title="Close (Esc)"></button></div></div><div class="fancybox-slider-wrap"><div class="fancybox-slider"></div></div><div class="fancybox-caption-wrap"><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>The requested content cannot be loaded. <br /> Please try again later.<p></div>',closeTpl:'<button data-fancybox-close class="fancybox-close-small"></button>',parentEl:"body",touch:true,keyboard:true,focus:true,closeClickOutside:true,beforeLoad:u.noop,afterLoad:u.noop,beforeMove:u.noop,afterMove:u.noop,onComplete:u.noop,onInit:u.noop,beforeClose:u.noop,afterClose:u.noop,onActivate:u.noop,onDeactivate:u.noop};var p=u(q);var s=u(o);var n=0;var r=function(a){return a&&a.hasOwnProperty&&a instanceof u};var y=(function(){return q.requestAnimationFrame||q.webkitRequestAnimationFrame||q.mozRequestAnimationFrame||function(a){q.setTimeout(a,1000/60)}})();var w=function(b){var a;if(typeof u==="function"&&b instanceof u){b=b[0]}a=b.getBoundingClientRect();return a.bottom>0&&a.right>0&&a.left<(q.innerWidth||o.documentElement.clientWidth)&&a.top<(q.innerHeight||o.documentElement.clientHeight)};var z=function(a,b,c){var d=this;d.opts=u.extend(true,{index:c},v,b||{});d.id=d.opts.id||++n;d.group=[];d.currIndex=parseInt(d.opts.index,10)||0;d.prevIndex=null;d.prevPos=null;d.currPos=0;d.firstRun=null;d.createGroup(a);if(!d.group.length){return}d.$lastFocus=u(o.activeElement).blur();d.slides={};d.init(a)};u.extend(z.prototype,{init:function(){var d=this;var a=false;var c;var b;d.scrollTop=s.scrollTop();d.scrollLeft=s.scrollLeft();if(!u.fancybox.getInstance()){c=u("body").width();u("html").addClass("fancybox-enabled");if(u.fancybox.isTouch){u.each(d.group,function(f,e){if(e.type!=="image"&&e.type!=="iframe"){a=true;return false}});if(a){u("body").css({position:"fixed",width:c,top:d.scrollTop*-1})}}else{c=u("body").width()-c;if(c>1){u('<style id="fancybox-noscroll" type="text/css">').html(".compensate-for-scrollbar, .fancybox-enabled body { margin-right: "+c+"px; }").appendTo("head")}}}b=u(d.opts.baseTpl).attr("id","fancybox-container-"+d.id).data("FancyBox",d).addClass(d.opts.baseClass).hide().prependTo(d.opts.parentEl);d.$refs={container:b,bg:b.find(".fancybox-bg"),controls:b.find(".fancybox-controls"),buttons:b.find(".fancybox-buttons"),slider_wrap:b.find(".fancybox-slider-wrap"),slider:b.find(".fancybox-slider"),caption:b.find(".fancybox-caption")};d.trigger("onInit");d.activate();if(d.current){return}d.jumpTo(d.currIndex)},createGroup:function(a){var b=this;var c=u.makeArray(a);u.each(c,function(j,f){var l={},d={},k=[],g,h,e,i;if(u.isPlainObject(f)){l=f;d=f.opts||{}}else{if(u.type(f)==="object"&&u(f).length){g=u(f);k=g.data();d="options" in k?k.options:{};d=u.type(d)==="object"?d:{};l.type="type" in k?k.type:d.type;l.src="src" in k?k.src:(d.src||g.attr("href"));d.width="width" in k?k.width:d.width;d.height="height" in k?k.height:d.height;d.thumb="thumb" in k?k.thumb:d.thumb;d.selector="selector" in k?k.selector:d.selector;if("srcset" in k){d.image={srcset:k.srcset}}d.$orig=g}else{l={type:"html",content:f+""}}}l.opts=u.extend(true,{},b.opts,d);h=l.type;e=l.src||"";if(!h){if(l.content){h="html"}else{if(e.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)){h="image"}else{if(e.match(/\.(pdf)((\?|#).*)?$/i)){h="pdf"}else{if(e.charAt(0)==="#"){h="inline"}}}}l.type=h}l.index=b.group.length;if(l.opts.$orig&&!l.opts.$orig.length){delete l.opts.$orig}if(!l.opts.$thumb&&l.opts.$orig){l.opts.$thumb=l.opts.$orig.find("img:first")}if(l.opts.$thumb&&!l.opts.$thumb.length){delete l.opts.$thumb}if(u.type(l.opts.caption)==="function"){l.opts.caption=l.opts.caption.apply(f,[b,l])}else{if("caption" in k){l.opts.caption=k.caption}else{if(d.$orig){l.opts.caption=g.attr("title")}}}l.opts.caption=l.opts.caption===x?"":l.opts.caption+"";if(h==="ajax"){i=e.split(/\s+/,2);if(i.length>1){l.src=i.shift();l.opts.selector=i.shift()}}if(l.opts.smallBtn=="auto"){if(u.inArray(h,["html","inline","ajax"])>-1){l.opts.buttons=false;l.opts.smallBtn=true}else{l.opts.smallBtn=false}}if(h==="pdf"){l.type="iframe";l.opts.closeBtn=true;l.opts.smallBtn=false;l.opts.iframe.preload=false}if(l.opts.modal){u.extend(true,l.opts,{infobar:0,buttons:0,keyboard:0,slideShow:0,fullScreen:0,closeClickOutside:0})}b.group.push(l)})},addEvents:function(){var a=this;a.removeEvents();a.$refs.container.on("click.fb-close","[data-fancybox-close]",function(b){b.stopPropagation();b.preventDefault();a.close(b)}).on("click.fb-previous","[data-fancybox-previous]",function(b){b.stopPropagation();b.preventDefault();a.previous()}).on("click.fb-next","[data-fancybox-next]",function(b){b.stopPropagation();b.preventDefault();a.next()});u(q).on("orientationchange.fb resize.fb",function(b){y(function(){if(b&&b.originalEvent&&b.originalEvent.type==="resize"){a.update()}else{a.$refs.slider_wrap.hide();y(function(){a.$refs.slider_wrap.show();a.update()})}})});s.on("focusin.fb",function(b){var c=u.fancybox?u.fancybox.getInstance():null;if(c&&!u(b.target).hasClass("fancybox-container")&&!u.contains(c.$refs.container[0],b.target)){b.stopPropagation();c.focus();p.scrollTop(a.scrollTop).scrollLeft(a.scrollLeft)}});s.on("keydown.fb",function(b){var c=a.current,d=b.keyCode||b.which;if(!c||!c.opts.keyboard){return}if(u(b.target).is("input")||u(b.target).is("textarea")){return}if(d===8||d===27){b.preventDefault();a.close(b);return}switch(d){case 37:case 38:b.preventDefault();a.previous();break;case 39:case 40:b.preventDefault();a.next();break;case 80:case 32:b.preventDefault();if(a.SlideShow){b.preventDefault();a.SlideShow.toggle()}break;case 70:if(a.FullScreen){b.preventDefault();a.FullScreen.toggle()}break;case 71:if(a.Thumbs){b.preventDefault();a.Thumbs.toggle()}break}})},removeEvents:function(){p.off("scroll.fb resize.fb orientationchange.fb");s.off("keydown.fb focusin.fb click.fb-close");this.$refs.container.off("click.fb-close click.fb-previous click.fb-next")},previous:function(a){this.jumpTo(this.currIndex-1,a)},next:function(a){this.jumpTo(this.currIndex+1,a)},jumpTo:function(a,c){var f=this,d,e,b,g;d=f.firstRun=(f.firstRun===null);e=b=a=parseInt(a,10);g=f.current?f.current.opts.loop:false;if(f.isAnimating||(e==f.currIndex&&!d)){return}if(f.group.length>1&&g){e=e%f.group.length;e=e<0?f.group.length+e:e;if(f.group.length==2){b=a-f.currIndex+f.currPos}else{b=e-f.currIndex+f.currPos;if(Math.abs(f.currPos-(b+f.group.length))<Math.abs(f.currPos-b)){b=b+f.group.length}else{if(Math.abs(f.currPos-(b-f.group.length))<Math.abs(f.currPos-b)){b=b-f.group.length}}}}else{if(!f.group[e]){f.update(false,false,c);return}}if(f.current){f.current.$slide.removeClass("fancybox-slide--current fancybox-slide--complete");f.updateSlide(f.current,true)}f.prevIndex=f.currIndex;f.prevPos=f.currPos;f.currIndex=e;f.currPos=b;f.current=f.createSlide(b);if(f.group.length>1){if(f.opts.loop||b-1>=0){f.createSlide(b-1)}if(f.opts.loop||b+1<f.group.length){f.createSlide(b+1)}}f.current.isMoved=false;f.current.isComplete=false;c=parseInt(c===x?f.current.opts.speed*1.5:c,10);f.trigger("beforeMove");f.updateControls();if(d){f.current.$slide.addClass("fancybox-slide--current");f.$refs.container.show();y(function(){f.$refs.bg.css("transition-duration",f.current.opts.speed+"ms");f.$refs.container.addClass("fancybox-container--ready")})}f.update(true,false,d?0:c,function(){f.afterMove()});f.loadSlide(f.current);if(!(d&&f.current.$ghost)){f.preload()}},createSlide:function(a){var f=this;var b;var e;var c;e=a%f.group.length;e=e<0?f.group.length+e:e;if(!f.slides[a]&&f.group[e]){if(f.opts.loop&&f.group.length>2){for(var d in f.slides){if(f.slides[d].index===e){c=f.slides[d];c.pos=a;f.slides[a]=c;delete f.slides[d];f.updateSlide(c);return c}}}b=u('<div class="fancybox-slide"></div>').appendTo(f.$refs.slider);f.slides[a]=u.extend(true,{},f.group[e],{pos:a,$slide:b,isMoved:false,isLoaded:false})}return f.slides[a]},zoomInOut:function(j,b,h){var g=this;var m=g.current;var l=m.$placeholder;var a=m.opts.opacity;var f=m.opts.$thumb;var d=f?f.offset():0;var i=m.$slide.offset();var k;var e;var c;if(!l||!m.isMoved||!d||!w(f)){return false}if(j==="In"&&!g.firstRun){return false}u.fancybox.stop(l);g.isAnimating=true;k={top:d.top-i.top+parseFloat(f.css("border-top-width")||0),left:d.left-i.left+parseFloat(f.css("border-left-width")||0),width:f.width(),height:f.height(),scaleX:1,scaleY:1};if(a=="auto"){a=Math.abs(m.width/m.height-k.width/k.height)>0.1}if(j==="In"){e=k;c=g.getFitPos(m);c.scaleX=c.width/e.width;c.scaleY=c.height/e.height;if(a){e.opacity=0.1;c.opacity=1}}else{e=u.fancybox.getTranslate(l);c=k;if(m.$ghost){m.$ghost.show();if(m.$image){m.$image.remove()}}e.scaleX=e.width/c.width;e.scaleY=e.height/c.height;e.width=c.width;e.height=c.height;if(a){c.opacity=0}}g.updateCursor(c.width,c.height);delete c.width;delete c.height;u.fancybox.setTranslate(l,e);l.show();g.trigger("beforeZoom"+j);l.css("transition","all "+b+"ms");u.fancybox.setTranslate(l,c);setTimeout(function(){var B;l.css("transition","none");B=u.fancybox.getTranslate(l);B.scaleX=1;B.scaleY=1;u.fancybox.setTranslate(l,B);g.trigger("afterZoom"+j);h.apply(g);g.isAnimating=false},b);return true},canPan:function(){var d=this;var a=d.current;var c=a.$placeholder;var b=false;if(c){b=d.getFitPos(a);b=Math.abs(c.width()-b.width)>1||Math.abs(c.height()-b.height)>1}return b},isScaledDown:function(){var d=this;var a=d.current;var c=a.$placeholder;var b=false;if(c){b=u.fancybox.getTranslate(c);b=b.width<a.width||b.height<a.height}return b},scaleToActual:function(h,k,d){var b=this;var F=b.current;var m=F.$placeholder;var E,g,i,c,f;var e=parseInt(F.$slide.width(),10);var a=parseInt(F.$slide.height(),10);var j=F.width;var l=F.height;if(!m){return}b.isAnimating=true;h=h===x?e*0.5:h;k=k===x?a*0.5:k;E=u.fancybox.getTranslate(m);c=j/E.width;f=l/E.height;g=(e*0.5-j*0.5);i=(a*0.5-l*0.5);if(j>e){g=E.left*c-((h*c)-h);if(g>0){g=0}if(g<e-j){g=e-j}}if(l>a){i=E.top*f-((k*f)-k);if(i>0){i=0}if(i<a-l){i=a-l}}b.updateCursor(j,l);u.fancybox.animate(m,null,{top:i,left:g,scaleX:c,scaleY:f},d||F.opts.speed,function(){b.isAnimating=false})},scaleToFit:function(a){var d=this;var b=d.current;var c=b.$placeholder;var e;if(!c){return}d.isAnimating=true;e=d.getFitPos(b);d.updateCursor(e.width,e.height);u.fancybox.animate(c,null,{top:e.top,left:e.left,scaleX:e.width/c.width(),scaleY:e.height/c.height()},a||b.opts.speed,function(){d.isAnimating=false})},getFitPos:function(l){var j=l.$placeholder||l.$content;var h=l.width;var g=l.height;var b=l.opts.margin;var c,a,k,i,d,e,f;if(!j||!j.length||(!h&&!g)){return false}if(u.type(b)==="number"){b=[b,b]}if(b.length==2){b=[b[0],b[1],b[0],b[1]]}if(p.width()<800){b=[0,0,0,0]}c=parseInt(l.$slide.width(),10)-(b[1]+b[3]);a=parseInt(l.$slide.height(),10)-(b[0]+b[2]);k=Math.min(1,c/h,a/g);e=Math.floor(k*h);f=Math.floor(k*g);i=Math.floor((a-f)*0.5)+b[0];d=Math.floor((c-e)*0.5)+b[3];return{top:i,left:d,width:e,height:f}},update:function(d,e,c,a){var f=this;var b;if(f.isAnimating===true||!f.current){return}b=(f.current.pos*Math.floor(f.current.$slide.width())*-1)-(f.current.pos*f.current.opts.gutter);c=parseInt(c,10)||0;u.fancybox.stop(f.$refs.slider);if(d===false){f.updateSlide(f.current,e)}else{u.each(f.slides,function(g,h){f.updateSlide(h,e)})}if(c){u.fancybox.animate(f.$refs.slider,null,{top:0,left:b},c,function(){f.current.isMoved=true;if(u.type(a)==="function"){a.apply(f)}})}else{u.fancybox.setTranslate(f.$refs.slider,{top:0,left:b});f.current.isMoved=true;if(u.type(a)==="function"){a.apply(f)}}},updateSlide:function(e,c){var d=this;var a=e.$placeholder;var b;e=e||d.current;if(!e||d.isClosing){return}b=(e.pos*Math.floor(e.$slide.width()))+(e.pos*e.opts.gutter);if(b!==e.leftPos){u.fancybox.setTranslate(e.$slide,{top:0,left:b});e.leftPos=b}if(c!==false&&a){u.fancybox.setTranslate(a,d.getFitPos(e));if(e.pos===d.currPos){d.updateCursor()}}e.$slide.trigger("refresh");d.trigger("onUpdate",e)},updateCursor:function(c,b){var d=this;var e;var a=d.$refs.container.removeClass("fancybox-controls--canzoomIn fancybox-controls--canzoomOut fancybox-controls--canGrab");if(d.isClosing||!d.opts.touch){return}if(c!==x&&b!==x){e=c<d.current.width&&b<d.current.height}else{e=d.isScaledDown()}if(e){a.addClass("fancybox-controls--canzoomIn")}else{if(d.group.length<2){a.addClass("fancybox-controls--canzoomOut")}else{a.addClass("fancybox-controls--canGrab")}}},loadSlide:function(d){var c=this,b,a;var e;if(!d||d.isLoaded||d.isLoading){return}d.isLoading=true;c.trigger("beforeLoad",d);b=d.type;a=d.$slide;a.off("refresh").trigger("onReset").addClass("fancybox-slide--"+(b||"unknown")).addClass(d.opts.slideClass);switch(b){case"image":c.setImage(d);break;case"iframe":c.setIframe(d);break;case"html":c.setContent(d,d.content);break;case"inline":if(u(d.src).length){c.setContent(d,u(d.src))}else{c.setError(d)}break;case"ajax":c.showLoading(d);e=u.ajax(u.extend({},d.opts.ajax.settings,{url:d.src,success:function(g,f){if(f==="success"){c.setContent(d,g)}},error:function(g,f){if(g&&f!=="abort"){c.setError(d)}}}));a.one("onReset",function(){e.abort()});break;default:c.setError(d);break}return true},setImage:function(a){var g=this;var c=a.opts.image.srcset;var f,i,h,d;if(a.isLoaded&&!a.hasError){g.afterLoad(a);return}if(c){h=q.devicePixelRatio||1;d=q.innerWidth*h;i=c.split(",").map(function(j){var k={};j.trim().split(/\s+/).forEach(function(m,B){var l=parseInt(m.substring(0,m.length-1),10);if(B===0){return(k.url=m)}if(l){k.value=l;k.postfix=m[m.length-1]}});return k});i.sort(function(j,k){return j.value-k.value});for(var b=0;b<i.length;b++){var e=i[b];if((e.postfix==="w"&&e.value>=d)||(e.postfix==="x"&&e.value>=h)){f=e;break}}if(!f&&i.length){f=i[i.length-1]}if(f){a.src=f.url;if(a.width&&a.height&&f.postfix=="w"){a.height=(a.width/a.height)*f.value;a.width=f.value}}}a.$placeholder=u('<div class="fancybox-placeholder"></div>').hide().appendTo(a.$slide);if(a.opts.preload!==false&&a.opts.width&&a.opts.height&&(a.opts.thumb||a.opts.$thumb)){a.width=a.opts.width;a.height=a.opts.height;a.$ghost=u("<img />").one("load error",function(){if(g.isClosing){return}u("<img/>")[0].src=a.src;g.revealImage(a,function(){g.setBigImage(a);if(g.firstRun&&a.index===g.currIndex){g.preload()}})}).addClass("fancybox-image").appendTo(a.$placeholder).attr("src",a.opts.thumb||a.opts.$thumb.attr("src"))}else{g.setBigImage(a)}},setBigImage:function(c){var b=this;var a=u("<img />");c.$image=a.one("error",function(){b.setError(c)}).one("load",function(){clearTimeout(c.timouts);c.timouts=null;if(b.isClosing){return}c.width=this.naturalWidth;c.height=this.naturalHeight;if(c.opts.image.srcset){a.attr("sizes","100vw").attr("srcset",c.opts.image.srcset)}b.afterLoad(c);if(c.$ghost){c.timouts=setTimeout(function(){c.$ghost.hide()},350)}}).addClass("fancybox-image").attr("src",c.src).appendTo(c.$placeholder);if(a[0].complete){a.trigger("load")}else{if(a[0].error){a.trigger("error")}else{c.timouts=setTimeout(function(){if(!a[0].complete&&!c.hasError){b.showLoading(c)}},150)}}if(c.opts.image.protect){u('<div class="fancybox-spaceball"></div>').appendTo(c.$placeholder).on("contextmenu.fb",function(d){if(d.button==2){d.preventDefault()}return true})}},revealImage:function(c,a){var b=this;a=a||u.noop;if(c.type!=="image"||c.hasError||c.isRevealed===true){a.apply(b);return}c.isRevealed=true;if(!(c.pos===b.currPos&&b.zoomInOut("In",c.opts.speed,a))){if(c.$ghost&&!c.isLoaded){b.updateSlide(c,true)}if(c.pos===b.currPos){u.fancybox.animate(c.$placeholder,{opacity:0},{opacity:1},300,a)}else{c.$placeholder.show()}a.apply(b)}},setIframe:function(e){var d=this,c=e.opts.iframe,a=e.$slide,b;e.$content=u('<div class="fancybox-content"></div>').css(c.css).appendTo(a);b=u(c.tpl.replace(/\{rnd\}/g,new Date().getTime())).attr("scrolling",u.fancybox.isTouch?"auto":c.scrolling).appendTo(e.$content);if(c.preload){e.$content.addClass("fancybox-tmp");d.showLoading(e);b.on("load.fb error.fb",function(f){this.isReady=1;e.$slide.trigger("refresh");d.afterLoad(e)});a.on("refresh.fb",function(){var j=e.$content,g,f,h,k,i;if(b[0].isReady!==1){return}try{g=b.contents();f=g.find("body")}catch(l){}if(f&&f.length&&!(c.css.width!==x&&c.css.height!==x)){h=b[0].contentWindow.document.documentElement.scrollWidth;k=Math.ceil(f.outerWidth(true)+(j.width()-h));i=Math.ceil(f.outerHeight(true));j.css({width:c.css.width===x?k+(j.outerWidth()-j.innerWidth()):c.css.width,height:c.css.height===x?i+(j.outerHeight()-j.innerHeight()):c.css.height})}j.removeClass("fancybox-tmp")})}else{this.afterLoad(e)}b.attr("src",e.src);if(e.opts.smallBtn){e.$content.prepend(e.opts.closeTpl)}a.one("onReset",function(){try{u(this).find("iframe").hide().attr("src","//about:blank")}catch(f){}u(this).empty();e.isLoaded=false})},setContent:function(c,a){var b=this;if(b.isClosing){return}b.hideLoading(c);c.$slide.empty();if(r(a)&&a.parent().length){if(a.data("placeholder")){a.parents(".fancybox-slide").trigger("onReset")}a.data({placeholder:u("<div></div>").hide().insertAfter(a)}).css("display","inline-block")}else{if(u.type(a)==="string"){a=u("<div>").append(a).contents();if(a[0].nodeType===3){a=u("<div>").html(a)}}if(c.opts.selector){a=u("<div>").html(a).find(c.opts.selector)}}c.$slide.one("onReset",function(){var d=r(a)?a.data("placeholder"):0;if(d){a.hide().replaceAll(d);a.data("placeholder",null)}if(!c.hasError){u(this).empty();c.isLoaded=false}});c.$content=u(a).appendTo(c.$slide);if(c.opts.smallBtn===true){c.$content.find(".fancybox-close-small").remove().end().eq(0).append(c.opts.closeTpl)}this.afterLoad(c)},setError:function(a){a.hasError=true;this.setContent(a,a.opts.errorTpl)},showLoading:function(b){var a=this;b=b||a.current;if(b&&!b.$spinner){b.$spinner=u(a.opts.spinnerTpl).appendTo(b.$slide)}},hideLoading:function(b){var a=this;b=b||a.current;if(b&&b.$spinner){b.$spinner.remove();delete b.$spinner}},afterMove:function(){var c=this;var a=c.current;var b={};if(!a){return}a.$slide.siblings().trigger("onReset");u.each(c.slides,function(d,e){if(e.pos>=c.currPos-1&&e.pos<=c.currPos+1){b[e.pos]=e}else{if(e){e.$slide.remove()}}});c.slides=b;c.trigger("afterMove");if(a.isLoaded){c.complete()}},afterLoad:function(b){var a=this;if(a.isClosing){return}b.isLoading=false;b.isLoaded=true;a.trigger("afterLoad",b);a.hideLoading(b);if(!b.$ghost){a.updateSlide(b,true)}if(b.index===a.currIndex&&b.isMoved){a.complete()}else{if(!b.$ghost){a.revealImage(b)}}},complete:function(){var b=this;var a=b.current;b.revealImage(a,function(){a.isComplete=true;a.$slide.addClass("fancybox-slide--complete");b.updateCursor();b.trigger("onComplete");if(a.opts.focus&&!(a.type==="image"||a.type==="iframe")){b.focus()}})},preload:function(){var c=this;var b,a;if(c.group.length<2){return}b=c.slides[c.currPos+1];a=c.slides[c.currPos-1];if(b&&b.type==="image"){c.loadSlide(b)}if(a&&a.type==="image"){c.loadSlide(a)}},focus:function(){var a=this.current;var b;b=a&&a.isComplete?a.$slide.find('button,:input,[tabindex],a:not(".disabled")').filter(":visible:first"):null;if(!b||!b.length){b=this.$refs.container}b.focus();this.$refs.slider_wrap.scrollLeft(0);if(a){a.$slide.scrollTop(0)}},activate:function(){var a=this;u(".fancybox-container").each(function(){var b=u(this).data("FancyBox");if(b&&b.uid!==a.uid&&!b.isClosing){b.trigger("onDeactivate")}});if(a.current){if(a.$refs.container.index()>0){a.$refs.container.prependTo(o.body)}a.updateControls()}a.trigger("onActivate");a.addEvents()},close:function(a){var d=this;var b=d.current;var c=b.opts.speed;var e=u.proxy(function(){d.cleanUp(a)},this);if(d.isAnimating||d.isClosing){return false}if(d.trigger("beforeClose",a)===false){u.fancybox.stop(d.$refs.slider);y(function(){d.update(true,true,150)});return}d.isClosing=true;if(b.timouts){clearTimeout(b.timouts)}if(a!==true){u.fancybox.stop(d.$refs.slider)}d.$refs.container.removeClass("fancybox-container--active").addClass("fancybox-container--closing");b.$slide.removeClass("fancybox-slide--complete").siblings().remove();if(!b.isMoved){b.$slide.css("overflow","visible")}d.removeEvents();d.hideLoading(b);d.hideControls();d.updateCursor();d.$refs.bg.css("transition-duration",c+"ms");this.$refs.container.removeClass("fancybox-container--ready");if(a===true){setTimeout(e,c)}else{if(!d.zoomInOut("Out",c,e)){u.fancybox.animate(d.$refs.container,null,{opacity:0},c,"easeInSine",e)}}},cleanUp:function(a){var b=this,c;b.$refs.slider.children().trigger("onReset");b.$refs.container.empty().remove();b.trigger("afterClose",a);b.current=null;c=u.fancybox.getInstance();if(c){c.activate()}else{u("html").removeClass("fancybox-enabled");u("body").removeAttr("style");p.scrollTop(b.scrollTop).scrollLeft(b.scrollLeft);u("#fancybox-noscroll").remove()}if(b.$lastFocus){b.$lastFocus.focus()}},trigger:function(c,f){var d=Array.prototype.slice.call(arguments,1),e=this,a=f&&f.opts?f:e.current,b;if(a){d.unshift(a)}else{a=e}d.unshift(e);if(u.isFunction(a.opts[c])){b=a.opts[c].apply(a,d)}if(b===false){return b}if(c==="afterClose"){u(o).trigger(c+".fb",d)}else{e.$refs.container.trigger(c+".fb",d)}},toggleControls:function(a){if(this.isHiddenControls){this.updateControls(a)}else{this.hideControls()}},hideControls:function(){this.isHiddenControls=true;this.$refs.container.removeClass("fancybox-show-controls");this.$refs.container.removeClass("fancybox-show-caption")},updateControls:function(d){var g=this;var b=g.$refs.container;var a=g.$refs.caption;var c=g.current;var f=c.index;var e=c.opts;var h=e.caption;if(this.isHiddenControls&&d!==true){return}this.isHiddenControls=false;b.addClass("fancybox-show-controls").toggleClass("fancybox-show-infobar",!!e.infobar&&g.group.length>1).toggleClass("fancybox-show-buttons",!!e.buttons).toggleClass("fancybox-is-modal",!!e.modal);u(".fancybox-button--left",b).toggleClass("fancybox-button--disabled",(!e.loop&&f<=0));u(".fancybox-button--right",b).toggleClass("fancybox-button--disabled",(!e.loop&&f>=g.group.length-1));u(".fancybox-button--play",b).toggle(!!(e.slideShow&&g.group.length>1));u(".fancybox-button--close",b).toggle(!!e.closeBtn);u(".js-fancybox-count",b).html(g.group.length);u(".js-fancybox-index",b).html(f+1);c.$slide.trigger("refresh");if(a){a.empty()}if(h&&h.length){a.html(h);this.$refs.container.addClass("fancybox-show-caption ");g.$caption=a}else{this.$refs.container.removeClass("fancybox-show-caption")}}});u.fancybox={version:"3.0.47",defaults:v,getInstance:function(a){var c=u('.fancybox-container:not(".fancybox-container--closing"):first').data("FancyBox");var b=Array.prototype.slice.call(arguments,1);if(c instanceof z){if(u.type(a)==="string"){c[a].apply(c,b)}else{if(u.type(a)==="function"){a.apply(c,b)}}return c}return false},open:function(c,a,b){return new z(c,a,b)},close:function(a){var b=this.getInstance();if(b){b.close();if(a===true){this.close()}}},isTouch:o.createTouch!==x&&/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent),use3d:(function(){var a=o.createElement("div");return q.getComputedStyle(a).getPropertyValue("transform")&&!(o.documentMode&&o.documentMode<=11)}()),getTranslate:function(a){var c,b;if(!a||!a.length){return false}c=a.get(0).getBoundingClientRect();b=a.eq(0).css("transform");if(b&&b.indexOf("matrix")!==-1){b=b.split("(")[1];b=b.split(")")[0];b=b.split(",")}else{b=[]}if(b.length){if(b.length>10){b=[b[13],b[12],b[0],b[5]]}else{b=[b[5],b[4],b[0],b[3]]}b=b.map(parseFloat)}else{b=[0,0,1,1]}return{top:b[0],left:b[1],scaleX:b[2],scaleY:b[3],opacity:parseFloat(a.css("opacity")),width:c.width,height:c.height}},setTranslate:function(c,b){var a="";var d={};if(!c||!b){return}if(b.left!==x||b.top!==x){a=(b.left===x?c.position().top:b.left)+"px, "+(b.top===x?c.position().top:b.top)+"px";if(this.use3d){a="translate3d("+a+", 0px)"}else{a="translate("+a+")"}}if(b.scaleX!==x&&b.scaleY!==x){a=(a.length?a+" ":"")+"scale("+b.scaleX+", "+b.scaleY+")"}if(a.length){d.transform=a}if(b.opacity!==x){d.opacity=b.opacity}if(b.width!==x){d.width=b.width}if(b.height!==x){d.height=b.height}return c.css(d)},easing:{easeOutCubic:function(c,d,a,b){return a*((c=c/b-1)*c*c+1)+d},easeInCubic:function(c,d,a,b){return a*(c/=b)*c*c+d},easeOutSine:function(c,d,a,b){return a*Math.sin(c/b*(Math.PI/2))+d},easeInSine:function(c,d,a,b){return -a*Math.cos(c/b*(Math.PI/2))+a+d}},stop:function(a){a.removeData("animateID")},animate:function(e,j,i,b,m,a){var h=this;var f=null;var B=0;var g;var k;var d;var l=function(){if(i.scaleX!==x&&i.scaleY!==x&&j&&j.width!==x&&j.height!==x){i.width=j.width*i.scaleX;i.height=j.height*i.scaleY;i.scaleX=1;i.scaleY=1}h.setTranslate(e,i);a()};var c=function(D){g=[];k=0;if(!e.length||e.data("animateID")!==d){return}D=D||Date.now();if(f){k=D-f}f=D;B+=k;if(B>=b){l();return}for(var A in i){if(i.hasOwnProperty(A)&&j[A]!==x){if(j[A]==i[A]){g[A]=i[A]}else{g[A]=h.easing[m](B,j[A],i[A]-j[A],b)}}}h.setTranslate(e,g);y(c)};h.animateID=d=h.animateID===x?1:h.animateID+1;e.data("animateID",d);if(a===x&&u.type(m)=="function"){a=m;m=x}if(!m){m="easeOutCubic"}a=a||u.noop;if(j){this.setTranslate(e,j)}else{j=this.getTranslate(e)}if(b){e.show();y(c)}else{l()}}};function t(a){var b=a.currentTarget,d=a.data?a.data.options:{},f=a.data?a.data.items:[],c="",e=0;a.preventDefault();a.stopPropagation();if(u(b).attr("data-fancybox")){c=u(b).data("fancybox")}if(c){f=f.length?f.filter('[data-fancybox="'+c+'"]'):u("[data-fancybox="+c+"]");e=f.index(b)}else{f=[b]}u.fancybox.open(f,d,e)}u.fn.fancybox=function(a){this.off("click.fb-start").on("click.fb-start",{items:this,options:a||{}},t);return this};u(o).on("click.fb-start","[data-fancybox]",t)}(window,document,window.jQuery));(function(e){var f=function(c,b,a){if(!c){return}a=a||"";if(e.type(a)==="object"){a=e.param(a,true)}e.each(b,function(j,i){c=c.replace("$"+j,i||"")});if(a.length){c+=(c.indexOf("?")>0?"&":"?")+a}return c};var d={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},metacafe:{matcher:/metacafe.com\/watch\/(\d+)\/(.*)?/,type:"iframe",url:"//www.metacafe.com/embed/$1/?ap=1"},dailymotion:{matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"},vine:{matcher:/vine.co\/v\/([a-zA-Z0-9\?\=\-]+)/,type:"iframe",url:"//vine.co/v/$1/embed/simple"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},google_maps:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(a){return"//maps.google."+a[2]+"/?ll="+(a[9]?a[9]+"&z="+Math.floor(a[10])+(a[12]?a[12].replace(/^\//,"&"):""):a[12])+"&output="+(a[12]&&a[12].indexOf("layer=c")>0?"svembed":"embed")}}};e(document).on("onInit.fb",function(a,b){e.each(b.group,function(r,c){var w=c.src||"",o=false,x,s,t,u,v,i;if(c.type){return}e.each(d,function(h,k){s=w.match(k.matcher);v={};i=h;if(!s){return}o=k.type;if(k.paramPlace&&s[k.paramPlace]){u=s[k.paramPlace];if(u[0]=="?"){u=u.substring(1)}u=u.split("&");for(var g=0;g<u.length;++g){var j=u[g].split("=",2);if(j.length==2){v[j[0]]=decodeURIComponent(j[1].replace(/\+/g," "))}}}t=e.extend(true,{},k.params,c.opts[h],v);w=e.type(k.url)==="function"?k.url.call(this,s,t,c):f(k.url,s,t);x=e.type(k.thumb)==="function"?k.thumb.call(this,s,t,c):f(k.thumb,s);if(i==="vimeo"){w=w.replace("&%23","#")}return false});if(o){c.src=w;c.type=o;if(!c.opts.thumb&&!(c.opts.$thumb&&c.opts.$thumb.length)){c.opts.thumb=x}if(o==="iframe"){e.extend(true,c.opts,{iframe:{preload:false,scrolling:"no"},smallBtn:false,closeBtn:true,fullScreen:false,slideShow:false});c.opts.slideClass+=" fancybox-slide--video"}}else{c.type="iframe"}})})}(window.jQuery));(function(n,m,o){var r=(function(){return n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(a){n.setTimeout(a,1000/60)}})();var k=function(a){var c=[];a=a.originalEvent||a||n.e;a=a.touches&&a.touches.length?a.touches:(a.changedTouches&&a.changedTouches.length?a.changedTouches:[a]);for(var b in a){if(a[b].pageX){c.push({x:a[b].pageX,y:a[b].pageY})}else{if(a[b].clientX){c.push({x:a[b].clientX,y:a[b].clientY})}}}return c};var t=function(c,b,a){if(!b||!c){return 0}if(a==="x"){return c.x-b.x}else{if(a==="y"){return c.y-b.y}}return Math.sqrt(Math.pow(c.x-b.x,2)+Math.pow(c.y-b.y,2))};var q=function(a){return a.is("a")||a.is("button")||a.is("input")||a.is("select")||a.is("textarea")||o.isFunction(a.get(0).onclick)};var s=function(d){var b=n.getComputedStyle(d)["overflow-y"];var e=n.getComputedStyle(d)["overflow-x"];var a=(b==="scroll"||b==="auto")&&d.scrollHeight>d.clientHeight;var c=(e==="scroll"||e==="auto")&&d.scrollWidth>d.clientWidth;return a||c};var p=function(b){var a=false;while(true){a=s(b.get(0));if(a){break}b=b.parent();if(!b.length||b.hasClass("fancybox-slider")||b.is("body")){break}}return a};var l=function(b){var a=this;a.instance=b;a.$wrap=b.$refs.slider_wrap;a.$slider=b.$refs.slider;a.$container=b.$refs.container;a.destroy();a.$wrap.on("touchstart.fb mousedown.fb",o.proxy(a,"ontouchstart"))};l.prototype.destroy=function(){this.$wrap.off("touchstart.fb mousedown.fb touchmove.fb mousemove.fb touchend.fb touchcancel.fb mouseup.fb mouseleave.fb")};l.prototype.ontouchstart=function(d){var a=this;var b=o(d.target);var c=a.instance;var e=c.current;var f=e.$content||e.$placeholder;a.startPoints=k(d);a.$target=b;a.$content=f;a.canvasWidth=Math.round(e.$slide[0].clientWidth);a.canvasHeight=Math.round(e.$slide[0].clientHeight);a.startEvent=d;if(d.originalEvent.clientX>a.canvasWidth+e.$slide.offset().left){return true}if(q(b)||q(b.parent())||(p(b))){return}if(!e.opts.touch){a.endPoints=a.startPoints;return a.ontap()}if(d.originalEvent&&d.originalEvent.button==2){return}d.stopPropagation();d.preventDefault();if(!e||a.instance.isAnimating||a.instance.isClosing){return}if(!a.startPoints||(a.startPoints.length>1&&!e.isMoved)){return}a.$wrap.off("touchmove.fb mousemove.fb",o.proxy(a,"ontouchmove"));a.$wrap.off("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",o.proxy(a,"ontouchend"));a.$wrap.on("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",o.proxy(a,"ontouchend"));a.$wrap.on("touchmove.fb mousemove.fb",o.proxy(a,"ontouchmove"));a.startTime=new Date().getTime();a.distanceX=a.distanceY=a.distance=0;a.canTap=false;a.isPanning=false;a.isSwiping=false;a.isZooming=false;a.sliderStartPos=o.fancybox.getTranslate(a.$slider);a.contentStartPos=o.fancybox.getTranslate(a.$content);a.contentLastPos=null;if(a.startPoints.length===1&&!a.isZooming){a.canTap=e.isMoved;if(e.type==="image"&&(a.contentStartPos.width>a.canvasWidth+1||a.contentStartPos.height>a.canvasHeight+1)){o.fancybox.stop(a.$content);a.isPanning=true}else{o.fancybox.stop(a.$slider);a.isSwiping=true}a.$container.addClass("fancybox-controls--isGrabbing")}if(a.startPoints.length===2&&e.isMoved&&!e.hasError&&e.type==="image"&&(e.isLoaded||e.$ghost)){a.isZooming=true;a.isSwiping=false;a.isPanning=false;o.fancybox.stop(a.$content);a.centerPointStartX=((a.startPoints[0].x+a.startPoints[1].x)*0.5)-o(n).scrollLeft();a.centerPointStartY=((a.startPoints[0].y+a.startPoints[1].y)*0.5)-o(n).scrollTop();a.percentageOfImageAtPinchPointX=(a.centerPointStartX-a.contentStartPos.left)/a.contentStartPos.width;a.percentageOfImageAtPinchPointY=(a.centerPointStartY-a.contentStartPos.top)/a.contentStartPos.height;a.startDistanceBetweenFingers=t(a.startPoints[0],a.startPoints[1])}};l.prototype.ontouchmove=function(a){var b=this;a.preventDefault();b.newPoints=k(a);if(!b.newPoints||!b.newPoints.length){return}b.distanceX=t(b.newPoints[0],b.startPoints[0],"x");b.distanceY=t(b.newPoints[0],b.startPoints[0],"y");b.distance=t(b.newPoints[0],b.startPoints[0]);if(b.distance>0){if(b.isSwiping){b.onSwipe()}else{if(b.isPanning){b.onPan()}else{if(b.isZooming){b.onZoom()}}}}};l.prototype.onSwipe=function(){var b=this;var c=b.isSwiping;var a=b.sliderStartPos.left;var d;if(c===true){if(Math.abs(b.distance)>10){if(b.instance.group.length<2){b.isSwiping="y"}else{if(!b.instance.current.isMoved||b.instance.opts.touch.vertical===false||(b.instance.opts.touch.vertical==="auto"&&o(n).width()>800)){b.isSwiping="x"}else{d=Math.abs(Math.atan2(b.distanceY,b.distanceX)*180/Math.PI);b.isSwiping=(d>45&&d<135)?"y":"x"}}b.canTap=false;b.instance.current.isMoved=false;b.startPoints=b.newPoints}}else{if(c=="x"){if(!b.instance.current.opts.loop&&b.instance.current.index===0&&b.distanceX>0){a=a+Math.pow(b.distanceX,0.8)}else{if(!b.instance.current.opts.loop&&b.instance.current.index===b.instance.group.length-1&&b.distanceX<0){a=a-Math.pow(-b.distanceX,0.8)}else{a=a+b.distanceX}}}b.sliderLastPos={top:c=="x"?0:b.sliderStartPos.top+b.distanceY,left:a};r(function(){o.fancybox.setTranslate(b.$slider,b.sliderLastPos)})}};l.prototype.onPan=function(){var c=this;var d,a,b;c.canTap=false;if(c.contentStartPos.width>c.canvasWidth){d=c.contentStartPos.left+c.distanceX}else{d=c.contentStartPos.left}a=c.contentStartPos.top+c.distanceY;b=c.limitMovement(d,a,c.contentStartPos.width,c.contentStartPos.height);b.scaleX=c.contentStartPos.scaleX;b.scaleY=c.contentStartPos.scaleY;c.contentLastPos=b;r(function(){o.fancybox.setTranslate(c.$content,c.contentLastPos)})};l.prototype.limitMovement=function(B,a,d,h){var i=this;var e,f,A,C;var g=i.canvasWidth;var c=i.canvasHeight;var D=i.contentStartPos.left;var b=i.contentStartPos.top;var j=i.distanceX;var z=i.distanceY;e=Math.max(0,g*0.5-d*0.5);f=Math.max(0,c*0.5-h*0.5);A=Math.min(g-d,g*0.5-d*0.5);C=Math.min(c-h,c*0.5-h*0.5);if(d>g){if(j>0&&B>e){B=e-1+Math.pow(-e+D+j,0.8)||0}if(j<0&&B<A){B=A+1-Math.pow(A-D-j,0.8)||0}}if(h>c){if(z>0&&a>f){a=f-1+Math.pow(-f+b+z,0.8)||0}if(z<0&&a<C){a=C+1-Math.pow(C-b-z,0.8)||0}}return{top:a,left:B}};l.prototype.limitPosition=function(d,f,e,b){var a=this;var c=a.canvasWidth;var g=a.canvasHeight;if(e>c){d=d>0?0:d;d=d<c-e?c-e:d}else{d=Math.max(0,c/2-e/2)}if(b>g){f=f>0?0:f;f=f<g-b?g-b:f}else{f=Math.max(0,g/2-b/2)}return{top:f,left:d}};l.prototype.onZoom=function(){var h=this;var E=h.contentStartPos.width;var G=h.contentStartPos.height;var c=h.contentStartPos.left;var d=h.contentStartPos.top;var e=t(h.newPoints[0],h.newPoints[1]);var F=e/h.startDistanceBetweenFingers;var C=Math.floor(E*F);var f=Math.floor(G*F);var I=(E-C)*h.percentageOfImageAtPinchPointX;var J=(G-f)*h.percentageOfImageAtPinchPointY;var j=((h.newPoints[0].x+h.newPoints[1].x)/2)-o(n).scrollLeft();var a=((h.newPoints[0].y+h.newPoints[1].y)/2)-o(n).scrollTop();var g=j-h.centerPointStartX;var i=a-h.centerPointStartY;var D=c+(I+g);var b=d+(J+i);var H={top:b,left:D,scaleX:h.contentStartPos.scaleX*F,scaleY:h.contentStartPos.scaleY*F};h.canTap=false;h.newWidth=C;h.newHeight=f;h.contentLastPos=H;r(function(){o.fancybox.setTranslate(h.$content,h.contentLastPos)})};l.prototype.ontouchend=function(d){var a=this;var e=a.instance.current;var b=Math.max((new Date().getTime())-a.startTime,1);var c=a.isSwiping;var g=a.isPanning;var f=a.isZooming;a.endPoints=k(d);a.$container.removeClass("fancybox-controls--isGrabbing");a.$wrap.off("touchmove.fb mousemove.fb",o.proxy(this,"ontouchmove"));a.$wrap.off("touchend.fb touchcancel.fb mouseup.fb mouseleave.fb",o.proxy(this,"ontouchend"));a.isSwiping=false;a.isPanning=false;a.isZooming=false;if(a.canTap){return a.ontap()}a.velocityX=a.distanceX/b*0.5;a.velocityY=a.distanceY/b*0.5;a.speed=e.opts.speed||330;a.speedX=Math.max(a.speed*0.75,Math.min(a.speed*1.5,(1/Math.abs(a.velocityX))*a.speed));a.speedY=Math.max(a.speed*0.75,Math.min(a.speed*1.5,(1/Math.abs(a.velocityY))*a.speed));if(g){a.endPanning()}else{if(f){a.endZooming()}else{a.endSwiping(c)}}return};l.prototype.endSwiping=function(b){var a=this;if(b=="y"&&Math.abs(a.distanceY)>50){o.fancybox.animate(a.$slider,null,{top:a.sliderStartPos.top+a.distanceY+a.velocityY*150,left:a.sliderStartPos.left,opacity:0},a.speedY);a.instance.close(true)}else{if(b=="x"&&a.distanceX>50){a.instance.previous(a.speedX)}else{if(b=="x"&&a.distanceX<-50){a.instance.next(a.speedX)}else{a.instance.update(false,true,150)}}}};l.prototype.endPanning=function(){var c=this;var d,a,b;if(!c.contentLastPos){return}d=c.contentLastPos.left+(c.velocityX*c.speed*2);a=c.contentLastPos.top+(c.velocityY*c.speed*2);b=c.limitPosition(d,a,c.contentStartPos.width,c.contentStartPos.height);b.width=c.contentStartPos.width;b.height=c.contentStartPos.height;o.fancybox.animate(c.$content,null,b,c.speed,"easeOutSine")};l.prototype.endZooming=function(){var b=this;var d=b.instance.current;var e,h,a,f;var g=b.newWidth;var c=b.newHeight;if(!b.contentLastPos){return}e=b.contentLastPos.left;h=b.contentLastPos.top;f={top:h,left:e,width:g,height:c,scaleX:1,scaleY:1};o.fancybox.setTranslate(b.$content,f);if(g<b.canvasWidth&&c<b.canvasHeight){b.instance.scaleToFit(150)}else{if(g>d.width||c>d.height){b.instance.scaleToActual(b.centerPointStartX,b.centerPointStartY,150)}else{a=b.limitPosition(e,h,g,c);o.fancybox.animate(b.$content,null,a,b.speed,"easeOutSine")}}};l.prototype.ontap=function(){var a=this;var b=a.instance;var e=b.current;var c=a.endPoints[0].x;var d=a.endPoints[0].y;c=c-a.$wrap.offset().left;d=d-a.$wrap.offset().top;if(b.SlideShow&&b.SlideShow.isActive){b.SlideShow.stop()}if(!o.fancybox.isTouch){if(e.opts.closeClickOutside&&a.$target.is(".fancybox-slide")){b.close(a.startEvent);return}if(e.type=="image"&&e.isMoved){if(b.canPan()){b.scaleToFit()}else{if(b.isScaledDown()){b.scaleToActual(c,d)}else{if(b.group.length<2){b.close(a.startEvent)}}}}return}if(a.tapped){clearTimeout(a.tapped);a.tapped=null;if(Math.abs(c-a.x)>50||Math.abs(d-a.y)>50||!e.isMoved){return this}if(e.type=="image"&&(e.isLoaded||e.$ghost)){if(b.canPan()){b.scaleToFit()}else{if(b.isScaledDown()){b.scaleToActual(c,d)}}}}else{a.x=c;a.y=d;a.tapped=setTimeout(function(){a.tapped=null;b.toggleControls(true)},300)}return this};o(m).on("onActivate.fb",function(a,b){if(b&&!b.Guestures){b.Guestures=new l(b)}});o(m).on("beforeClose.fb",function(a,b){if(b&&b.Guestures){b.Guestures.destroy()}})}(window,document,window.jQuery));(function(e,f){var d=function(a){this.instance=a;this.init()};f.extend(d.prototype,{timer:null,isActive:false,$button:null,speed:3000,init:function(){var a=this;a.$button=f('<button data-fancybox-play class="fancybox-button fancybox-button--play" title="Slideshow (P)"></button>').appendTo(a.instance.$refs.buttons);a.instance.$refs.container.on("click","[data-fancybox-play]",function(){a.toggle()})},set:function(){var a=this;if(a.instance&&a.instance.current&&(a.instance.current.opts.loop||a.instance.currIndex<a.instance.group.length-1)){a.timer=setTimeout(function(){a.instance.next()},a.instance.current.opts.slideShow.speed||a.speed)}else{a.stop()}},clear:function(){var a=this;clearTimeout(a.timer);a.timer=null},start:function(){var a=this;a.stop();if(a.instance&&a.instance.current&&(a.instance.current.opts.loop||a.instance.currIndex<a.instance.group.length-1)){a.instance.$refs.container.on({"beforeLoad.fb.player":f.proxy(a,"clear"),"onComplete.fb.player":f.proxy(a,"set")});a.isActive=true;if(a.instance.current.isComplete){a.set()}a.instance.$refs.container.trigger("onPlayStart");a.$button.addClass("fancybox-button--pause")}},stop:function(){var a=this;a.clear();a.instance.$refs.container.trigger("onPlayEnd").off(".player");a.$button.removeClass("fancybox-button--pause");a.isActive=false},toggle:function(){var a=this;if(a.isActive){a.stop()}else{a.start()}}});f(e).on("onInit.fb",function(a,b){if(b&&b.group.length>1&&!!b.opts.slideShow&&!b.SlideShow){b.SlideShow=new d(b)}});f(e).on("beforeClose.fb onDeactivate.fb",function(a,b){if(b&&b.SlideShow){b.SlideShow.stop()}})}(document,window.jQuery));(function(e,g){var h=(function(){var i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var a;var c={};var b,d;for(b=0;b<i.length;b++){a=i[b];if(a&&a[1] in e){for(d=0;d<a.length;d++){c[i[0][d]]=a[d]}return c}}return false})();if(!h){return}var f={request:function(a){a=a||e.documentElement;a[h.requestFullscreen](a.ALLOW_KEYBOARD_INPUT)},exit:function(){e[h.exitFullscreen]()},toggle:function(a){if(this.isFullscreen()){this.exit()}else{this.request(a)}},isFullscreen:function(){return Boolean(e[h.fullscreenElement])},enabled:function(){return Boolean(e[h.fullscreenEnabled])}};g(e).on({"onInit.fb":function(b,c){var a;if(c&&!!c.opts.fullScreen&&!c.FullScreen){a=c.$refs.container;c.$refs.button_fs=g('<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="Full screen (F)"></button>').appendTo(c.$refs.buttons);a.on("click.fb-fullscreen","[data-fancybox-fullscreen]",function(d){d.stopPropagation();d.preventDefault();f.toggle(a[0])});if(c.opts.fullScreen.requestOnStart===true){f.request(a[0])}}},"beforeMove.fb":function(a,b){if(b&&b.$refs.button_fs){b.$refs.button_fs.toggle(!!b.current.opts.fullScreen)}},"beforeClose.fb":function(){f.exit()}});g(e).on(h.fullscreenchange,function(){var b=g.fancybox.getInstance();var a=b?b.current.$placeholder:null;if(a){a.css("transition","none");b.isAnimating=false;b.update(true,true,0)}})}(document,window.jQuery));(function(e,f){var d=function(a){this.instance=a;this.init()};f.extend(d.prototype,{$button:null,$grid:null,$list:null,isVisible:false,init:function(){var a=this;a.$button=f('<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="Thumbnails (G)"></button>').appendTo(this.instance.$refs.buttons).on("touchend click",function(b){b.stopPropagation();b.preventDefault();a.toggle()})},create:function(){var c=this.instance,b,a;this.$grid=f('<div class="fancybox-thumbs"></div>').appendTo(c.$refs.container);b="<ul>";f.each(c.group,function(j,i){a=i.opts.thumb||(i.opts.$thumb?i.opts.$thumb.attr("src"):null);if(!a&&i.type==="image"){a=i.src}if(a&&a.length){b+='<li data-index="'+j+'"  tabindex="0" class="fancybox-thumbs-loading"><img data-src="'+a+'" /></li>'}});b+="</ul>";this.$list=f(b).appendTo(this.$grid).on("click touchstart","li",function(){c.jumpTo(f(this).data("index"))});this.$list.find("img").hide().one("load",function(){var n=f(this).parent().removeClass("fancybox-thumbs-loading"),p=n.outerWidth(),o=n.outerHeight(),q,t,r,s;q=this.naturalWidth||this.width;t=this.naturalHeight||this.height;r=q/p;s=t/o;if(r>=1&&s>=1){if(r>s){q=q/s;t=o}else{q=p;t=t/r}}f(this).css({width:Math.floor(q),height:Math.floor(t),"margin-top":Math.min(0,Math.floor(o*0.3-t*0.3)),"margin-left":Math.min(0,Math.floor(p*0.5-q*0.5))}).show()}).each(function(){this.src=f(this).data("src")})},focus:function(){if(this.instance.current){this.$list.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active").focus()}},close:function(){this.$grid.hide()},update:function(){this.instance.$refs.container.toggleClass("fancybox-container--thumbs",this.isVisible);if(this.isVisible){if(!this.$grid){this.create()}this.$grid.show();this.focus()}else{if(this.$grid){this.$grid.hide()}}this.instance.update()},hide:function(){this.isVisible=false;this.update()},show:function(){this.isVisible=true;this.update()},toggle:function(){if(this.isVisible){this.hide()}else{this.show()}}});f(e).on("onInit.fb",function(b,i){var a=i.group[0],c=i.group[1];if(!!i.opts.thumbs&&!i.Thumbs&&i.group.length>1&&((a.type=="image"||a.opts.thumb||a.opts.$thumb)&&(c.type=="image"||c.opts.thumb||c.opts.$thumb))){i.Thumbs=new d(i)}});f(e).on("beforeMove.fb",function(a,i,b){var c=i&&i.Thumbs;if(!c){return}if(b.modal){c.$button.hide();c.hide()}else{if(i.opts.thumbs.showOnStart===true&&i.firstRun){c.show()}c.$button.show();if(c.isVisible){c.focus()}}});f(e).on("beforeClose.fb",function(a,b){if(b&&b.Thumbs){if(b.Thumbs.isVisible&&b.opts.thumbs.hideOnClosing!==false){b.Thumbs.close()}b.Thumbs=null}})}(document,window.jQuery));(function(h,k,j){if(!j.escapeSelector){j.escapeSelector=function(a){var c=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;var b=function(d,e){if(e){if(d==="\0"){return"\uFFFD"}return d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" "}return"\\"+d};return(a+"").replace(c,b)}}var l=null;function i(){var a=k.location.hash.substr(1);var b=a.split("-");var c=b.length>1&&/^\+?\d+$/.test(b[b.length-1])?parseInt(b.pop(-1),10)||1:1;var d=b.join("-");if(c<1){c=1}return{hash:a,index:c,gallery:d}}function n(b){var a;if(b.gallery!==""){a=j("[data-fancybox='"+j.escapeSelector(b.gallery)+"']").eq(b.index-1);if(a.length){a.trigger("click")}else{j("#"+j.escapeSelector(b.gallery)+"").trigger("click")}}}function m(b){var a;if(!b){return false}a=b.current?b.current.opts:b.opts;return a.$orig?a.$orig.data("fancybox"):(a.hash||"")}j(function(){setTimeout(function(){if(j.fancybox.defaults.hash===false){return}j(k).on("hashchange.fb",function(){var a=i();if(j.fancybox.getInstance()){if(l&&l!==a.gallery+"-"+a.index){l=null;j.fancybox.close()}}else{if(a.gallery!==""){n(a)}}});j(h).on({"onInit.fb":function(a,d){var b=i();var c=m(d);if(c&&b.gallery&&c==b.gallery){d.currIndex=b.index-1}},"beforeMove.fb":function(a,d,b){var c=m(d);if(c&&c!==""){if(k.location.hash.indexOf(c)<0){d.opts.origHash=k.location.hash}l=c+(d.group.length>1?"-"+(b.index+1):"");if("pushState" in history){history.pushState("",h.title,k.location.pathname+k.location.search+"#"+l)}else{k.location.hash=l}}},"beforeClose.fb":function(a,e,b){var d=m(e);var c=e&&e.opts.origHash?e.opts.origHash:"";if(d&&d!==""){if("pushState" in history){history.pushState("",h.title,k.location.pathname+k.location.search+c)}else{k.location.hash=c}}l=null}});n(i())},50)})}(document,window,window.jQuery));