!function(m){function A(a){return void 0==a?-1:jQuery.isNumeric(a)?a:a.split(":").length>1?60*parseInt(a.split(":")[0],0)+parseInt(a.split(":")[1],0):a}var x=jQuery.fn.revolution,k=x.is_mobile(),g=(x.is_android(),{alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.4.6.4",version:"2.2.0"});jQuery.extend(!0,x,{preLoadAudio:function(c,a){if("stop"===x.compare_version(g).check){return !1}c.find(".tp-audiolayer").each(function(){var l=jQuery(this),d={};0===l.find("audio").length&&(d.src=void 0!=l.data("videomp4")?l.data("videomp4"):"",d.pre=l.data("videopreload")||"",void 0===l.attr("id")&&l.attr("audio-layer-"+Math.round(199999*Math.random())),d.id=l.attr("id"),d.status="prepared",d.start=jQuery.now(),d.waittime=1000*l.data("videopreloadwait")||5000,"auto"!=d.pre&&"canplaythrough"!=d.pre&&"canplay"!=d.pre&&"progress"!=d.pre||(void 0===a.audioqueue&&(a.audioqueue=[]),a.audioqueue.push(d),x.manageVideoLayer(l,a)))})},preLoadAudioDone:function(i,d,c){d.audioqueue&&d.audioqueue.length>0&&jQuery.each(d.audioqueue,function(e,a){i.data("videomp4")!==a.src||a.pre!==c&&"auto"!==a.pre||(a.status="loaded")})},resetVideo:function(F,t,G,a){var C=F.data();switch(C.videotype){case"youtube":C.player;try{if("on"==C.forcerewind){var K=-1==(D=A(F.data("videostartat"))),E=1===C.bgvideo||F.find(".tp-videoposter").length>0;void 0!=C.player&&(D=-1==D?0:D,C.player.seekTo(D),C.player.pauseVideo())}}catch(F){}0==F.find(".tp-videoposter").length&&1!==C.bgvideo&&!0!==G&&punchgs.TweenLite.to(F.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":if(!a){var J=F.data("vimeoplayer");try{if("on"==C.forcerewind){var K=-1==(D=A(C.videostartat)),E=1===C.bgvideo||F.find(".tp-videoposter").length>0;(0!==(D=-1==D?0:D)&&!K||E)&&(J.setCurrentTime(D),J.pause())}}catch(F){}}0==F.find(".tp-videoposter").length&&1!==C.bgvideo&&!0!==G&&punchgs.TweenLite.to(F.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(k&&1==C.disablevideoonmobile){return !1}var i="html5"==C.audio?"audio":"video",I=F.find(i),H=I[0];if(punchgs.TweenLite.to(I,0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==C.forcerewind&&!F.hasClass("videoisplaying")){try{var D=A(C.videostartat);H.currentTime=-1==D?0:D}catch(F){}}("mute"==C.volume||x.lastToggleState(F.videomutetoggledby)||!0===t.globalmute)&&(H.muted=!0)}},isVideoMuted:function(n,l){var c=!1,d=n.data();switch(d.videotype){case"youtube":try{c=d.player.isMuted()}catch(n){}break;case"vimeo":try{"mute"==d.volume&&(c=!0)}catch(n){}break;case"html5":var p="html5"==d.audio?"audio":"video";n.find(p)[0].muted&&(c=!0)}return c},muteVideo:function(n,l){var c=n.data();switch(c.videotype){case"youtube":try{c.player.mute()}catch(n){}break;case"vimeo":try{var d=n.data("vimeoplayer");n.data("volume","mute"),d.setVolume(0)}catch(n){}break;case"html5":var p="html5"==c.audio?"audio":"video";n.find(p)[0].muted=!0}},unMuteVideo:function(n,l){if(!0!==l.globalmute){var c=n.data();switch(c.videotype){case"youtube":try{c.player.unMute()}catch(n){}break;case"vimeo":try{var d=n.data("vimeoplayer");n.data("volume","1"),d.setVolume(1)}catch(n){}break;case"html5":var p="html5"==c.audio?"audio":"video";n.find(p)[0].muted=!1}}},stopVideo:function(s,n){var c=s.data();switch(n.leaveViewPortBasedStop||(n.lastplayedvideos=[]),n.leaveViewPortBasedStop=!1,c.videotype){case"youtube":try{var l=c.player;if(2===l.getPlayerState()||5===l.getPlayerState()){return}l.pauseVideo(),c.youtubepausecalled=!0,setTimeout(function(){c.youtubepausecalled=!1},80)}catch(s){console.log("Issue at YouTube Video Pause:"),console.log(s)}break;case"vimeo":try{s.data("vimeoplayer").pause(),c.vimeopausecalled=!0,setTimeout(function(){c.vimeopausecalled=!1},80)}catch(s){console.log("Issue at Vimeo Video Pause:"),console.log(s)}break;case"html5":var v="html5"==c.audio?"audio":"video",u=s.find(v),p=u[0];void 0!=u&&void 0!=p&&p.pause()}},playVideo:function(E,D){clearTimeout(E.data("videoplaywait"));var s=E.data();switch(s.videotype){case"youtube":if(0==E.find("iframe").length){E.append(E.data("videomarkup")),B(E,D,!0)}else{if(void 0!=s.player.playVideo){var a=A(E.data("videostartat")),t=s.player.getCurrentTime();1==E.data("nextslideatend-triggered")&&(t=-1,E.data("nextslideatend-triggered",0)),-1!=a&&a>t&&s.player.seekTo(a),!0!==s.youtubepausecalled&&s.player.playVideo()}else{E.data("videoplaywait",setTimeout(function(){!0!==s.youtubepausecalled&&x.playVideo(E,D)},50))}}break;case"vimeo":if(0==E.find("iframe").length){E.removeData("vimeoplayer"),E.append(E.data("videomarkup")),B(E,D,!0)}else{if(E.hasClass("rs-apiready")){var C,H=E.find("iframe").attr("id");E.data("vimeoplayer")?C=E.data("vimeoplayer"):(C=new Vimeo.Player(H),E.data("vimeoplayer",C)),C.getPaused()?setTimeout(function(){var c=A(E.data("videostartat")),e=E.data("currenttime");e||(e=0),1==E.data("nextslideatend-triggered")&&(e=-1,E.data("nextslideatend-triggered",0)),-1!=c&&c>e&&C.setCurrentTime(c),C.play()},510):E.data("videoplaywait",setTimeout(function(){!0!==s.vimeopausecalled&&x.playVideo(E,D)},50))}else{E.data("videoplaywait",setTimeout(function(){!0!==s.vimeopausecalled&&x.playVideo(E,D)},50))}}break;case"html5":var d="html5"==s.audio?"audio":"video",G=E.find(d),F=G[0];if(1!=G.parent().data("metaloaded")){q(F,"loadedmetadata",function(c){x.resetVideo(c,D),F.play();var l=A(c.data("videostartat")),i=F.currentTime;1==c.data("nextslideatend-triggered")&&(i=-1,c.data("nextslideatend-triggered",0)),-1!=l&&l>i&&(F.currentTime=l)}(E))}else{F.play();var a=A(E.data("videostartat")),t=F.currentTime;1==E.data("nextslideatend-triggered")&&(t=-1,E.data("nextslideatend-triggered",0)),-1!=a&&a>t&&(F.currentTime=a)}}},isVideoPlaying:function(i,d){var c=!1;return void 0!=d.playingvideos&&jQuery.each(d.playingvideos,function(e,a){i.attr("id")==a.attr("id")&&(c=!0)}),c},removeMediaFromList:function(c,a){w(c,a)},prepareCoveredVideo:function(n,c){if(void 0===c.data("vimeoid")||void 0!==c.data("vimeoplayerloaded")){var a={};if(a.ifr=c.find("iframe, video"),a.asp=c.data("aspectratio"),a.wa=a.asp.split(":")[0],a.ha=a.asp.split(":")[1],a.vd=a.wa/a.ha,0===n.conw||0===n.conh){return x.setSize(n),clearTimeout(a.ifr.data("resizelistener")),void a.ifr.data("resizelistener",setTimeout(function(){x.prepareCoveredVideo(n,c)},100))}var s=n.conw/n.conh,p=s/a.vd*100,l=a.vd/s*100;s>a.vd?punchgs.TweenLite.set(a.ifr,{height:p+"%",width:"100%",top:-(p-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.set(a.ifr,{width:l+"%",height:"100%",left:-(l-100)/2+"%",top:"0px",position:"absolute"}),a.ifr.hasClass("resizelistener")||(a.ifr.addClass("resizelistener"),jQuery(window).resize(function(){x.prepareCoveredVideo(n,c),clearTimeout(a.ifr.data("resizelistener")),a.ifr.data("resizelistener",setTimeout(function(){x.prepareCoveredVideo(n,c)},90))}))}},checkVideoApis:function(s,n,c){location.protocol;if((void 0!=s.data("ytid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(n.youtubeapineeded=!0),(void 0!=s.data("ytid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==c.addedyt){n.youtubestarttime=jQuery.now(),c.addedyt=1;var l=document.createElement("script");l.src="https://www.youtube.com/iframe_api";var v=document.getElementsByTagName("script")[0],u=!0;jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(u=!1)}),u&&v.parentNode.insertBefore(l,v)}if((void 0!=s.data("vimeoid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(n.vimeoapineeded=!0),(void 0!=s.data("vimeoid")||s.find("iframe").length>0&&s.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==c.addedvim){n.vimeostarttime=jQuery.now(),c.addedvim=1;var p=document.createElement("script"),v=document.getElementsByTagName("script")[0],u=!0;p.src="https://player.vimeo.com/api/player.js",jQuery("head").find("*").each(function(){"https://player.vimeo.com/api/player.js"==jQuery(this).attr("src")&&(u=!1)}),u&&v.parentNode.insertBefore(p,v)}return c},manageVideoLayer:function(ac,M,R,W){if("stop"===x.compare_version(g).check){return !1}var J=ac.data(),H=J.videoattributes,ad=J.ytid,U=J.vimeoid,aa="auto"===J.videopreload||"canplay"===J.videopreload||"canplaythrough"===J.videopreload||"progress"===J.videopreload?"auto":J.videopreload,D=J.videomp4,ab=J.videowebm,Z=J.videoogv,ae=J.allowfullscreenvideo,G=J.videocontrols,d="http",X="loop"==J.videoloop?"loop":"loopandnoslidestop"==J.videoloop?"loop":"",F=void 0!=D||void 0!=ab?"html5":void 0!=ad&&String(ad).length>1?"youtube":void 0!=U&&String(U).length>1?"vimeo":"none",a="html5"==J.audio?"audio":"video",t="html5"==F&&0==ac.find(a).length?"html5":"youtube"==F&&0==ac.find("iframe").length?"youtube":"vimeo"==F&&0==ac.find("iframe").length?"vimeo":"none";switch(X=!0===J.nextslideatend?"":X,J.videotype=F,t){case"html5":"controls"!=G&&(G="");a="video";"html5"==J.audio&&(a="audio",ac.addClass("tp-audio-html5"));var K="";"video"===a&&(x.is_mobile()||x.isSafari11())&&("on"===J.autoplay||"true"===J.autoplay||!0===J.autoplay?K="muted playsinline autoplay":1!=J.videoinline&&"true"!==J.videoinline&&1!==J.videoinline||(K+=" playsinline"));var p="<"+a+" "+K+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+X+' preload="'+aa+'">';"auto"==aa&&(M.mediapreload=!0),void 0!=ab&&"firefox"==x.get_browser().toLowerCase()&&(p=p+'<source src="'+ab+'" type="video/webm" />'),void 0!=D&&(p=p+'<source src="'+D+'" type="video/mp4" />'),void 0!=Z&&(p=p+'<source src="'+Z+'" type="video/ogg" />'),p=p+"</"+a+">";var E="";"true"!==ae&&!0!==ae||(E='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==G&&(p=p+'<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+E+"</div>"),ac.data("videomarkup",p),ac.append(p),(k&&1==ac.data("disablevideoonmobile")||x.isIE(8))&&ac.find(a).remove(),ac.find(a).each(function(e){var c=this,l=jQuery(this);l.parent().hasClass("html5vid")||l.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),1!=l.parent().data("metaloaded")&&q(c,"loadedmetadata",function(n){f(n,M),x.resetVideo(n,M)}(ac))});break;case"youtube":d="https","none"==G&&-1==(H=H.replace("controls=1","controls=0")).toLowerCase().indexOf("controls")&&(H+="&controls=0"),(!0===J.videoinline||"true"===J.videoinline||1===J.videoinline||ac.hasClass("rs-background-video-layer"))&&(H+="&playsinline=1");var af=A(ac.data("videostartat")),i=A(ac.data("videoendat"));-1!=af&&(H=H+"&start="+af),-1!=i&&(H=H+"&end="+i);var Y=H.split("origin="+d+"://"),N="";Y.length>1?(N=Y[0]+"origin="+d+"://",self.location.href.match(/www/gi)&&!Y[1].match(/www/gi)&&(N+="www."),N+=Y[1]):N=H;var s="true"===ae||!0===ae?"allowfullscreen":"";ac.data("videomarkup",'<iframe type="text/html" src="'+d+"://www.youtube.com/embed/"+ad+"?"+N+'" '+s+' width="100%" height="100%" style="opacity:0;visibility:hidden;width:100%;height:100%"></iframe>');break;case"vimeo":d="https",ac.data("videomarkup",'<iframe src="'+d+"://player.vimeo.com/video/"+U+"?"+H+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="opacity:0;visibility:hidden;100%;height:100%"></iframe>')}var o=k&&"on"==ac.data("noposteronmobile");if(void 0!=J.videoposter&&J.videoposter.length>2&&!o){0==ac.find(".tp-videoposter").length&&ac.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+J.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==ac.find("iframe").length&&ac.find(".tp-videoposter").click(function(){if(x.playVideo(ac,M),k){if(1==ac.data("disablevideoonmobile")){return !1}punchgs.TweenLite.to(ac.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(ac.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}})}else{if(k&&1==ac.data("disablevideoonmobile")){return !1}0!=ac.find("iframe").length||"youtube"!=F&&"vimeo"!=F||(ac.removeData("vimeoplayer"),ac.append(ac.data("videomarkup")),B(ac,M,!1))}"none"!=ac.data("dottedoverlay")&&void 0!=ac.data("dottedoverlay")&&1!=ac.find(".tp-dottedoverlay").length&&ac.append('<div class="tp-dottedoverlay '+ac.data("dottedoverlay")+'"></div>'),ac.addClass("HasListener"),1==ac.data("bgvideo")&&punchgs.TweenLite.set(ac.find("video, iframe"),{autoAlpha:0})}});var q=function(i,d,c){i.addEventListener?i.addEventListener(d,c,{capture:!1,passive:!0}):i.attachEvent(d,c,{capture:!1,passive:!0})},b=function(n,l,c){var d={};return d.video=n,d.videotype=l,d.settings=c,d},h=function(d,c){if(1==c.data("bgvideo")||1==c.data("forcecover")){1===c.data("forcecover")&&c.removeClass("fullscreenvideo").addClass("coverscreenvideo");var a=c.data("aspectratio");void 0===a&&a.split(":").length<=1&&c.data("aspectratio","16:9"),x.prepareCoveredVideo(d,c)}},B=function(N,F,O){var v=N.data(),E=N.find("iframe"),G="iframe"+Math.round(100000*Math.random()+1),K=v.videoloop,n="loopandnoslidestop"!=K;if(K="loop"==K||"loopandnoslidestop"==K,h(F,N),E.attr("id",G),O&&N.data("startvideonow",!0),1!==N.data("videolistenerexist")){switch(v.videotype){case"youtube":D=new YT.Player(G,{events:{onStateChange:function(e){var s=N.closest(".tp-simpleresponsive"),C=(v.videorate,N.data("videostart"),z());if(e.data==YT.PlayerState.PLAYING){punchgs.TweenLite.to(N.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(N.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==N.data("volume")||x.lastToggleState(N.data("videomutetoggledby"))||!0===F.globalmute?D.mute():(D.unMute(),D.setVolume(parseInt(N.data("volume"),0)||75)),F.videoplaying=!0,y(N,F),n?F.c.trigger("stoptimer"):F.videoplaying=!1,F.c.trigger("revolution.slide.onvideoplay",b(D,"youtube",N.data())),x.toggleState(v.videotoggledby)}else{if(0==e.data&&K){var o=A(N.data("videostartat"));-1!=o&&D.seekTo(o),D.playVideo(),x.toggleState(v.videotoggledby)}C||0!=e.data&&2!=e.data||!("on"==N.data("showcoveronpause")&&N.find(".tp-videoposter").length>0||1===N.data("bgvideo")&&N.find(".rs-fullvideo-cover").length>0)||(1===N.data("bgvideo")?punchgs.TweenLite.to(N.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(N.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(N.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),-1!=e.data&&3!=e.data&&(F.videoplaying=!1,F.tonpause=!1,w(N,F),s.trigger("starttimer"),F.c.trigger("revolution.slide.onvideostop",b(D,"youtube",N.data())),void 0!=F.currentLayerVideoIsPlaying&&F.currentLayerVideoIsPlaying.attr("id")!=N.attr("id")||x.unToggleState(v.videotoggledby)),0==e.data&&1==N.data("nextslideatend")?(j(),N.data("nextslideatend-triggered",1),F.c.revnext(),w(N,F)):(w(N,F),F.videoplaying=!1,s.trigger("starttimer"),F.c.trigger("revolution.slide.onvideostop",b(D,"youtube",N.data())),void 0!=F.currentLayerVideoIsPlaying&&F.currentLayerVideoIsPlaying.attr("id")!=N.attr("id")||x.unToggleState(v.videotoggledby))}},onReady:function(P){var L,C=x.is_mobile(),S=N.hasClass("tp-videolayer");if(C||x.isSafari11()){var e=S&&"off"!==N.data("autoplay");(N.hasClass("rs-background-video-layer")||e)&&(C&&S||(L=!0,D.setVolume(0),N.data("volume","mute"),D.mute(),clearTimeout(N.data("mobilevideotimr")),N.data("mobilevideotimr",setTimeout(function(){D.playVideo()},500))))}L||"mute"!=N.data("volume")||(D.setVolume(0),D.mute());var s=v.videorate;N.data("videostart");if(N.addClass("rs-apiready"),void 0!=s&&P.target.setPlaybackRate(parseFloat(s)),N.find(".tp-videoposter").unbind("click"),N.find(".tp-videoposter").click(function(){k||D.playVideo()}),N.data("startvideonow")){v.player.playVideo();var I=A(N.data("videostartat"));-1!=I&&v.player.seekTo(I)}N.data("videolistenerexist",1)}}});N.data("player",D);break;case"vimeo":for(var M,J=E.attr("src"),Q={},u=J,c=/([^&=]+)=([^&]*)/g;M=c.exec(u);){Q[decodeURIComponent(M[1])]=decodeURIComponent(M[2])}J=(J=void 0!=Q.player_id?J.replace(Q.player_id,G):J+"&player_id="+G).replace(/&api=0|&api=1/g,"");var H=x.is_mobile(),t=H||x.isSafari11(),a=N.hasClass("rs-background-video-layer");t&&a&&(J+="&background=1"),E.attr("src",J);var l,D=N.find("iframe")[0];jQuery("#"+G);if(N.data("vimeoplayer")?l=N.data("vimeoplayer"):(l=new Vimeo.Player(G),N.data("vimeoplayer",l)),t){var i;if(a){i=!0}else{var r=N.data("autoplay");"on"!==r&&"true"!==r&&!0!==r||(H&&N.data("autoplay",!1),i=!0)}i&&(l.setVolume(0),N.data("volume","mute"))}l.on("loaded",function(e){var d={};l.getVideoWidth().then(function(o){d.width=o,void 0!==d.width&&void 0!==d.height&&(N.data("aspectratio",d.width+":"+d.height),N.data("vimeoplayerloaded",!0),h(F,N))}),l.getVideoHeight().then(function(o){d.height=o,void 0!==d.width&&void 0!==d.height&&(N.data("aspectratio",d.width+":"+d.height),N.data("vimeoplayerloaded",!0),h(F,N))})}),N.addClass("rs-apiready"),l.on("play",function(d){N.data("nextslidecalled",0),punchgs.TweenLite.to(N.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(N.find("iframe"),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),F.c.trigger("revolution.slide.onvideoplay",b(l,"vimeo",N.data())),F.videoplaying=!0,y(N,F),n?F.c.trigger("stoptimer"):F.videoplaying=!1,"mute"==N.data("volume")||x.lastToggleState(N.data("videomutetoggledby"))||!0===F.globalmute?l.setVolume(0):l.setVolume(parseInt(N.data("volume"),0)/100||0.75),x.toggleState(v.videotoggledby)}),l.on("timeupdate",function(e){var o=A(N.data("videoendat"));if(N.data("currenttime",e.seconds),0!=o&&Math.abs(o-e.seconds)<1&&o>e.seconds&&1!=N.data("nextslidecalled")){if(K){l.play();var p=A(N.data("videostartat"));-1!=p&&l.setCurrentTime(p)}else{1==N.data("nextslideatend")&&(N.data("nextslideatend-triggered",1),N.data("nextslidecalled",1),F.c.revnext()),l.pause()}}}),l.on("ended",function(d){w(N,F),F.videoplaying=!1,F.c.trigger("starttimer"),F.c.trigger("revolution.slide.onvideostop",b(l,"vimeo",N.data())),1==N.data("nextslideatend")&&(N.data("nextslideatend-triggered",1),F.c.revnext()),void 0!=F.currentLayerVideoIsPlaying&&F.currentLayerVideoIsPlaying.attr("id")!=N.attr("id")||x.unToggleState(v.videotoggledby)}),l.on("pause",function(d){("on"==N.data("showcoveronpause")&&N.find(".tp-videoposter").length>0||1===N.data("bgvideo")&&N.find(".rs-fullvideo-cover").length>0)&&(1===N.data("bgvideo")?punchgs.TweenLite.to(N.find(".rs-fullvideo-cover"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}):punchgs.TweenLite.to(N.find(".tp-videoposter"),0.1,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(N.find("iframe"),0.1,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),F.videoplaying=!1,F.tonpause=!1,w(N,F),F.c.trigger("starttimer"),F.c.trigger("revolution.slide.onvideostop",b(l,"vimeo",N.data())),void 0!=F.currentLayerVideoIsPlaying&&F.currentLayerVideoIsPlaying.attr("id")!=N.attr("id")||x.unToggleState(v.videotoggledby)}),N.find(".tp-videoposter").unbind("click"),N.find(".tp-videoposter").click(function(){if(!k){return l.play(),!1}}),N.data("startvideonow")&&(l.play(),-1!=(R=A(N.data("videostartat")))&&l.setCurrentTime(R)),N.data("videolistenerexist",1)}}else{var R=A(N.data("videostartat"));switch(v.videotype){case"youtube":O&&(v.player.playVideo(),-1!=R&&v.player.seekTo());break;case"vimeo":O&&((l=N.data("vimeoplayer")).play(),-1!=R&&l.seekTo(R))}}},j=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},z=function(){try{if(void 0!==window.fullScreen){return window.fullScreen}var a=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(a=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<a}catch(a){}},f=function(D,c,d){if(k&&1==D.data("disablevideoonmobile")){return !1}var I=D.data(),a="html5"==I.audio?"audio":"video",l=D.find(a),v=l[0],F=l.parent(),C=I.videoloop,u="loopandnoslidestop"!=C;if(C="loop"==C||"loopandnoslidestop"==C,F.data("metaloaded",1),1!=D.data("bgvideo")||"none"!==I.videoloop&&!1!==I.videoloop||(u=!1),void 0==l.attr("control")&&(0!=D.find(".tp-video-play-button").length||k||D.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),D.find("video, .tp-poster, .tp-video-play-button").click(function(){D.hasClass("videoisplaying")?v.pause():v.play()})),1==D.data("forcecover")||D.hasClass("fullscreenvideo")||1==D.data("bgvideo")){if(1==D.data("forcecover")||1==D.data("bgvideo")){F.addClass("fullcoveredvideo");var E=D.data("aspectratio");void 0!==E&&1!=E.split(":").length||D.data("aspectratio","16:9"),x.prepareCoveredVideo(c,D)}else{F.addClass("fullscreenvideo")}}var H=D.find(".tp-vid-play-pause")[0],t=D.find(".tp-vid-mute")[0],r=D.find(".tp-vid-full-screen")[0],G=D.find(".tp-seek-bar")[0],i=D.find(".tp-volume-bar")[0];void 0!=H&&q(H,"click",function(){1==v.paused?v.play():v.pause()}),void 0!=t&&q(t,"click",function(){0==v.muted?(v.muted=!0,t.innerHTML="Unmute"):(v.muted=!1,t.innerHTML="Mute")}),void 0!=r&&r&&q(r,"click",function(){v.requestFullscreen?v.requestFullscreen():v.mozRequestFullScreen?v.mozRequestFullScreen():v.webkitRequestFullscreen&&v.webkitRequestFullscreen()}),void 0!=G&&(q(G,"change",function(){var n=v.duration*(G.value/100);v.currentTime=n}),q(G,"mousedown",function(){D.addClass("seekbardragged"),v.pause()}),q(G,"mouseup",function(){D.removeClass("seekbardragged"),v.play()})),q(v,"canplaythrough",function(){x.preLoadAudioDone(D,c,"canplaythrough")}),q(v,"canplay",function(){x.preLoadAudioDone(D,c,"canplay")}),q(v,"progress",function(){x.preLoadAudioDone(D,c,"progress")}),q(v,"timeupdate",function(){var e=100/v.duration*v.currentTime,n=A(D.data("videoendat")),p=v.currentTime;if(void 0!=G&&(G.value=e),0!=n&&-1!=n&&Math.abs(n-p)<=0.3&&n>p&&1!=D.data("nextslidecalled")){if(C){v.play();var o=A(D.data("videostartat"));-1!=o&&(v.currentTime=o)}else{1==D.data("nextslideatend")&&(D.data("nextslideatend-triggered",1),D.data("nextslidecalled",1),c.just_called_nextslide_at_htmltimer=!0,c.c.revnext(),setTimeout(function(){c.just_called_nextslide_at_htmltimer=!1},1000)),v.pause()}}}),void 0!=i&&q(i,"change",function(){v.volume=i.value}),q(v,"play",function(){D.data("nextslidecalled",0);var o=D.data("volume");o=void 0!=o&&"mute"!=o?parseFloat(o)/100:o,x.is_mobile()||x.isSafari11()||(!0===c.globalmute?v.muted=!0:v.muted=!1,o>1&&(o/=100),"mute"==o?v.muted=!0:void 0!=o&&(v.volume=o)),D.addClass("videoisplaying");var e="html5"==I.audio?"audio":"video";y(D,c),u&&"audio"!=e?(c.videoplaying=!0,c.c.trigger("stoptimer"),c.c.trigger("revolution.slide.onvideoplay",b(v,"html5",I))):(c.videoplaying=!1,"audio"!=e&&c.c.trigger("starttimer"),c.c.trigger("revolution.slide.onvideostop",b(v,"html5",I))),punchgs.TweenLite.to(D.find(".tp-videoposter"),0.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(D.find(e),0.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var p=D.find(".tp-vid-play-pause")[0],s=D.find(".tp-vid-mute")[0];void 0!=p&&(p.innerHTML="Pause"),void 0!=s&&v.muted&&(s.innerHTML="Unmute"),x.toggleState(I.videotoggledby)}),q(v,"pause",function(n){var e="html5"==I.audio?"audio":"video";!z()&&D.find(".tp-videoposter").length>0&&"on"==D.data("showcoveronpause")&&!D.hasClass("seekbardragged")&&(punchgs.TweenLite.to(D.find(".tp-videoposter"),0.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(D.find(e),0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),D.removeClass("videoisplaying"),c.videoplaying=!1,w(D,c),"audio"!=e&&c.c.trigger("starttimer"),c.c.trigger("revolution.slide.onvideostop",b(v,"html5",D.data()));var o=D.find(".tp-vid-play-pause")[0];void 0!=o&&(o.innerHTML="Play"),void 0!=c.currentLayerVideoIsPlaying&&c.currentLayerVideoIsPlaying.attr("id")!=D.attr("id")||x.unToggleState(I.videotoggledby)}),q(v,"ended",function(){j(),w(D,c),c.videoplaying=!1,w(D,c),"audio"!=a&&c.c.trigger("starttimer"),c.c.trigger("revolution.slide.onvideostop",b(v,"html5",D.data())),!0===D.data("nextslideatend")&&v.currentTime>0&&(1==!c.just_called_nextslide_at_htmltimer&&(D.data("nextslideatend-triggered",1),c.c.revnext(),c.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){c.just_called_nextslide_at_htmltimer=!1},1500)),D.removeClass("videoisplaying")})},y=function(c,a){void 0==a.playingvideos&&(a.playingvideos=new Array),c.data("stopallvideos")&&void 0!=a.playingvideos&&a.playingvideos.length>0&&(a.lastplayedvideos=jQuery.extend(!0,[],a.playingvideos),jQuery.each(a.playingvideos,function(l,d){x.stopVideo(d,a)})),a.playingvideos.push(c),a.currentLayerVideoIsPlaying=c},w=function(c,a){void 0!=a.playingvideos&&jQuery.inArray(c,a.playingvideos)>=0&&a.playingvideos.splice(jQuery.inArray(c,a.playingvideos),1)}}(jQuery);