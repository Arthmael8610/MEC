(function(){if(typeof self==="undefined"||!self.Prism||!self.document||!Function.prototype.bind){return}var j=function(d){var a=0,b=0,c=d;if(c.parentNode){do{a+=c.offsetLeft;b+=c.offsetTop}while((c=c.offsetParent)&&c.nodeType<9);c=d;do{a-=c.scrollLeft;b-=c.scrollTop}while((c=c.parentNode)&&!/body/i.test(c.nodeName))}return{top:b,right:innerWidth-a-d.offsetWidth,bottom:innerHeight-b-d.offsetHeight,left:a}};var g=/(?:^|\s)token(?=$|\s)/;var i=/(?:^|\s)active(?=$|\s)/g;var f=/(?:^|\s)flipped(?=$|\s)/g;var h=function(c,a,d,b){this._elt=null;this._type=c;this._clsRegexp=RegExp("(?:^|\\s)"+c+"(?=$|\\s)");this._token=null;this.updater=a;this._mouseout=this.mouseout.bind(this);this.initializer=b;var e=this;if(!d){d=["*"]}if(Prism.util.type(d)!=="Array"){d=[d]}d.forEach(function(l){if(typeof l!=="string"){l=l.lang}if(!h.byLanguages[l]){h.byLanguages[l]=[]}if(h.byLanguages[l].indexOf(e)<0){h.byLanguages[l].push(e)}});h.byType[c]=this};h.prototype.init=function(){if(this._elt){return}this._elt=document.createElement("div");this._elt.className="prism-previewer prism-previewer-"+this._type;document.body.appendChild(this._elt);if(this.initializer){this.initializer()}};h.prototype.check=function(a){do{if(g.test(a.className)&&this._clsRegexp.test(a.className)){break}}while(a=a.parentNode);if(a&&a!==this._token){this._token=a;this.show()}};h.prototype.mouseout=function(){this._token.removeEventListener("mouseout",this._mouseout,false);this._token=null;this.hide()};h.prototype.show=function(){if(!this._elt){this.init()}if(!this._token){return}if(this.updater.call(this._elt,this._token.textContent)){this._token.addEventListener("mouseout",this._mouseout,false);var a=j(this._token);this._elt.className+=" active";if(a.top-this._elt.offsetHeight>0){this._elt.className=this._elt.className.replace(f,"");this._elt.style.top=a.top+"px";this._elt.style.bottom=""}else{this._elt.className+=" flipped";this._elt.style.bottom=a.bottom+"px";this._elt.style.top=""}this._elt.style.left=a.left+Math.min(200,this._token.offsetWidth/2)+"px"}else{this.hide()}};h.prototype.hide=function(){this._elt.className=this._elt.className.replace(i,"")};h.byLanguages={};h.byType={};h.initEvents=function(c,a){var b=[];if(h.byLanguages[a]){b=b.concat(h.byLanguages[a])}if(h.byLanguages["*"]){b=b.concat(h.byLanguages["*"])}c.addEventListener("mouseover",function(d){var e=d.target;b.forEach(function(l){l.check(e)})},false)};Prism.plugins.Previewer=h;Prism.hooks.add("after-highlight",function(a){if(h.byLanguages["*"]||h.byLanguages[a.language]){h.initEvents(a.element,a.language)}})}());