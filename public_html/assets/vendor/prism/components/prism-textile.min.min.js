(function(h){var e="(?:\\([^|)]+\\)|\\[[^\\]]+\\]|\\{[^}]+\\})+";var g={css:{pattern:/\{[^}]+\}/,inside:{rest:h.languages.css}},"class-id":{pattern:/(\()[^)]+(?=\))/,lookbehind:true,alias:"attr-value"},lang:{pattern:/(\[)[^\]]+(?=\])/,lookbehind:true,alias:"attr-value"},punctuation:/[\\\/]\d+|\S/};h.languages.textile=h.languages.extend("markup",{phrase:{pattern:/(^|\r|\n)\S[\s\S]*?(?=$|\r?\n\r?\n|\r\r)/,lookbehind:true,inside:{"block-tag":{pattern:RegExp("^[a-z]\\w*(?:"+e+"|[<>=()])*\\."),inside:{modifier:{pattern:RegExp("(^[a-z]\\w*)(?:"+e+"|[<>=()])+(?=\\.)"),lookbehind:true,inside:h.util.clone(g)},tag:/^[a-z]\w*/,punctuation:/\.$/}},list:{pattern:RegExp("^[*#]+(?:"+e+")?\\s+.+","m"),inside:{modifier:{pattern:RegExp("(^[*#]+)"+e),lookbehind:true,inside:h.util.clone(g)},punctuation:/^[*#]+/}},table:{pattern:RegExp("^(?:(?:"+e+"|[<>=()^~])+\\.\\s*)?(?:\\|(?:(?:"+e+"|[<>=()^~_]|[\\\\/]\\d+)+\\.)?[^|]*)+\\|","m"),inside:{modifier:{pattern:RegExp("(^|\\|(?:\\r?\\n|\\r)?)(?:"+e+"|[<>=()^~_]|[\\\\/]\\d+)+(?=\\.)"),lookbehind:true,inside:h.util.clone(g)},punctuation:/\||^\./}},inline:{pattern:RegExp("(\\*\\*|__|\\?\\?|[*_%@+\\-^~])(?:"+e+")?.+?\\1"),inside:{bold:{pattern:RegExp("((^\\*\\*?)(?:"+e+")?).+?(?=\\2)"),lookbehind:true},italic:{pattern:RegExp("((^__?)(?:"+e+")?).+?(?=\\2)"),lookbehind:true},cite:{pattern:RegExp("(^\\?\\?(?:"+e+")?).+?(?=\\?\\?)"),lookbehind:true,alias:"string"},code:{pattern:RegExp("(^@(?:"+e+")?).+?(?=@)"),lookbehind:true,alias:"keyword"},inserted:{pattern:RegExp("(^\\+(?:"+e+")?).+?(?=\\+)"),lookbehind:true},deleted:{pattern:RegExp("(^-(?:"+e+")?).+?(?=-)"),lookbehind:true},span:{pattern:RegExp("(^%(?:"+e+")?).+?(?=%)"),lookbehind:true},modifier:{pattern:RegExp("(^\\*\\*|__|\\?\\?|[*_%@+\\-^~])"+e),lookbehind:true,inside:h.util.clone(g)},punctuation:/[*_%?@+\-^~]+/}},"link-ref":{pattern:/^\[[^\]]+\]\S+$/m,inside:{string:{pattern:/(\[)[^\]]+(?=\])/,lookbehind:true},url:{pattern:/(\])\S+$/,lookbehind:true},punctuation:/[\[\]]/}},link:{pattern:RegExp('"(?:'+e+')?[^"]+":.+?(?=[^\\w/]?(?:\\s|$))'),inside:{text:{pattern:RegExp('(^"(?:'+e+')?)[^"]+(?=")'),lookbehind:true},modifier:{pattern:RegExp('(^")'+e),lookbehind:true,inside:h.util.clone(g)},url:{pattern:/(:).+/,lookbehind:true},punctuation:/[":]/}},image:{pattern:RegExp("!(?:"+e+"|[<>=()])*[^!\\s()]+(?:\\([^)]+\\))?!(?::.+?(?=[^\\w/]?(?:\\s|$)))?"),inside:{source:{pattern:RegExp("(^!(?:"+e+"|[<>=()])*)[^!\\s()]+(?:\\([^)]+\\))?(?=!)"),lookbehind:true,alias:"url"},modifier:{pattern:RegExp("(^!)(?:"+e+"|[<>=()])+"),lookbehind:true,inside:h.util.clone(g)},url:{pattern:/(:).+/,lookbehind:true},punctuation:/[!:]/}},footnote:{pattern:/\b\[\d+\]/,alias:"comment",inside:{punctuation:/\[|\]/}},acronym:{pattern:/\b[A-Z\d]+\([^)]+\)/,inside:{comment:{pattern:/(\()[^)]+(?=\))/,lookbehind:true},punctuation:/[()]/}},mark:{pattern:/\b\((TM|R|C)\)/,alias:"comment",inside:{punctuation:/[()]/}}}}});var f={inline:h.util.clone(h.languages.textile.phrase.inside.inline),link:h.util.clone(h.languages.textile.phrase.inside.link),image:h.util.clone(h.languages.textile.phrase.inside.image),footnote:h.util.clone(h.languages.textile.phrase.inside.footnote),acronym:h.util.clone(h.languages.textile.phrase.inside.acronym),mark:h.util.clone(h.languages.textile.phrase.inside.mark)};h.languages.textile.tag.pattern=/<\/?(?!\d)[a-z0-9]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i;h.languages.textile.phrase.inside.inline.inside.bold.inside=f;h.languages.textile.phrase.inside.inline.inside.italic.inside=f;h.languages.textile.phrase.inside.inline.inside.inserted.inside=f;h.languages.textile.phrase.inside.inline.inside.deleted.inside=f;h.languages.textile.phrase.inside.inline.inside.span.inside=f;h.languages.textile.phrase.inside.table.inside.inline=f.inline;h.languages.textile.phrase.inside.table.inside.link=f.link;h.languages.textile.phrase.inside.table.inside.image=f.image;h.languages.textile.phrase.inside.table.inside.footnote=f.footnote;h.languages.textile.phrase.inside.table.inside.acronym=f.acronym;h.languages.textile.phrase.inside.table.inside.mark=f.mark}(Prism));