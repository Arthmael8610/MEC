(function(c){var d=/\{\{\{[\w\W]+?\}\}\}|\{\{[\w\W]+?\}\}/g;c.languages.handlebars=c.languages.extend("markup",{handlebars:{pattern:d,inside:{delimiter:{pattern:/^\{\{\{?|\}\}\}?$/i,alias:"punctuation"},string:/(["'])(\\?.)*?\1/,number:/\b-?(0x[\dA-Fa-f]+|\d*\.?\d+([Ee][+-]?\d+)?)\b/,"boolean":/\b(true|false)\b/,block:{pattern:/^(\s*~?\s*)[#\/]\S+?(?=\s*~?\s*$|\s)/i,lookbehind:true,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\w\W]+/}},punctuation:/[!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,.\/;<=>@\[\\\]^`{|}~\s]+/}}});c.languages.insertBefore("handlebars","tag",{"handlebars-comment":{pattern:/\{\{![\w\W]*?\}\}/,alias:["handlebars","comment"]}});c.hooks.add("before-highlight",function(a){if(a.language!=="handlebars"){return}a.tokenStack=[];a.backupCode=a.code;a.code=a.code.replace(d,function(b){a.tokenStack.push(b);return"___HANDLEBARS"+a.tokenStack.length+"___"})});c.hooks.add("before-insert",function(a){if(a.language==="handlebars"){a.code=a.backupCode;delete a.backupCode}});c.hooks.add("after-highlight",function(a){if(a.language!=="handlebars"){return}for(var b=0,f;f=a.tokenStack[b];b++){a.highlightedCode=a.highlightedCode.replace("___HANDLEBARS"+(b+1)+"___",c.highlight(f,a.grammar,"handlebars").replace(/\$/g,"$$$$"))}a.element.innerHTML=a.highlightedCode})}(Prism));