/*!
 * jQuery.filer minified
 * Copyright (c) 2016 CreativeDream
 * Website: https://github.com/CreativeDream/jquery.filer
 * Version: 1.3 (14-Sep-2016)
 * Requires: jQuery v1.7.1 or later
 */
;!function(b){b.fn.filer=function(a){return this.each(function(x,w){var v=b(w),u=".jFiler",t=b(),s=b(),r=b(),q=[],p=b.isFunction(a)?a(v,b.fn.filer.defaults):a,o=p&&b.isPlainObject(p)?b.extend(!0,{},b.fn.filer.defaults,p):b.fn.filer.defaults,n={init:function(){v.wrap('<div class="jFiler"></div>'),n._set("props"),v.prop("jFiler").boxEl=t=v.closest(u),n._changeInput()},_bindInput:function(){o.changeInput&&s.length>0&&s.on("click",n._clickHandler),v.on({focus:function(){s.addClass("focused")},blur:function(){s.removeClass("focused")},change:n._onChange}),o.dragDrop&&(o.dragDrop.dragContainer.on("drag dragstart dragend dragover dragenter dragleave drop",function(c){c.preventDefault(),c.stopPropagation()}),o.dragDrop.dragContainer.on("drop",n._dragDrop.drop),o.dragDrop.dragContainer.on("dragover",n._dragDrop.dragEnter),o.dragDrop.dragContainer.on("dragleave",n._dragDrop.dragLeave)),o.uploadFile&&o.clipBoardPaste&&b(window).on("paste",n._clipboardPaste)},_unbindInput:function(c){o.changeInput&&s.length>0&&s.off("click",n._clickHandler),c&&(v.off("change",n._onChange),o.dragDrop&&(o.dragDrop.dragContainer.off("drop",n._dragDrop.drop),o.dragDrop.dragContainer.off("dragover",n._dragDrop.dragEnter),o.dragDrop.dragContainer.off("dragleave",n._dragDrop.dragLeave)),o.uploadFile&&o.clipBoardPaste&&b(window).off("paste",n._clipboardPaste))},_clickHandler:function(){if(!o.uploadFile&&o.addMore&&0!=v.val().length){n._unbindInput(!0);var d=b('<input type="file" />'),e=v.prop("attributes");b.each(e,function(){"required"!=this.name&&d.attr(this.name,this.value)}),v.after(d),q.push(d),v=d,n._bindInput(),n._set("props")}v.click()},_applyAttrSettings:function(){var e=["name","limit","maxSize","fileMaxSize","extensions","changeInput","showThumbs","appendTo","theme","addMore","excludeName","files","uploadUrl","uploadData","options"];for(var d in e){var f="data-jfiler-"+e[d];if(n._assets.hasAttr(f)){switch(e[d]){case"changeInput":case"showThumbs":case"addMore":o[e[d]]=["true","false"].indexOf(v.attr(f))>-1?"true"==v.attr(f):v.attr(f);break;case"extensions":o[e[d]]=v.attr(f).replace(/ /g,"").split(",");break;case"uploadUrl":o.uploadFile&&(o.uploadFile.url=v.attr(f));break;case"uploadData":o.uploadFile&&(o.uploadFile.data=JSON.parse(v.attr(f)));break;case"files":case"options":o[e[d]]=JSON.parse(v.attr(f));break;default:o[e[d]]=v.attr(f)}v.removeAttr(f)}}},_changeInput:function(){if(n._applyAttrSettings(),null!=o.beforeRender&&"function"==typeof o.beforeRender?o.beforeRender(t,v):null,o.theme&&t.addClass("jFiler-theme-"+o.theme),"input"!=v.get(0).tagName.toLowerCase()&&"file"!=v.get(0).type){s=v,v=b('<input type="file" name="'+o.name+'" />'),v.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"}),t.prepend(v),n._isGn=v}else{if(o.changeInput){switch(typeof o.changeInput){case"boolean":s=b('<div class="jFiler-input"><div class="jFiler-input-caption"><span>'+o.captions.feedback+'</span></div><div class="jFiler-input-button">'+o.captions.button+'</div></div>"');break;case"string":case"object":s=b(o.changeInput);break;case"function":s=b(o.changeInput(t,v,o))}v.after(s),v.css({position:"absolute",left:"-9999px",top:"-9999px","z-index":"-9999"})}}v.prop("jFiler").newInputEl=s,o.dragDrop&&(o.dragDrop.dragContainer=o.dragDrop.dragContainer?b(o.dragDrop.dragContainer):s),(!o.limit||o.limit&&o.limit>=2)&&(v.attr("multiple","multiple"),"[]"!=v.attr("name").slice(-2)?v.attr("name",v.attr("name")+"[]"):null),v.attr("disabled")||o.disabled?(o.disabled=!0,n._unbindInput(!0),t.addClass("jFiler-disabled")):(o.disabled=!1,n._bindInput(),t.removeClass("jFiler-disabled")),o.files&&n._append(!1,{files:o.files}),null!=o.afterRender&&"function"==typeof o.afterRender?o.afterRender(r,t,s,v):null},_clear:function(){n.files=null,v.prop("jFiler").files=null,o.uploadFile||o.addMore||n._reset(),n._set("feedback",n._itFl&&n._itFl.length>0?n._itFl.length+" "+o.captions.feedback2:o.captions.feedback),null!=o.onEmpty&&"function"==typeof o.onEmpty?o.onEmpty(t,s,v):null},_reset:function(d){if(!d){if(!o.uploadFile&&o.addMore){for(var e=0;e<q.length;e++){q[e].remove()}q=[],n._unbindInput(!0),v=n._isGn?n._isGn:b(w),n._bindInput()}n._set("input","")}n._itFl=[],n._itFc=null,n._ajFc=0,n._set("props"),v.prop("jFiler").files_list=n._itFl,v.prop("jFiler").current_file=n._itFc,n._itFr=[],t.find("input[name^='jfiler-items-exclude-']:hidden").remove(),r.fadeOut("fast",function(){b(this).remove()}),v.prop("jFiler").listEl=r=b()},_set:function(d,c){switch(d){case"input":v.val(c);break;case"feedback":s.length>0&&s.find(".jFiler-input-caption span").html(c);break;case"props":v.prop("jFiler")||v.prop("jFiler",{options:o,listEl:r,boxEl:t,newInputEl:s,inputEl:v,files:n.files,files_list:n._itFl,current_file:n._itFc,append:function(e){return n._append(!1,{files:[e]})},enable:function(){o.disabled&&(o.disabled=!1,v.removeAttr("disabled"),t.removeClass("jFiler-disabled"),n._bindInput())},disable:function(){o.disabled||(o.disabled=!0,t.addClass("jFiler-disabled"),n._unbindInput(!0))},remove:function(e){return n._remove(null,{binded:!0,data:{id:e}}),!0},reset:function(){return n._reset(),n._clear(),!0},retry:function(e){return n._retryUpload(e)}})}},_filesCheck:function(){var g=0;if(o.limit&&n.files.length+n._itFl.length>o.limit){return o.dialogs.alert(n._assets.textParse(o.captions.errors.filesLimit)),!1}for(var k=0;k<n.files.length;k++){var j=n.files[k],i=j.name.split(".").pop().toLowerCase(),h={name:j.name,size:j.size,size2:n._assets.bytesToSize(j.size),type:j.type,ext:i};if(null!=o.extensions&&b.inArray(i,o.extensions)==-1&&b.inArray(h.type,o.extensions)==-1){return o.dialogs.alert(n._assets.textParse(o.captions.errors.filesType,h)),!1}if(null!=o.maxSize&&n.files[k].size>1048576*o.maxSize||null!=o.fileMaxSize&&n.files[k].size>1048576*o.fileMaxSize){return o.dialogs.alert(n._assets.textParse(o.captions.errors.filesSize,h)),!1}if(4096==j.size&&0==j.type.length){return o.dialogs.alert(n._assets.textParse(o.captions.errors.folderUpload,h)),!1}if(null!=o.onFileCheck&&"function"==typeof o.onFileCheck?o.onFileCheck(h,o,n._assets.textParse)===!1:null){return !1}if((o.uploadFile||o.addMore)&&!o.allowDuplicates){var h=n._itFl.filter(function(d,c){if(d.file.name==j.name&&d.file.size==j.size&&d.file.type==j.type&&(!j.lastModified||d.file.lastModified==j.lastModified)){return !0}});if(h.length>0){if(1==n.files.length){return !1}j._pendRemove=!0}}g+=n.files[k].size}return !(null!=o.maxSize&&g>=Math.round(1048576*o.maxSize))||(o.dialogs.alert(n._assets.textParse(o.captions.errors.filesSizeAll)),!1)},_thumbCreator:{create:function(F){var E=n.files[F],D=n._itFc?n._itFc.id:F,C=E.name,B=E.size,A=E.file,z=E.type?E.type.split("/",1):"".toString().toLowerCase(),y=C.indexOf(".")!=-1?C.split(".").pop().toLowerCase():"",m=o.uploadFile?'<div class="jFiler-jProgressBar">'+o.templates.progressBar+"</div>":"",l={id:D,name:C,size:B,size2:n._assets.bytesToSize(B),url:A,type:z,extension:y,icon:n._assets.getIcon(y,z),icon2:n._thumbCreator.generateIcon({type:z,extension:y}),image:'<div class="jFiler-item-thumb-image fi-loading"></div>',progressBar:m,_appended:E._appended},i="";return E.opts&&(l=b.extend({},E.opts,l)),i=b(n._thumbCreator.renderContent(l)).attr("data-jfiler-index",D),i.get(0).jfiler_id=D,n._thumbCreator.renderFile(E,i,l),E.forList?i:(n._itFc.html=i,i.hide()[o.templates.itemAppendToEnd?"appendTo":"prependTo"](r.find(o.templates._selectors.list)).show(),void (E._appended||n._onSelect(F)))},renderContent:function(c){return n._assets.textParse(c._appended?o.templates.itemAppend:o.templates.item,c)},renderFile:function(h,m,l){if(0==m.find(".jFiler-item-thumb-image").length){return !1}if(h.file&&"image"==l.type){var k='<img src="'+h.file+'" draggable="false" />',j=m.find(".jFiler-item-thumb-image.fi-loading");return b(k).error(function(){k=n._thumbCreator.generateIcon(l),m.addClass("jFiler-no-thumbnail"),j.removeClass("fi-loading").html(k)}).load(function(){j.removeClass("fi-loading").html(k)}),!0}if(window.File&&window.FileList&&window.FileReader&&"image"==l.type&&l.size<10000000){var i=new FileReader;i.onload=function(d){var c=m.find(".jFiler-item-thumb-image.fi-loading");if(o.templates.canvasImage){var A=document.createElement("canvas"),z=A.getContext("2d"),y=new Image;y.onload=function(){var J=c.height(),I=c.width(),H=y.height/J,G=y.width/I,F=H<G?H:G,E=y.height/F,D=y.width/F,C=Math.ceil(Math.log(y.width/D)/Math.log(2));if(A.height=J,A.width=I,y.width<A.width||y.height<A.height||C<=1){var B=y.width<A.width?A.width/2-y.width/2:y.width>A.width?-(y.width-A.width)/2:0,g=y.height<A.height?A.height/2-y.height/2:0;z.drawImage(y,B,g,y.width,y.height)}else{var f=document.createElement("canvas"),e=f.getContext("2d");f.width=0.5*y.width,f.height=0.5*y.height,e.fillStyle="#fff",e.fillRect(0,0,f.width,f.height),e.drawImage(y,0,0,f.width,f.height),e.drawImage(f,0,0,0.5*f.width,0.5*f.height),z.drawImage(f,D>A.width?D-A.width:0,0,0.5*f.width,0.5*f.height,0,0,D,E)}c.removeClass("fi-loading").html('<img src="'+A.toDataURL("image/png")+'" draggable="false" />')},y.onerror=function(){m.addClass("jFiler-no-thumbnail"),c.removeClass("fi-loading").html(n._thumbCreator.generateIcon(l))},y.src=d.target.result}else{c.removeClass("fi-loading").html('<img src="'+d.target.result+'" draggable="false" />')}},i.readAsDataURL(h)}else{var k=n._thumbCreator.generateIcon(l),j=m.find(".jFiler-item-thumb-image.fi-loading");m.addClass("jFiler-no-thumbnail"),j.removeClass("fi-loading").html(k)}},generateIcon:function(g){var k=new Array(3);if(g&&g.type&&g.type[0]&&g.extension){switch(g.type[0]){case"image":k[0]="f-image",k[1]='<i class="icon-jfi-file-image"></i>';break;case"video":k[0]="f-video",k[1]='<i class="icon-jfi-file-video"></i>';break;case"audio":k[0]="f-audio",k[1]='<i class="icon-jfi-file-audio"></i>';break;default:k[0]="f-file f-file-ext-"+g.extension,k[1]=g.extension.length>0?"."+g.extension:"",k[2]=1}}else{k[0]="f-file",k[1]=g.extension&&g.extension.length>0?"."+g.extension:"",k[2]=1}var j='<span class="jFiler-icon-file '+k[0]+'">'+k[1]+"</span>";if(1==k[2]){var i=n._assets.text2Color(g.extension);if(i){var h=b(j).appendTo("body");h.css("background-color",n._assets.text2Color(g.extension)),j=h.prop("outerHTML"),h.remove()}}return j},_box:function(e){if(null!=o.beforeShow&&"function"==typeof o.beforeShow&&!o.beforeShow(n.files,r,t,s,v)){return !1}if(r.length<1){if(o.appendTo){var g=b(o.appendTo)}else{var g=t}g.find(".jFiler-items").remove(),r=b('<div class="jFiler-items jFiler-row"></div>'),v.prop("jFiler").listEl=r,r.append(n._assets.textParse(o.templates.box)).appendTo(g),r.on("click",o.templates._selectors.remove,function(j){j.preventDefault();var i=[e?e.remove.event:j,e?e.remove.el:b(this).closest(o.templates._selectors.item)],h=function(c){n._remove(i[0],i[1])};o.templates.removeConfirmation?o.dialogs.confirm(o.captions.removeConfirmation,h):h()})}for(var f=0;f<n.files.length;f++){n.files[f]._appended||(n.files[f]._choosed=!0),n._addToMemory(f),n._thumbCreator.create(f)}}},_upload:function(e){var k=n._itFl[e],j=k.html,i=new FormData;if(i.append(v.attr("name"),k.file,!!k.file.name&&k.file.name),null!=o.uploadFile.data&&b.isPlainObject("function"==typeof o.uploadFile.data?o.uploadFile.data(k.file):o.uploadFile.data)){for(var h in o.uploadFile.data){i.append(h,o.uploadFile.data[h])}}n._ajax.send(j,i,k)},_ajax:{send:function(e,g,f){return f.ajax=b.ajax({url:o.uploadFile.url,data:g,type:o.uploadFile.type,enctype:o.uploadFile.enctype,xhr:function(){var d=b.ajaxSettings.xhr();return d.upload&&d.upload.addEventListener("progress",function(c){n._ajax.progressHandling(c,e)},!1),d},complete:function(d,c){f.ajax=!1,n._ajFc++,o.uploadFile.synchron&&f.id+1<n._itFl.length&&n._upload(f.id+1),n._ajFc>=n.files.length&&(n._ajFc=0,v.get(0).value="",null!=o.uploadFile.onComplete&&"function"==typeof o.uploadFile.onComplete?o.uploadFile.onComplete(r,t,s,v,d,c):null)},beforeSend:function(d,h){return null==o.uploadFile.beforeSend||"function"!=typeof o.uploadFile.beforeSend||o.uploadFile.beforeSend(e,r,t,s,v,f.id,d,h)},success:function(d,i,h){f.uploaded=!0,null!=o.uploadFile.success&&"function"==typeof o.uploadFile.success?o.uploadFile.success(d,e,r,t,s,v,f.id,i,h):null},error:function(d,i,h){f.uploaded=!1,null!=o.uploadFile.error&&"function"==typeof o.uploadFile.error?o.uploadFile.error(e,r,t,s,v,f.id,d,i,h):null},statusCode:o.uploadFile.statusCode,cache:!1,contentType:!1,processData:!1}),f.ajax},progressHandling:function(e,d){if(e.lengthComputable){var f=Math.round(100*e.loaded/e.total).toString();null!=o.uploadFile.onProgress&&"function"==typeof o.uploadFile.onProgress?o.uploadFile.onProgress(f,d,r,t,s,v):null,d.find(".jFiler-jProgressBar").find(o.templates._selectors.progressBar).css("width",f+"%")}}},_dragDrop:{dragEnter:function(c){clearTimeout(n._dragDrop._drt),o.dragDrop.dragContainer.addClass("dragged"),n._set("feedback",o.captions.drop),null!=o.dragDrop.dragEnter&&"function"==typeof o.dragDrop.dragEnter?o.dragDrop.dragEnter(c,s,v,t):null},dragLeave:function(c){clearTimeout(n._dragDrop._drt),n._dragDrop._drt=setTimeout(function(d){return n._dragDrop._dragLeaveCheck(d)?(o.dragDrop.dragContainer.removeClass("dragged"),n._set("feedback",o.captions.feedback),void (null!=o.dragDrop.dragLeave&&"function"==typeof o.dragDrop.dragLeave?o.dragDrop.dragLeave(d,s,v,t):null)):(n._dragDrop.dragLeave(d),!1)},100,c)},drop:function(c){clearTimeout(n._dragDrop._drt),o.dragDrop.dragContainer.removeClass("dragged"),n._set("feedback",o.captions.feedback),c&&c.originalEvent&&c.originalEvent.dataTransfer&&c.originalEvent.dataTransfer.files&&c.originalEvent.dataTransfer.files.length>0&&n._onChange(c,c.originalEvent.dataTransfer.files),null!=o.dragDrop.drop&&"function"==typeof o.dragDrop.drop?o.dragDrop.drop(c.originalEvent.dataTransfer.files,c,s,v,t):null},_dragLeaveCheck:function(e){var g=b(e.currentTarget),f=0;return !(!g.is(s)&&(f=s.find(g).length,f>0))}},_clipboardPaste:function(h,g){if((g||h.originalEvent.clipboardData||h.originalEvent.clipboardData.items)&&(!g||h.originalEvent.dataTransfer||h.originalEvent.dataTransfer.items)&&!n._clPsePre){var l=g?h.originalEvent.dataTransfer.items:h.originalEvent.clipboardData.items,k=function(H,G,F){G=G||"",F=F||512;for(var E=atob(H),D=[],C=0;C<E.length;C+=F){for(var B=E.slice(C,C+F),A=new Array(B.length),z=0;z<B.length;z++){A[z]=B.charCodeAt(z)}var y=new Uint8Array(A);D.push(y)}var m=new Blob(D,{type:G});return m};if(l){for(var j=0;j<l.length;j++){if(l[j].type.indexOf("image")!==-1||l[j].type.indexOf("text/uri-list")!==-1){if(g){try{window.atob(h.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1])}catch(h){return}}var i=g?k(h.originalEvent.dataTransfer.getData("text/uri-list").toString().split(",")[1],"image/png"):l[j].getAsFile();i.name=Math.random().toString(36).substring(5),i.name+=i.type.indexOf("/")!=-1?"."+i.type.split("/")[1].toString().toLowerCase():".png",n._onChange(h,[i]),n._clPsePre=setTimeout(function(){delete n._clPsePre},1000)}}}}},_onSelect:function(c){o.uploadFile&&!b.isEmptyObject(o.uploadFile)&&(!o.uploadFile.synchron||o.uploadFile.synchron&&0==b.grep(n._itFl,function(d){return d.ajax}).length)&&n._upload(n._itFc.id),n.files[c]._pendRemove&&(n._itFc.html.hide(),n._remove(null,{binded:!0,data:{id:n._itFc.id}})),null!=o.onSelect&&"function"==typeof o.onSelect?o.onSelect(n.files[c],n._itFc.html,r,t,s,v):null,c+1>=n.files.length&&(null!=o.afterShow&&"function"==typeof o.afterShow?o.afterShow(r,t,s,v):null)},_onChange:function(d,g){if(g){if(!g||0==g.length){return n._set("input",""),n._clear(),!1}n.files=g}else{if(!v.get(0).files||"undefined"==typeof v.get(0).files||0==v.get(0).files.length){return o.uploadFile||o.addMore||(n._set("input",""),n._clear()),!1}n.files=v.get(0).files}if(o.uploadFile||o.addMore||n._reset(!0),v.prop("jFiler").files=n.files,!n._filesCheck()||null!=o.beforeSelect&&"function"==typeof o.beforeSelect&&!o.beforeSelect(n.files,r,t,s,v)){return n._set("input",""),n._clear(),o.addMore&&q.length>0&&(n._unbindInput(!0),q[q.length-1].remove(),q.splice(q.length-1,1),v=q.length>0?q[q.length-1]:b(w),n._bindInput()),!1}if(n._set("feedback",n.files.length+n._itFl.length+" "+o.captions.feedback2),o.showThumbs){n._thumbCreator._box()}else{for(var e=0;e<n.files.length;e++){n.files[e]._choosed=!0,n._addToMemory(e),n._onSelect(e)}}},_append:function(f,e){var h=!!e&&e.files;if(h&&!(h.length<=0)&&(n.files=h,v.prop("jFiler").files=n.files,o.showThumbs)){for(var g=0;g<n.files.length;g++){n.files[g]._appended=!0}n._thumbCreator._box()}},_getList:function(g,e){var j=!!e&&e.files;if(j&&!(j.length<=0)&&(n.files=j,v.prop("jFiler").files=n.files,o.showThumbs)){for(var i=[],h=0;h<n.files.length;h++){n.files[h].forList=!0,i.push(n._thumbCreator.create(h))}e.callback&&e.callback(i,r,t,s,v)}},_retryUpload:function(e,i){var h=parseInt("object"==typeof i?i.attr("data-jfiler-index"):i),g=n._itFl.filter(function(d,c){return d.id==h});return g.length>0&&(!o.uploadFile||b.isEmptyObject(o.uploadFile)||g[0].uploaded?void 0:(n._itFc=g[0],v.prop("jFiler").current_file=n._itFc,n._upload(h),!0))},_remove:function(c,l){if(l.binded){if("undefined"!=typeof l.data.id&&(l=r.find(o.templates._selectors.item+"[data-jfiler-index='"+l.data.id+"']"),0==l.length)){return !1}l.data.el&&(l=l.data.el)}var h=function(f){var j=t.find("input[name^='jfiler-items-exclude-']:hidden").first();0==j.length&&(j=b('<input type="hidden" name="jfiler-items-exclude-'+(o.excludeName?o.excludeName:("[]"!=v.attr("name").slice(-2)?v.attr("name"):v.attr("name").substring(0,v.attr("name").length-2))+"-"+x)+'">'),j.appendTo(t)),f&&b.isArray(f)&&(f=JSON.stringify(f),j.val(f))},g=function(f,A){var z=n._itFl[A],y=[];if(z.file._choosed||z.file._appended||z.uploaded){n._itFr.push(z);for(var k=n._itFl.filter(function(d){return d.file.name==z.file.name}),j=0;j<n._itFr.length;j++){o.addMore&&n._itFr[j]==z&&k.length>0&&(n._itFr[j].remove_name=k.indexOf(z)+"://"+n._itFr[j].file.name),y.push(n._itFr[j].remove_name?n._itFr[j].remove_name:n._itFr[j].file.name)}}h(y),n._itFl.splice(A,1),n._itFl.length<1?(n._reset(),n._clear()):n._set("feedback",n._itFl.length+" "+o.captions.feedback2),f.fadeOut("fast",function(){b(this).remove()})},e=l.get(0).jfiler_id||l.attr("data-jfiler-index"),m=null;for(var i in n._itFl){"length"!==i&&n._itFl.hasOwnProperty(i)&&n._itFl[i].id==e&&(m=i)}return !!n._itFl.hasOwnProperty(m)&&(n._itFl[m].ajax?(n._itFl[m].ajax.abort(),void g(l,m)):void (null!=o.onRemove&&"function"==typeof o.onRemove&&o.onRemove(l,n._itFl[m].file,m,r,t,s,v)===!1||g(l,m)))},_addToMemory:function(c){n._itFl.push({id:n._itFl.length,file:n.files[c],html:b(),ajax:!1,uploaded:!1}),(o.addMore||n.files[c]._appended)&&(n._itFl[n._itFl.length-1].input=v),n._itFc=n._itFl[n._itFl.length-1],v.prop("jFiler").files_list=n._itFl,v.prop("jFiler").current_file=n._itFc},_assets:{bytesToSize:function(f){if(0==f){return"0 Byte"}var e=1000,h=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],g=Math.floor(Math.log(f)/Math.log(e));return(f/Math.pow(e,g)).toPrecision(3)+" "+h[g]},hasAttr:function(e,d){var d=d?d:v,f=d.attr(e);return !(!f||"undefined"==typeof f)},getIcon:function(e,g){var f=["audio","image","text","video"];return b.inArray(g,f)>-1?'<i class="icon-jfi-file-'+g+" jfi-file-ext-"+e+'"></i>':'<i class="icon-jfi-file-o jfi-file-type-'+g+" jfi-file-ext-"+e+'"></i>'},textParse:function(d,e){switch(e=b.extend({},{limit:o.limit,maxSize:o.maxSize,fileMaxSize:o.fileMaxSize,extensions:o.extensions?o.extensions.join(","):null},e&&b.isPlainObject(e)?e:{},o.options),typeof d){case"string":return d.replace(/\{\{fi-(.*?)\}\}/g,function(f,c){return c=c.replace(/ /g,""),c.match(/(.*?)\|limitTo\:(\d+)/)?c.replace(/(.*?)\|limitTo\:(\d+)/,function(h,g,j){var g=e[g]?e[g]:"",i=g.substring(0,j);return i=g.length>i.length?i.substring(0,i.length-3)+"...":i}):e[c]?e[c]:""});case"function":return d(e);default:return d}},text2Color:function(f){if(!f||0==f.length){return !1}for(var e=0,h=0;e<f.length;h=f.charCodeAt(e++)+((h<<5)-h)){}for(var e=0,g="#";e<3;g+=("00"+(h>>2*e++&255).toString(16)).slice(-2)){}return g}},files:null,_itFl:[],_itFc:null,_itFr:[],_itPl:[],_ajFc:0};return v.on("filer.append",function(d,c){n._append(d,c)}).on("filer.remove",function(d,c){c.binded=!0,n._remove(d,c)}).on("filer.reset",function(c){return n._reset(),n._clear(),!0}).on("filer.generateList",function(d,c){return n._getList(d,c)}).on("filer.retry",function(d,c){return n._retryUpload(d,c)}),n.init(),this})},b.fn.filer.defaults={limit:null,maxSize:null,fileMaxSize:null,extensions:null,changeInput:!0,showThumbs:!1,appendTo:null,theme:"default",templates:{box:'<ul class="jFiler-items-list jFiler-items-default"></ul>',item:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}</div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title" title="{{fi-name}}">{{fi-name | limitTo:30}}</div><div class="jFiler-item-others"><span>size: {{fi-size2}}</span><span>type: {{fi-extension}}</span><span class="jFiler-item-status">{{fi-progressBar}}</span></div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li></ul></div></div></div></div></li>',itemAppend:'<li class="jFiler-item"><div class="jFiler-item-container"><div class="jFiler-item-inner"><div class="jFiler-item-icon pull-left">{{fi-icon}}</div><div class="jFiler-item-info pull-left"><div class="jFiler-item-title">{{fi-name | limitTo:35}}</div><div class="jFiler-item-others"><span>size: {{fi-size2}}</span><span>type: {{fi-extension}}</span><span class="jFiler-item-status"></span></div><div class="jFiler-item-assets"><ul class="list-inline"><li><a class="icon-jfi-trash jFiler-item-trash-action"></a></li></ul></div></div></div></div></li>',progressBar:'<div class="bar"></div>',itemAppendToEnd:!1,removeConfirmation:!0,canvasImage:!0,_selectors:{list:".jFiler-items-list",item:".jFiler-item",progressBar:".bar",remove:".jFiler-item-trash-action"}},files:null,uploadFile:null,dragDrop:null,addMore:!1,allowDuplicates:!1,clipBoardPaste:!0,excludeName:null,beforeRender:null,afterRender:null,beforeShow:null,beforeSelect:null,onSelect:null,onFileCheck:null,afterShow:null,onRemove:null,onEmpty:null,options:null,dialogs:{alert:function(c){return alert(c)},confirm:function(d,c){confirm(d)?c():null}},captions:{button:"Choose Files",feedback:"Choose files To Upload",feedback2:"files were chosen",drop:"Drop file here to Upload",removeConfirmation:"Are you sure you want to remove this file?",errors:{filesLimit:"Only {{fi-limit}} files are allowed to be uploaded.",filesType:"Only Images are allowed to be uploaded.",filesSize:"{{fi-name}} is too large! Please upload file up to {{fi-fileMaxSize}} MB.",filesSizeAll:"Files you've choosed are too large! Please upload files up to {{fi-maxSize}} MB.",folderUpload:"You are not allowed to upload folders."}}}}(jQuery);