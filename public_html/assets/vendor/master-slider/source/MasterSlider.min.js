(function($){
/* @ifdef PRO */
;var LayerTypes={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};
/* @endif */
;window.MasterSlider=function(){this.options={forceInit:true,autoplay:false,loop:false,mouse:true,swipe:true,grabCursor:true,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,mobileBGVideo:false,heightLimit:true,smoothHeight:true,autoHeight:false,minHeight:-1,fullwidth:false,fullheight:false,autofill:false,layersMode:"center",hideLayers:false,endPause:false,centerControls:true,overPause:true,shuffle:false,speed:17,dir:"h",preload:0,wheel:false,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:false,parallaxMode:"mouse",rtl:false,deepLink:null,deepLinkType:"path",disablePlugins:[]};this.slides=[];this.activePlugins=[];this.$element=null;this.lastMargin=0;this.leftSpace=0;this.topSpace=0;this.rightSpace=0;this.bottomSpace=0;this._holdOn=0;var that=this;this.resize_listener=function(){that._resize()};$(window).bind("resize",this.resize_listener)};MasterSlider.author="Averta Ltd. (www.averta.net)";MasterSlider.version="/*@echo VERSION */";MasterSlider.releaseDate="/*@echo DATE */";MasterSlider._plugins=[];var MS=MasterSlider;MS.registerPlugin=function(plugin){if(MS._plugins.indexOf(plugin)===-1){MS._plugins.push(plugin)}};var p=MasterSlider.prototype;p.__setupSlides=function(){var that=this,new_slide,ind=0;this.$element.children(".ms-slide").each(function(index){var $slide_ele=$(this);new_slide=new MSSlide();new_slide.$element=$slide_ele;new_slide.slider=that;new_slide.delay=$slide_ele.data("delay")!==undefined?$slide_ele.data("delay"):3;new_slide.fillMode=$slide_ele.data("fill-mode")!==undefined?$slide_ele.data("fill-mode"):that.options.fillMode;new_slide.index=ind++;new_slide.id=$slide_ele.data("id");var slide_img=$slide_ele.children("img:not(.ms-layer)");if(slide_img.length>0){new_slide.setBG(slide_img[0])}
/* @ifdef PRO */
;var slide_video=$slide_ele.children("video");if(slide_video.length>0){new_slide.setBGVideo(slide_video)}
/* @endif */
;if(that.controls){for(var i=0,l=that.controls.length;i<l;++i){that.controls[i].slideAction(new_slide)}}var slide_link=$slide_ele.children("a").each(function(index){var $this=$(this);if(this.getAttribute("data-type")==="video"){new_slide.video=this.getAttribute("href");new_slide.videoAutoPlay=$this.data("autoplay");$this.remove()}else{if(!$this.hasClass("ms-layer")){new_slide.link=$(this)}}});
/* @ifdef PRO */
;that.__createSlideLayers(new_slide,$slide_ele.find(".ms-layer"));
/* @endif */
;that.slides.push(new_slide);that.slideController.view.addSlide(new_slide)})};p._setupOverlayLayers=function(){var self=this,$ollayers=this.$element.children(".ms-overlay-layers").eq(0);if(!$ollayers.length){return}var overlayLayers=new MSOverlayLayers(this);overlayLayers.$element=$ollayers;self.__createSlideLayers(overlayLayers,$ollayers.find(".ms-layer"));this.view.$element.prepend($ollayers);this.overlayLayers=overlayLayers;overlayLayers.create()};
/* @ifdef PRO */
;p.__createSlideLayers=function(slide,layers){if(layers.length==0){return}slide.setupLayerController();layers.each(function(index,domEle){var $layer_element=$(this),$parent_ele;if(domEle.nodeName==="A"&&$layer_element.find(">img").data("type")==="image"){$parent_ele=$(this);$layer_element=$parent_ele.find("img")}var layer=new (LayerTypes[$layer_element.data("type")||"text"])();layer.$element=$layer_element;layer.link=$parent_ele;layer.id=layer.$element.data("id");layer.waitForAction=layer.$element.data("wait");layer.masked=layer.$element.data("masked");layer.maskWidth=layer.$element.data("mask-width");layer.maskHeight=layer.$element.data("mask-height");var eff_parameters={},end_eff_parameters={};if($layer_element.data("effect")!==undefined){eff_parameters.name=$layer_element.data("effect")}if($layer_element.data("ease")!==undefined){eff_parameters.ease=$layer_element.data("ease")}if($layer_element.data("duration")!==undefined){eff_parameters.duration=$layer_element.data("duration")}if($layer_element.data("delay")!==undefined){eff_parameters.delay=$layer_element.data("delay")}if($layer_element.data("hide-effect")){end_eff_parameters.name=$layer_element.data("hide-effect")}if($layer_element.data("hide-ease")){end_eff_parameters.ease=$layer_element.data("hide-ease")}if($layer_element.data("hide-duration")!==undefined){end_eff_parameters.duration=$layer_element.data("hide-duration")}if($layer_element.data("hide-time")!==undefined){end_eff_parameters.time=$layer_element.data("hide-time")}layer.setStartAnim(eff_parameters);layer.setEndAnim(end_eff_parameters);slide.layerController.addLayer(layer)})};
/* @endif */
;p._removeLoading=function(){$(window).unbind("resize",this.resize_listener);this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0);CTween.fadeIn(this.$element);this.$loading.remove();if(this.slideController){this.slideController.__resize()}};p._resize=function(e){if(this.$loading){var h=this.$loading[0].clientWidth/this.aspect;h=this.options.heightLimit?Math.min(h,this.options.height):h;this.$loading.height(h);this.$element.height(h)}};p._shuffleSlides=function(){var slides=this.$element.children(".ms-slide"),r;for(var i=0,l=slides.length;i<l;++i){r=Math.floor(Math.random()*(l-1));if(i!=r){this.$element[0].insertBefore(slides[i],slides[r]);slides=this.$element.children(".ms-slide")}}};p._setupSliderLayout=function(){this._updateSideMargins();this.lastMargin=this.leftSpace;var lo=this.options.layout;if(lo!=="boxed"&&lo!=="partialview"){this.options.fullwidth=true}
/* @ifdef PRO */
;if(lo==="fullscreen"||lo==="autofill"){this.options.fullheight=true;if(lo==="autofill"){this.$autofillTarget=$(this.options.autofillTarget);if(this.$autofillTarget.length===0){this.$autofillTarget=this.$element.parent()}}}if(lo==="partialview"){this.$element.addClass("ms-layout-partialview")}
/* @endif */
;if(lo==="fullscreen"||lo==="fullwidth"||lo==="autofill"){$(window).bind("resize",{that:this},this._updateLayout);this._updateLayout()}$(window).bind("resize",this.slideController.resize_listener)};p._updateLayout=function(event){var that=event?event.data.that:this,lo=that.options.layout,$element=that.$element,$win=$(window);
/* @ifdef PRO */
;if(lo==="fullscreen"){document.body.style.overflow="hidden";$element.height($win.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace);document.body.style.overflow=""}else{if(lo==="autofill"){$element.height(that.$autofillTarget.height()-that.options.fullscreenMargin-that.topSpace-that.bottomSpace).width(that.$autofillTarget.width()-that.leftSpace-that.rightSpace);return}}
/* @endif */
;$element.width($win.width()-that.leftSpace-that.rightSpace);var margin=-$element.offset().left+that.leftSpace+that.lastMargin;$element.css("margin-left",margin);that.lastMargin=margin};p._init=function(){if(this._holdOn>0||!this._docReady){return}this.initialized=true;if(this.options.preload!=="all"){this._removeLoading()}if(this.options.shuffle){this._shuffleSlides()}
/* @ifdef PRO */
;MSLayerEffects.setup();
/* @endif */
;this.slideController.setupView();this.view=this.slideController.view;this.$controlsCont=$("<div></div>").addClass("ms-inner-controls-cont");if(this.options.centerControls){this.$controlsCont.css("max-width",this.options.width+"px")}this.$controlsCont.prepend(this.view.$element);this.$msContainer=$("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont);if(this.controls){for(var i=0,l=this.controls.length;i<l;++i){this.controls[i].setup()}}this._setupSliderLayout();this.__setupSlides();this.slideController.setup();this._setupOverlayLayers();if(this.controls){for(i=0,l=this.controls.length;i<l;++i){this.controls[i].create()}}if(this.options.autoHeight){this.slideController.view.$element.height(this.slideController.currentSlide.getHeight())}if(this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var $view=this.view.$element;$view.mousedown(function(){$view.removeClass("ms-grab-cursor");$view.addClass("ms-grabbing-cursor");if($.browser.msie&&window.ms_grabbing_curosr){$view[0].style.cursor="url("+window.ms_grabbing_curosr+"), move"}}).addClass("ms-grab-cursor");$(document).mouseup(function(){$view.removeClass("ms-grabbing-cursor");$view.addClass("ms-grab-cursor");if($.browser.msie&&window.ms_grab_curosr){$view[0].style.cursor="url("+window.ms_grab_curosr+"), move"}})}this.slideController.__dispatchInit()};p.setHeight=function(value){if(this.options.smoothHeight){if(this.htween){if(this.htween.reset){this.htween.reset()}else{this.htween.stop(true)}}this.htween=CTween.animate(this.slideController.view.$element,500,{height:value},{ease:"easeOutQuart"})}else{this.slideController.view.$element.height(value)}};p.reserveSpace=function(side,space){var sideSpace=side+"Space",pos=this[sideSpace];this[sideSpace]+=space;this._updateSideMargins();return pos};p._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")};p._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0;this._updateSideMargins();this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))};p.control=function(control,options){if(!(control in MSSlideController.SliderControlList)){return}if(!this.controls){this.controls=[]}var ins=new MSSlideController.SliderControlList[control](options);ins.slider=this;this.controls.push(ins);return this};p.holdOn=function(){this._holdOn++};p.release=function(){this._holdOn--;this._init()};p.setup=function(target,options){if(typeof target==="string"){this.$element=$("#"+target)}else{this.$element=target.eq(0)}this.setupMarkup=this.$element.html();if(this.$element.length===0){return}this.$element.addClass("master-slider").addClass("before-init");if($.browser.msie){this.$element.addClass("ms-ie").addClass("ms-ie"+$.browser.version.slice(0,$.browser.version.indexOf(".")))}else{if($.browser.webkit){this.$element.addClass("ms-wk")}else{if($.browser.mozilla){this.$element.addClass("ms-moz")}}}var ua=navigator.userAgent.toLowerCase();var isAndroid=ua.indexOf("android")>-1;if(isAndroid){this.$element.addClass("ms-android")}var that=this;$.extend(this.options,options);this.aspect=this.options.width/this.options.height;this.$loading=$("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append($("<div></div>").addClass("ms-loading"));this.$loading.parent().css("position","relative");if(this.options.autofill){this.options.fullwidth=true;this.options.fullheight=true}if(this.options.fullheight){this.$element.addClass("ms-fullheight")}this._resize();this.slideController=new MSSlideController(this);this.api=this.slideController;for(var i=0,l=MS._plugins.length;i!==l;i++){var plugin=MS._plugins[i];if(this.options.disablePlugins.indexOf(plugin.name)===-1){this.activePlugins.push(new plugin(this))}}if(this.options.forceInit){MasterSlider.addJQReadyErrorCheck(this)}$(document).ready(function(){if(!that.initialized){that._docReady=true;that._init()}});return this};p.destroy=function(insertMarkup){for(var i=0,l=this.activePlugins.length;i!==l;i++){this.activePlugins[i].destroy()}if(this.controls){for(i=0,l=this.controls.length;i!==l;i++){this.controls[i].destroy()}}if(this.slideController){this.slideController._destroy()}if(this.$loading){this.$loading.remove()}if(insertMarkup){this.$element.html(this.setupMarkup).css("visibility","hidden")}else{this.$element.remove()}var lo=this.options.layout;if(lo==="fullscreen"||lo==="fullwidth"){$(window).unbind("resize",this._updateLayout)}this.view=null;this.slides=null;this.options=null;this.slideController=null;this.api=null;this.resize_listener=null;this.activePlugins=null}})(jQuery);(function(d,b,a,g){var c="masterslider",e={controls:{}};function f(i,h){this.element=i;this.$element=d(i);this.settings=d.extend({},e,h);this._defaults=e;this._name=c;this.init()}d.extend(f.prototype,{init:function(){var h=this;this._slider=new MasterSlider();for(var j in this.settings.controls){this._slider.control(j,this.settings.controls[j])}this._slider.setup(this.$element,this.settings);var i=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(k){h.$element.trigger(k.type);i.call(this,k)}},api:function(){return this._slider.api},slider:function(){return this._slider}});d.fn[c]=function(i){var h=arguments,j="plugin_"+c;if(i===g||typeof i==="object"){return this.each(function(){if(!d.data(this,j)){d.data(this,j,new f(this,i))}})}else{if(typeof i==="string"&&i[0]!=="_"&&i!=="init"){var k;this.each(function(){var l=d.data(this,j);if(l instanceof f&&typeof l[i]==="function"){k=l[i].apply(l,Array.prototype.slice.call(h,1))}if(l instanceof f&&typeof l._slider.api[i]==="function"){k=l._slider.api[i].apply(l._slider.api,Array.prototype.slice.call(h,1))}if(i==="destroy"){d.data(this,j,null)}});return k!==g?k:this}}}})(jQuery,window,document);(function(e,d,c,g){var b=[];MasterSlider.addJQReadyErrorCheck=function(h){b.push(h)};var a=e.fn.ready,f=d.onerror;e.fn.ready=function(){d.onerror=function(){if(b.length!==0){for(var j=0,h=b.length;j!==h;j++){var k=b[j];if(!k.initialized){k._docReady=true;k._init()}}}if(f){return f.apply(this,arguments)}return false};return a.apply(this,arguments)}})(jQuery,window,document);