(function(b){window.MSSlideInfo=function(d){BaseControl.call(this,d);this.options.autohide=false;this.options.align=null;this.options.inset=false;this.options.margin=10;this.options.size=100;this.options.dir="h";b.extend(this.options,d);this.data_list=[]};MSSlideInfo.fadeDuratation=400;MSSlideInfo.extend(BaseControl);var c=MSSlideInfo.prototype;var a=BaseControl.prototype;c.setup=function(){this.$element=b("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir);a.setup.call(this);if(this.slider.$controlsCont===this.cont){this.$element.appendTo(this.slider.$element)}else{this.$element.appendTo(this.cont)}if(!this.options.insetTo&&this.options.align){var d=this.options.align;if(this.options.inset){this.$element.css(d,this.options.margin)}else{if(d==="top"){this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"})}else{if(d==="bottom"){this.$element.css({"margin-top":this.options.margin,position:"relative"})}else{this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this);this.align()}}}if(this.options.dir==="v"){this.$element.width(this.options.size)}else{this.$element.css("min-height",this.options.size)}}this.checkHideUnder()};c.align=function(d){if(this.detached){return}var f=this.options.align;var e=this.slider.reserveSpace(f,this.options.size+this.options.margin*2);this.$element.css(f,-e-this.options.size-this.options.margin)};c.slideAction=function(d){var f=b(d.$element.find(".ms-info"));var e=this;f.detach();this.data_list[d.index]=f};c.create=function(){a.create.call(this);this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.cindex=this.slider.api.index();this.switchEle(this.data_list[this.cindex])};c.update=function(){var d=this.slider.api.index();this.switchEle(this.data_list[d]);this.cindex=d};c.switchEle=function(e){if(this.current_ele){var d=this;if(this.current_ele[0].tween){this.current_ele[0].tween.stop(true)}this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach();this[0].tween=null;e.css("position","relative")},target:this.current_ele});e.css("position","absolute")}this.__show(e)};c.__show=function(d){d.appendTo(this.$element).css("opacity","0");if(this.current_ele){d.height(Math.max(d.height(),this.current_ele.height()))}clearTimeout(this.tou);this.tou=setTimeout(function(){CTween.fadeIn(d,MSSlideInfo.fadeDuratation);d.css("height","")},MSSlideInfo.fadeDuratation);if(d[0].tween){d[0].tween.stop(true)}this.current_ele=d};c.destroy=function(){a.destroy();clearTimeout(this.tou);if(this.current_ele&&this.current_ele[0].tween){this.current_ele[0].tween.stop("true")}this.$element.remove();this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this);this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)};MSSlideController.registerControl("slideinfo",MSSlideInfo)})(jQuery);