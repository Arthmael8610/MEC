(function(b){var a=function(){this.options={prefix:"ms-",autohide:true,overVideo:true,customClass:null}};var c=a.prototype;c.slideAction=function(d){};c.setup=function(){this.cont=this.options.insertTo?b(this.options.insertTo):this.slider.$controlsCont;if(!this.options.overVideo){this._hideOnvideoStarts()}};c.checkHideUnder=function(){if(this.options.hideUnder){this.needsRealign=!this.options.insetTo&&(this.options.align==="left"||this.options.align==="right")&&this.options.inset===false;b(window).bind("resize",{that:this},this.onResize);this.onResize()}};c.onResize=function(f){var e=(f&&f.data.that)||this;var d=window.innerWidth;if(d<=e.options.hideUnder&&!e.detached){e.hide(true);e.detached=true;e.onDetach()}else{if(d>=e.options.hideUnder&&e.detached){e.detached=false;e.visible();e.onAppend()}}};c.create=function(){var d=this;if(this.options.autohide){this.hide(true);this.slider.$controlsCont.mouseenter(b.proxy(this._onMouseEnter,this)).mouseleave(b.proxy(this._onMouseLeave,this)).mousedown(b.proxy(this._onMouseDown,this));if(this.$element){this.$element.mouseenter(b.proxy(this._onMouseEnter,this)).mouseleave(b.proxy(this._onMouseLeave,this)).mousedown(b.proxy(this._onMouseDown,this))}b(document).mouseup(b.proxy(this._onMouseUp,this))}if(this.options.align){this.$element.addClass("ms-align-"+this.options.align)}if(this.options.customClass&&this.$element){this.$element.addClass(this.options.customClass)}};c._onMouseEnter=function(){if(!this._disableAH&&!this.mdown){this.visible()}this.mleave=false};c._onMouseLeave=function(){if(!this.mdown){this.hide()}this.mleave=true};c._onMouseDown=function(){this.mdown=true};c._onMouseUp=function(){if(this.mdown&&this.mleave){this.hide()}this.mdown=false};c.onAppend=function(){if(this.needsRealign){this.slider._realignControls()}};c.onDetach=function(){if(this.needsRealign){this.slider._realignControls()}};c._hideOnvideoStarts=function(){var d=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){d._disableAH=true;d.hide()});this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){d._disableAH=false;d.visible()})};c.hide=function(e){if(e){this.$element.css("opacity",0);this.$element.css("display","none")}else{clearTimeout(this.hideTo);var d=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut(d,400,false)},20)}this.$element.addClass("ms-ctrl-hide")};c.visible=function(){if(this.detached){return}clearTimeout(this.hideTo);this.$element.css("display","");CTween.fadeIn(this.$element,400,false);this.$element.removeClass("ms-ctrl-hide")};c.destroy=function(){if(this.options&&this.options.hideUnder){b(window).unbind("resize",this.onResize)}};window.BaseControl=a})(jQuery);