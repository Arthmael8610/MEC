(function(c){var a=function(e){BaseControl.call(this);this.options.dir="h";this.options.inset=true;this.options.margin=10;this.options.space=10;c.extend(this.options,e);this.bullets=[]};a.extend(BaseControl);var d=a.prototype;var b=BaseControl.prototype;d.setup=function(){b.setup.call(this);this.$element=c("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont);this.$bullet_cont=c("<div></div>").addClass("ms-bullets-count").appendTo(this.$element);if(!this.options.insetTo&&this.options.align){var e=this.options.align;if(this.options.inset){this.$element.css(e,this.options.margin)}}this.checkHideUnder()};d.create=function(){b.create.call(this);var g=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.cindex=this.slider.api.index();for(var f=0;f<this.slider.api.count();++f){var e=c("<div></div>").addClass("ms-bullet");e[0].index=f;e.on("click",function(){g.changeSlide(this.index)});this.$bullet_cont.append(e);this.bullets.push(e);if(this.options.dir==="h"){e.css("margin",this.options.space/2)}else{e.css("margin",this.options.space)}}if(this.options.dir==="h"){this.$element.width(e.outerWidth(true)*this.slider.api.count())}else{this.$element.css("margin-top",-this.$element.outerHeight(true)/2)}this.select(this.bullets[this.cindex])};d.update=function(){var e=this.slider.api.index();if(this.cindex===e){return}if(this.cindex!=null){this.unselect(this.bullets[this.cindex])}this.cindex=e;this.select(this.bullets[this.cindex])};d.changeSlide=function(e){if(this.cindex===e){return}this.slider.api.gotoSlide(e)};d.unselect=function(e){e.removeClass("ms-bullet-selected")};d.select=function(e){e.addClass("ms-bullet-selected")};d.destroy=function(){b.destroy();this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this);this.$element.remove()};window.MSBulltes=a;MSSlideController.registerControl("bullets",a)})(jQuery);