(function(a,d,g){var c={"hue-rotate":"deg",blur:"px"},e={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(!d.MasterSlider){return}var b=function(h){this.slider=h;if(this.slider.options.filters){h.api.addEventListener(MSSliderEvent.INIT,this.init,this)}};b.name="MSFilters";var f=b.prototype;f.init=function(){var j=this.slider.api,h=j.view;this.filters=this.slider.options.filters;this.slideList=h.slideList;this.slidesCount=h.slidesCount;this.dimension=h[h.__dimension];this.target=this.slider.options.filterTarget==="slide"?"$element":"$bg_img";this.filterName=$.browser.webkit?"WebkitFilter":"filter";var k=h.controller.__renderHook.fun,i=h.controller.__renderHook.ref;h.controller.renderCallback(function(l,m){k.call(i,l,m);this.applyEffect(m)},this);this.applyEffect(h.controller.value)};f.applyEffect=function(l){var k,h;for(var j=0;j<this.slidesCount;++j){h=this.slideList[j];k=Math.min(1,Math.abs(l-h.position)/this.dimension);if(h[this.target]){if(!$.browser.msie){h[this.target][0].style[this.filterName]=this.generateStyle(k)}else{if(this.filters.opacity!=null){h[this.target].opacity(1-this.filters.opacity*k)}}}}};f.generateStyle=function(h){var j="",k;for(var i in this.filters){k=c[i]||"";j+=i+"("+(e[i]+(this.filters[i]-e[i])*h)+") "}return j};f.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)};MasterSlider.registerPlugin(b)})(document,window,jQuery);