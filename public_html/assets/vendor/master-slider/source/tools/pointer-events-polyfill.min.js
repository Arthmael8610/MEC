(function(a){var b=function(c){this.options=a.extend({},b.defaultOptions,c);this.isEnabled=false;if(this.options.forcePolyfill||!this.supportsPointerEvents()){this.registerEvents();this.isEnabled=true}};b.defaultOptions={forcePolyfill:false,selector:"*",listenOn:["click","dblclick","mousedown","mouseup"],pointerEventsNoneClass:null,pointerEventsAllClass:null,eventNamespace:"pointer-events-polyfill"};b.prototype.registerEvents=function(){a(document).on(this.getEventNames(),this.options.selector,a.proxy(this.onElementClick,this))};b.prototype.getEventNames=function(){var c=this.options.eventNamespace?"."+this.options.eventNamespace:"";return this.options.listenOn.join(c+" ")+c};b.prototype.supportsPointerEvents=function(){var c=document.createElement("a").style;c.cssText="pointer-events:auto";return c.pointerEvents==="auto"};b.prototype.isClickThrough=function(c){var d=c.css("pointer-events");if(c.length===0||d==="all"||c.is(":root")||c.hasClass(this.options.pointerEventsAllClass)){return false}if(d==="none"||c.hasClass(this.options.pointerEventsNoneClass)||this.isClickThrough(c.parent())){return true}return false};b.prototype.onElementClick=function(c){var f=a(c.target);if(!this.isClickThrough(f)){return true}f.hide();var d=document.elementFromPoint(c.clientX,c.clientY);c.target=d;a(d).trigger(c);if(d.tagName==="A"){if(c.which===2){window.open(d.getAttribute("href"),"_blank")}else{d.click()}}f.show();return false};b.prototype.destroy=function(){a(document).off(this.getEventNames());this.isEnabled=false};window.pointerEventsPolyfill=function(c){return new b(c)}})(jQuery);