(function(){averta.Ticker=function(){};var b=averta.Ticker,d=[],a=0,c=true;b.add=function(g,f){d.push([g,f]);if(d.length===1){b.start()}a=d.length;return a};b.remove=function(j,h){for(var g=0,f=d.length;g<f;++g){if(d[g]&&d[g][0]===j&&d[g][1]===h){d.splice(g,1)}}a=d.length;if(a===0){b.stop()}};b.start=function(){if(!c){return}c=false;e()};b.stop=function(){c=true};var e=function(){if(b.__stopped){return}var g;for(var f=0;f!==a;f++){g=d[f];g[0].call(g[1])}requestAnimationFrame(e)}})();(function(){if(!Date.now){Date.now=function(){return new Date().getTime()}}averta.Timer=function(b,a){this.delay=b;this.currentCount=0;this.paused=false;this.onTimer=null;this.refrence=null;if(a){this.start()}};averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=false;this.lastTime=Date.now();averta.Ticker.add(this.update,this)},stop:function(){this.paused=true;averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0;this.paused=true;this.lastTime=Date.now()},update:function(){if(this.paused||Date.now()-this.lastTime<this.delay){return}this.currentCount++;this.lastTime=Date.now();if(this.onTimer){this.onTimer.call(this.refrence,this.getTime())}},getTime:function(){return this.delay*this.currentCount}}})();