(function(){window.MSAligner=function(c,d,b){this.$container=d;this.$img=b;this.type=c||"stretch";this.widthOnly=false;this.heightOnly=false};var a=MSAligner.prototype;a.init=function(b,c){this.baseWidth=b;this.baseHeight=c;this.imgRatio=b/c;this.imgRatio2=c/b;switch(this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")");this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")");this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"});this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=true;this.align();break}};a.align=function(){if(!this.needAlign){return}var d=this.$container[0].offsetWidth;var b=this.$container[0].offsetHeight;var c=d/b;if(this.type=="fill"){if(this.imgRatio<c){this.$img.width(d);this.$img.height(d*this.imgRatio2)}else{this.$img.height(b);this.$img.width(b*this.imgRatio)}}else{if(this.type=="fit"){if(this.imgRatio<c){this.$img.height(b);this.$img.width(b*this.imgRatio)}else{this.$img.width(d);this.$img.height(d*this.imgRatio2)}}}this.setMargin()};a.setMargin=function(){var c=this.$container[0].offsetWidth;var b=this.$container[0].offsetHeight;this.$img.css("margin-top",(b-this.$img[0].offsetHeight)/2+"px");this.$img.css("margin-left",(c-this.$img[0].offsetWidth)/2+"px")}})();