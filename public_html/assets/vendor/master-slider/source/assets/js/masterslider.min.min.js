/*! 
 * Master Slider – Responsive Touch Swipe Slider
 * Copyright © 2016 All Rights Reserved. 
 *
 * @author Averta [www.averta.net]
 * @version 2.50.0
 * @date Aug 2016
 */
;window.averta={},function($){function getVendorPrefix(){if("result" in arguments.callee){return arguments.callee.result}var regex=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,someScript=document.getElementsByTagName("script")[0];for(var prop in someScript.style){if(regex.test(prop)){return arguments.callee.result=prop.match(regex)[0]}}return arguments.callee.result="WebkitOpacity" in someScript.style?"Webkit":"KhtmlOpacity" in someScript.style?"Khtml":""}function checkStyleValue(prop){var b=document.body||document.documentElement,s=b.style,p=prop;if("string"==typeof s[p]){return !0}v=["Moz","Webkit","Khtml","O","ms"],p=p.charAt(0).toUpperCase()+p.substr(1);for(var i=0;i<v.length;i++){if("string"==typeof s[v[i]+p]){return !0}}return !1}function supportsTransitions(){return checkStyleValue("transition")}function supportsTransforms(){return checkStyleValue("transform")}function supports3DTransforms(){if(!supportsTransforms()){return !1}var has3d,el=document.createElement("i"),transforms={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};el.style.display="block",document.body.insertBefore(el,null);for(var t in transforms){void 0!==el.style[t]&&(el.style[t]="translate3d(1px,1px,1px)",has3d=window.getComputedStyle(el).getPropertyValue(transforms[t]))}return document.body.removeChild(el),null!=has3d&&has3d.length>0&&"none"!==has3d}window["package"]=function(name){window[name]||(window[name]={})};var extend=function(target,object){for(var key in object){target[key]=object[key]}};Function.prototype.extend=function(superclass){"function"==typeof superclass.prototype.constructor?(extend(this.prototype,superclass.prototype),this.prototype.constructor=this):(this.prototype.extend(superclass),this.prototype.constructor=this)};var trans={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart" in document,$(document).ready(function(){window._jcsspfx=getVendorPrefix(),window._csspfx=trans[window._jcsspfx],window._cssanim=supportsTransitions(),window._css3d=supports3DTransforms(),window._css2d=supportsTransforms()}),window.parseQueryString=function(url){var queryString={};return url.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function($0,$1,$2,$3){queryString[$1]=$3}),queryString};var fps60=50/3;if(window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){window.setTimeout(callback,fps60)}}()),window.getComputedStyle||(window.getComputedStyle=function(el){return this.el=el,this.getPropertyValue=function(prop){var re=/(\-([a-z]){1})/g;return"float"==prop&&(prop="styleFloat"),re.test(prop)&&(prop=prop.replace(re,function(){return arguments[2].toUpperCase()})),el.currentStyle[prop]?el.currentStyle[prop]:null},el.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length>>>0,from=Number(arguments[1])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++){if(from in this&&this[from]===elt){return from}}return -1}),window.isMSIE=function(version){if(!$.browser.msie){return !1}if(!version){return !0}var ieVer=$.browser.version.slice(0,$.browser.version.indexOf("."));return"string"==typeof version?eval(-1!==version.indexOf("<")||-1!==version.indexOf(">")?ieVer+version:version+"=="+ieVer):version==ieVer},$.removeDataAttrs=function($target,exclude){var i,attrName,dataAttrsToDelete=[],dataAttrs=$target[0].attributes,dataAttrsLen=dataAttrs.length;for(exclude=exclude||[],i=0;dataAttrsLen>i;i++){attrName=dataAttrs[i].name,"data-"===attrName.substring(0,5)&&-1===exclude.indexOf(attrName)&&dataAttrsToDelete.push(dataAttrs[i].name)}$.each(dataAttrsToDelete,function(index,attrName){$target.removeAttr(attrName)})},jQuery){$.jqLoadFix=function(){if(this.complete){var that=this;setTimeout(function(){$(that).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(ua){ua=ua.toLowerCase();var match=/(chrome)[ \/]([\w.]+)/.exec(ua)||/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||ua.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0);var isIE11=!!navigator.userAgent.match(/Trident\/7\./);isIE11&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,$.fn.preloadImg=function(src,_event){return this.each(function(){var $this=$(this),self=this,img=new Image;img.onload=function(event){null==event&&(event={}),$this.attr("src",src),event.width=img.width,event.height=img.height,$this.data("width",img.width),$this.data("height",img.height),setTimeout(function(){_event.call(self,event)},50),img=null},img.src=src}),this}}}(jQuery),function(){averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(b){var a=new averta.EventDispatcher;for(var c in a){"constructor"!=c&&(b[c]=averta.EventDispatcher.prototype[c])}},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(b,c,a){this.listeners[b]||(this.listeners[b]=[]),this.listeners[b].push({listener:c,ref:a})},removeEventListener:function(c,d,b){if(this.listeners[c]){for(var a=0;a<this.listeners[c].length;++a){d===this.listeners[c][a].listener&&b===this.listeners[c][a].ref&&this.listeners[c].splice(a--,1)}0===this.listeners[c].length&&(this.listeners[c]=null)}},dispatchEvent:function(c){if(c.target=this,this.listeners[c.type]){for(var b=0,a=this.listeners[c.type].length;a>b;++b){this.listeners[c.type][b].listener.call(this.listeners[c.type][b].ref,c)}}}}}(),function(g){var e="ontouchstart" in document,h=window.navigator.pointerEnabled,f=!h&&window.navigator.msPointerEnabled,i=h||f,c=(h?"pointerdown ":"")+(f?"MSPointerDown ":"")+(e?"touchstart ":"")+"mousedown",a=(h?"pointermove ":"")+(f?"MSPointerMove ":"")+(e?"touchmove ":"")+"mousemove",d=(h?"pointerup ":"")+(f?"MSPointerUp ":"")+(e?"touchend ":"")+"mouseup",j=(h?"pointercancel ":"")+(f?"MSPointerCancel ":"")+"touchcancel";averta.TouchSwipe=function(k){this.$element=k,this.enabled=!0,k.bind(c,{target:this},this.__touchStart),k[0].swipe=this,this.onSwipe=null,this.swipeType="horizontal",this.noSwipeSelector="input, textarea, button, .no-swipe, .ms-no-swipe",this.lastStatus={}};var b=averta.TouchSwipe.prototype;b.getDirection=function(l,k){switch(this.swipeType){case"horizontal":return l<=this.start_x?"left":"right";case"vertical":return k<=this.start_y?"up":"down";case"all":return Math.abs(l-this.start_x)>Math.abs(k-this.start_y)?l<=this.start_x?"left":"right":k<=this.start_y?"up":"down"}},b.priventDefultEvent=function(n,m){var l=Math.abs(n-this.start_x),k=Math.abs(m-this.start_y),o=l>k;return"horizontal"===this.swipeType&&o||"vertical"===this.swipeType&&!o},b.createStatusObject=function(k){var m,l,n={};return m=this.lastStatus.distanceX||0,l=this.lastStatus.distanceY||0,n.distanceX=k.pageX-this.start_x,n.distanceY=k.pageY-this.start_y,n.moveX=n.distanceX-m,n.moveY=n.distanceY-l,n.distance=parseInt(Math.sqrt(Math.pow(n.distanceX,2)+Math.pow(n.distanceY,2))),n.duration=(new Date).getTime()-this.start_time,n.direction=this.getDirection(k.pageX,k.pageY),n},b.__reset=function(m,l){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime();var k=this.__getPoint(m,l);this.start_x=k.pageX,this.start_y=k.pageY},b.__touchStart=function(o){var n=o.data.target,m=o;if(n.enabled&&!(g(o.target).closest(n.noSwipeSelector,n.$element).length>0)){if(o=o.originalEvent,i&&g(this).css("-ms-touch-action","horizontal"===n.swipeType?"pan-y":"pan-x"),!n.onSwipe){return void g.error("Swipe listener is undefined")}if(!(n.touchStarted||e&&n.start_time&&"mousedown"===o.type&&(new Date).getTime()-n.start_time<600)){var k=n.__getPoint(o,m);n.start_x=k.pageX,n.start_y=k.pageY,n.start_time=(new Date).getTime(),g(document).bind(d,{target:n},n.__touchEnd).bind(a,{target:n},n.__touchMove).bind(j,{target:n},n.__touchCancel);var l=n.createStatusObject(k);l.phase="start",n.onSwipe.call(null,l),e||m.preventDefault(),n.lastStatus=l,n.touchStarted=!0}}},b.__touchMove=function(o){var n=o.data.target,m=o;if(o=o.originalEvent,n.touchStarted){clearTimeout(n.timo),n.timo=setTimeout(function(){n.__reset(o,m)},60);var k=n.__getPoint(o,m),l=n.createStatusObject(k);n.priventDefultEvent(k.pageX,k.pageY)&&m.preventDefault(),l.phase="move",n.lastStatus=l,n.onSwipe.call(null,l)}},b.__touchEnd=function(n){var m=n.data.target,l=n;n=n.originalEvent,clearTimeout(m.timo);var k=m.lastStatus;e||l.preventDefault(),k.phase="end",m.touchStarted=!1,m.priventEvt=null,g(document).unbind(d,m.__touchEnd).unbind(a,m.__touchMove).unbind(j,m.__touchCancel),k.speed=k.distance/k.duration,m.onSwipe.call(null,k)},b.__touchCancel=function(l){var k=l.data.target;k.__touchEnd(l)},b.__getPoint=function(l,k){return e&&-1===l.type.indexOf("mouse")?l.touches[0]:i?l:k},b.enable=function(){this.enabled||(this.enabled=!0)},b.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){averta.Ticker=function(){};var b=averta.Ticker,d=[],a=0,c=!0;b.add=function(g,f){return d.push([g,f]),1===d.length&&b.start(),a=d.length},b.remove=function(j,h){for(var g=0,f=d.length;f>g;++g){d[g]&&d[g][0]===j&&d[g][1]===h&&d.splice(g,1)}a=d.length,0===a&&b.stop()},b.start=function(){c&&(c=!1,e())},b.stop=function(){c=!0};var e=function(){if(!b.__stopped){for(var g,f=0;f!==a;f++){g=d[f],g[0].call(g[1])}requestAnimationFrame(e)}}}(),function(){Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(b,a){this.delay=b,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,a&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){window.CSSTween=function(c,d,b,e){this.$element=c,this.duration=d||1000,this.delay=b||0,this.ease=e||"linear"};var a=CSSTween.prototype;a.to=function(c,b){return this.to_cb=c,this.to_cb_target=b,this},a.from=function(c,b){return this.fr_cb=c,this.fr_cb_target=b,this},a.onComplete=function(c,b){return this.oc_fb=c,this.oc_fb_target=b,this},a.chain=function(b){return this.chained_tween=b,this},a.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},a.start=function(){var b=this.$element[0];clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(b.style[window._jcsspfx+"TransitionDuration"]="0ms",this.fr_cb.call(this.fr_cb_target));var c=this;return this.onTransComplete=function(){c.fresh&&(c.reset(),b.style[window._jcsspfx+"TransitionDuration"]="",b.style[window._jcsspfx+"TransitionProperty"]="",b.style[window._jcsspfx+"TransitionTimingFunction"]="",b.style[window._jcsspfx+"TransitionDelay"]="",c.fresh=!1,c.chained_tween&&c.chained_tween.start(),c.oc_fb&&c.oc_fb.call(c.oc_fb_target))},this.start_to=setTimeout(function(){c.$element&&(b.style[window._jcsspfx+"TransitionDuration"]=c.duration+"ms",b.style[window._jcsspfx+"TransitionProperty"]=c.transProperty||"all",b.style[window._jcsspfx+"TransitionDelay"]=c.delay>0?c.delay+"ms":"",b.style[window._jcsspfx+"TransitionTimingFunction"]=c.ease,c.to_cb&&c.to_cb.call(c.to_cb_target),c.end_to=setTimeout(function(){c.onTransComplete()},c.duration+(c.delay||0)))},1),this}}(),function(){function b(f,e){if(void 0!==e.x||void 0!==e.y){if(a){var d=window._jcsspfx+"Transform";void 0!==e.x&&(e[d]=(e[d]||"")+" translateX("+e.x+"px)",delete e.x),void 0!==e.y&&(e[d]=(e[d]||"")+" translateY("+e.y+"px)",delete e.y)}else{if(void 0!==e.x){var c="auto"!==f.css("right")?"right":"left";e[c]=e.x+"px",delete e.x}if(void 0!==e.y){var g="auto"!==f.css("bottom")?"bottom":"top";e[g]=e.y+"px",delete e.y}}}return e}var a=null;window.CTween={},CTween.setPos=function(c,d){c.css(b(c,d))},CTween.animate=function(g,h,f,d){if(null==a&&(a=window._cssanim),d=d||{},b(g,f),a){var e=new CSSTween(g,h,d.delay,EaseDic[d.ease]);return d.transProperty&&(e.transProperty=d.transProperty),e.to(function(){g.css(f)}),d.complete&&e.onComplete(d.complete,d.target),e.start(),e.stop=e.reset,e}var c;return d.delay&&g.delay(d.delay),d.complete&&(c=function(){d.complete.call(d.target)}),g.stop(!0).animate(f,h,d.ease||"linear",c),g},CTween.fadeOut=function(f,e,c){var d={};c===!0?d.complete=function(){f.remove()}:2===c&&(d.complete=function(){f.css("display","none")}),CTween.animate(f,e||1000,{opacity:0},d)},CTween.fadeIn=function(e,d,c){c!==!1&&e.css("opacity",0).css("display",""),CTween.animate(e,d||1000,{opacity:1})}}(),function(){window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"}}(),function(){window.MSAligner=function(c,d,b){this.$container=d,this.$img=b,this.type=c||"stretch",this.widthOnly=!1,this.heightOnly=!1};var a=MSAligner.prototype;a.init=function(b,c){switch(this.baseWidth=b,this.baseHeight=c,this.imgRatio=b/c,this.imgRatio2=c/b,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},a.align=function(){if(this.needAlign){var d=this.$container.width(),b=this.$container.height(),c=d/b;"fill"==this.type?this.imgRatio<c?(this.$img.width(d),this.$img.height(d*this.imgRatio2)):(this.$img.height(b),this.$img.width(b*this.imgRatio)):"fit"==this.type&&(this.imgRatio<c?(this.$img.height(b),this.$img.width(b*this.imgRatio)):(this.$img.width(d),this.$img.height(d*this.imgRatio2))),this.setMargin()}},a.setMargin=function(){var c=this.$container.width(),b=this.$container.height();this.$img.css("margin-top",(b-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(c-this.$img[0].offsetWidth)/2+"px")}}(),function(a){var b=function(c){this.options=a.extend({},b.defaultOptions,c),this.isEnabled=!1,(this.options.forcePolyfill||!this.supportsPointerEvents())&&(this.registerEvents(),this.isEnabled=!0)};b.defaultOptions={forcePolyfill:!1,selector:"*",listenOn:["click","dblclick","mousedown","mouseup"],pointerEventsNoneClass:null,pointerEventsAllClass:null,eventNamespace:"pointer-events-polyfill"},b.prototype.registerEvents=function(){a(document).on(this.getEventNames(),this.options.selector,a.proxy(this.onElementClick,this))},b.prototype.getEventNames=function(){var c=this.options.eventNamespace?"."+this.options.eventNamespace:"";return this.options.listenOn.join(c+" ")+c},b.prototype.supportsPointerEvents=function(){var c=document.createElement("a").style;return c.cssText="pointer-events:auto","auto"===c.pointerEvents},b.prototype.isClickThrough=function(c){var d=c.css("pointer-events");return 0===c.length||"all"===d||c.is(":root")||c.hasClass(this.options.pointerEventsAllClass)?!1:"none"===d||c.hasClass(this.options.pointerEventsNoneClass)||this.isClickThrough(c.parent())?!0:!1},b.prototype.onElementClick=function(c){var f=a(c.target);if(!this.isClickThrough(f)){return !0}f.hide();var d=document.elementFromPoint(c.clientX,c.clientY);return c.target=d,a(d).trigger(c),"A"===d.tagName&&(2===c.which?window.open(d.getAttribute("href"),"_blank"):d.click()),f.show(),!1},b.prototype.destroy=function(){a(document).off(this.getEventNames()),this.isEnabled=!1},window.pointerEventsPolyfill=function(c){return new b(c)}}(jQuery),function(){var a={bouncing:!0,snapping:!1,snapsize:null,friction:0.05,outFriction:0.05,outAcceleration:0.09,minValidDist:0.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},c=function(g,d,e){if(null===d||null===g){throw new Error("Max and Min values are required.")}this.options=e||{};for(var f in a){f in this.options||(this.options[f]=a[f])}this._max_value=d,this._min_value=g,this.value=g,this.end_loc=g,this.current_snap=this.getSnapNum(g),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},b=c.prototype;b.changeTo=function(m,f,g,n,k){if(this.stopped=!1,this._internalStop(),m=this._checkLimits(m),g=Math.abs(g||0),this.options.snapping&&(n=n||this.getSnapNum(m),k!==!1&&this._callsnapChange(n),this.current_snap=n),f){this.animating=!0;var p=this,l=++p.__animID,e=m-p.value,j=0,h=m,d=1-p.options.friction,o=d+(g-20)*d*1.3/p.options.maxSpeed,i=function(){if(l===p.__animID){var q=m-p.value;if(!(Math.abs(q)>p.options.minValidDist&&p.animating)){return p.animating&&(p.value=m,p._callrenderer()),p.animating=!1,l!==p.__animID&&(p.__animID=-1),void p._callonComplete("anim")}window.requestAnimationFrame(i),p.value=h-e*Math.exp(-++j*o),p._callrenderer()}};return void i()}this.value=m,this._callrenderer()},b.drag=function(d){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=d,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=0.6*d):this.value=this.value>this._max_value?this._max_value:0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},b.push=function(e){if(this.stopped=!1,this.options.snapping&&Math.abs(e)<=this.options.snappingMinSpeed){return void this.cancel()}if(this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this.options.snapping){var f=this.getSnapNum(this.value),d=this.getSnapNum(this.end_loc);if(this.options.paging){return f=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void (e>0?this.gotoSnap(f+1,!0,e):this.gotoSnap(f-1,!0,e))}if(f===d){return void this.cancel()}this._callsnapChange(d),this.current_snap=d}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()},b.bounce=function(d){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=d,this.__startSpeed=d,this.end_loc=this._calculateEnd(),this._startDecelaration())},b.stop=function(){this.stopped=!0,this._internalStop()},b.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=0.0004,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},b.renderCallback=function(e,d){this.__renderHook={fun:e,ref:d}},b.snappingCallback=function(e,d){this.__snapHook={fun:e,ref:d}},b.snapCompleteCallback=function(e,d){this.__compHook={fun:e,ref:d}},b.getSnapNum=function(d){return Math.floor((d+this.options.snapsize/2)/this.options.snapsize)},b.nextSnap=function(){this._internalStop();var d=this.getSnapNum(this.value);!this.options.endless&&(d+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(d+1,!0)},b.prevSnap=function(){this._internalStop();var d=this.getSnapNum(this.value);!this.options.endless&&(d-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(d-1,!0)},b.gotoSnap=function(e,d,f){this.changeTo(e*this.options.snapsize,d,f,e)},b.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},b._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},b._calculateExtraMove=function(e){var d=e%this.options.snapsize;return d<this.options.snapsize/2?-d:this.options.snapsize-d},b._calculateEnd=function(g){for(var f=this.__speed,e=this.value,d=0;Math.abs(f)>this.options.minValidDist;){e+=f,f*=this.options.friction,d++}return g?d:e},b._checkLimits=function(d){return this.options.endless?d:d<this._min_value?this._min_value:d>this._max_value?this._max_value:d},b._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},b._callsnapChange=function(d){this.__snapHook&&d!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,d,d-this.current_snap)},b._callonComplete=function(d){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,d)},b._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var e=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+e-this.__extrStep,this.__extrStep=e}else{this.value+=this.__speed}if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var d=0;this.value<this._min_value?d=this._min_value-this.value:this.value>this._max_value&&(d=this._max_value-this.value),this.__isout=Math.abs(d)>=this.options.minValidDist,this.__isout&&(this.__speed*d<=0?this.__speed+=d*this.options.outFriction:this.__speed=d*this.options.outAcceleration)}},b._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var d=this,e=function(){d._deceleration&&(d._computeDeceleration(),Math.abs(d.__speed)>d.options.minValidDist||d.__isout?window.requestAnimationFrame(e):(d._deceleration=!1,d.__isout=!1,d.value=d.__needsSnap&&d.options.snapping&&!d.options.paging?d._checkLimits(d.end_loc+d.__extraMove):Math.round(d.value),d._callrenderer(),d._callonComplete("decel")))};e()}},window.Controller=c}(),function(b,a,c){b.MSLayerController=function(e){this.slide=e,this.slider=e.slider,this.layers=[],this.layersCount=0,this.preloadCount=0,this.$layers=c("<div></div>").addClass("ms-slide-layers"),this.$staticLayers=c("<div></div>").addClass("ms-static-layers"),this.$fixedLayers=c("<div></div>").addClass("ms-fixed-layers"),this.$animLayers=c("<div></div>").addClass("ms-anim-layers")};var d=MSLayerController.prototype;d.addLayer=function(e){switch(e.slide=this.slide,e.controller=this,e.$element.data("position")){case"static":this.hasStaticLayer=!0,e.$element.appendTo(this.$staticLayers);break;case"fixed":this.hasFixedLayer=!0,e.$element.appendTo(this.$fixedLayers);break;default:e.$element.appendTo(this.$animLayers)}e.create(),this.layers.push(e),this.layersCount++,e.parallax&&(this.hasParallaxLayer=!0),e.needPreload&&this.preloadCount++},d.create=function(){this.slide.$element.append(this.$layers),this.$layers.append(this.$animLayers),this.hasStaticLayer&&this.$layers.append(this.$staticLayers),"center"==this.slider.options.layersMode&&(this.$layers.css("max-width",this.slider.options.width+"px"),this.hasFixedLayer&&this.$fixedLayers.css("max-width",this.slider.options.width+"px"))},d.loadLayers=function(f){if(this._onReadyCallback=f,0===this.preloadCount){return void this._onlayersReady()}for(var e=0;e!==this.layersCount;++e){this.layers[e].needPreload&&this.layers[e].loadImage()}},d.prepareToShow=function(){this.hasParallaxLayer&&this._enableParallaxEffect(),this.hasFixedLayer&&this.$fixedLayers.prependTo(this.slide.view.$element)},d.showLayers=function(){this.layersHideTween&&this.layersHideTween.stop(!0),this.fixedLayersHideTween&&this.fixedLayersHideTween.stop(!0),this._resetLayers(),this.$animLayers.css("opacity","").css("display",""),this.hasFixedLayer&&this.$fixedLayers.css("opacity","").css("display",""),this.ready&&(this._initLayers(),this._locateLayers(),this._startLayers())},d.hideLayers=function(){if(this.slide.selected||this.slider.options.instantStartLayers){var e=this;e.layersHideTween=CTween.animate(this.$animLayers,500,{opacity:0},{complete:function(){e._resetLayers()}}),this.hasFixedLayer&&(this.fixedLayersHideTween=CTween.animate(this.$fixedLayers,500,{opacity:0},{complete:function(){e.$fixedLayers.detach()}})),this.hasParallaxLayer&&this._disableParallaxEffect()}},d.animHideLayers=function(){if(this.ready){for(var e=0;e!==this.layersCount;++e){this.layers[e].hide()}}},d.setSize=function(f,e,h){if(this.ready&&(this.slide.selected||this.hasStaticLayer)&&(h&&this._initLayers(!0),this._locateLayers(!this.slide.selected)),this.slider.options.autoHeight&&this.updateHeight(),"center"==this.slider.options.layersMode){var g=Math.max(0,(f-this.slider.options.width)/2)+"px";this.$layers[0].style.left=g,this.$fixedLayers[0].style.left=g}},d.updateHeight=function(){},d._onlayersReady=function(){this.ready=!0,this.hasStaticLayer&&!this.slide.isSleeping&&this._initLayers(!1,!0),this._onReadyCallback.call(this.slide)},d.onSlideSleep=function(){},d.onSlideWakeup=function(){this.hasStaticLayer&&this.ready&&this._initLayers(!1,!0)},d.getLayerById=function(e){if(!e){return null}for(var f=0;f<this.layersCount;++f){if(this.layers[f].id===e){return this.layers[f]}}return null},d.destroy=function(){this.slide.selected&&this.hasParallaxLayer&&this._disableParallaxEffect();for(var e=0;e<this.layersCount;++e){this.layers[e].$element.stop(!0).remove()}this.$layers.remove(),this.$staticLayers.remove(),this.$fixedLayers.remove(),this.$animLayers.remove()},d._startLayers=function(){for(var f=0;f!==this.layersCount;++f){var e=this.layers[f];e.waitForAction||e.start()}},d._initLayers=function(g,f){if(!(this.init&&!g||this.slider.init_safemode)){this.init=f!==!0;var e=0;if(f&&!this.staticsInit){for(this.staticsInit=!0;e!==this.layersCount;++e){this.layers[e].staticLayer&&this.layers[e].init()}}else{if(this.staticsInit&&!g){for(;e!==this.layersCount;++e){this.layers[e].staticLayer||this.layers[e].init()}}else{for(;e!==this.layersCount;++e){this.layers[e].init()}}}}},d._locateLayers=function(f){var e=0;if(f){for(;e!==this.layersCount;++e){this.layers[e].staticLayer&&this.layers[e].locate()}}else{for(;e!==this.layersCount;++e){this.layers[e].locate()}}},d._resetLayers=function(){this.$animLayers.css("display","none").css("opacity",1);for(var e=0;e!==this.layersCount;++e){this.layers[e].reset()}},d._applyParallax=function(e,h,f){for(var g=0;g!==this.layersCount;++g){null!=this.layers[g].parallax&&this.layers[g].moveParallax(e,h,f)}},d._enableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.addEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},d._disableParallaxEffect=function(){"swipe"===this.slider.options.parallaxMode?this.slide.view.removeEventListener(MSViewEvents.SCROLL,this._swipeParallaxMove,this):this.slide.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},d._resetParalax=function(g){var f=g.data.that;f._applyParallax(0,0)},d._mouseParallaxMove=function(j){var h=j.data.that,i=h.slide.$element.offset(),g=h.slider;if("mouse:y-only"!==g.options.parallaxMode){var f=j.pageX-i.left-h.slide.__width/2}else{var f=0}if("mouse:x-only"!==g.options.parallaxMode){var k=j.pageY-i.top-h.slide.__height/2}else{var k=0}h._applyParallax(-f,-k)},d._swipeParallaxMove=function(){var e=this.slide.position-this.slide.view.__contPos;"v"===this.slider.options.dir?this._applyParallax(0,e,!0):this._applyParallax(e,0,!0)}}(window,document,jQuery),function(c,b){b.MSOverlayLayerController=function(){MSLayerController.apply(this,arguments)},MSOverlayLayerController.extend(MSLayerController);var d=MSOverlayLayerController.prototype,a=MSLayerController.prototype;d.addLayer=function(f){var e=f.$element.data("show-on"),g=f.$element.data("hide-on");g&&(f.hideOnSlides=g.replace(/\s+/g,"").split(",")),e&&(f.showOnSlides=e.replace(/\s+/g,"").split(",")),a.addLayer.apply(this,arguments)},d.create=function(){a.create.apply(this,arguments),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.checkLayers.bind(this))},d.checkLayers=function(){if(this.ready){for(var f=0;f!==this.layersCount;++f){var e=this.layers[f];e.waitForAction||(this._checkForShow(e)?e.start():e.hide())}}},d._enableParallaxEffect=function(){this.slider.view.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)},d._disableParallaxEffect=function(){this.slider.view.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)},d._startLayers=function(){for(var f=0;f!==this.layersCount;++f){var e=this.layers[f];this._checkForShow(e)&&!e.waitForAction&&e.start()}},d._checkForShow=function(h){var g=this.slider.api.currentSlide.id,e=h.hideOnSlides,f=h.showOnSlides;return f?!!g&&-1!==f.indexOf(g):!g||!e||e.length&&-1===e.indexOf(g)}}(jQuery,window,document),function(b,a){a.MSOverlayLayers=function(d){this.slider=d};var c=MSOverlayLayers.prototype;c.setupLayerController=function(){this.layerController=new MSOverlayLayerController(this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this.setSize.bind(this)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.setSize.bind(this)),this.setSize()},c.setSize=function(){this.__width=this.$element.width(),this.__height=this.$element.height(),this.layerController.setSize(this.__width,this.__height)},c.create=function(){this.layerController.create(),this.layerController.loadLayers(this._onLayersLoad),this.layerController.prepareToShow(),a.pointerEventsPolyfill&&a.pointerEventsPolyfill({selector:"#"+this.slider.$element.attr("id")+" .ms-overlay-layers",forcePolyfill:!1})},c.getHeight=function(){return this.slider.api.currentSlide.getHeight()},c.destroy=function(){this.layerController.destroy()},c._onLayersLoad=function(){this.ready=!0,this.selected=!0,this.layersLoaded=!0,this.setSize(),this.layerController.showLayers()}}(jQuery,window,document),function(c){window.MSLayerEffects={};var a,b={opacity:0};MSLayerEffects.setup=function(){if(!a){a=!0;var d=MSLayerEffects,g=window._jcsspfx+"Transform",f=window._jcsspfx+"TransformOrigin",e=c.browser.opera;_2d=window._css2d&&window._cssanim&&!e,d.defaultValues={left:0,top:0,opacity:isMSIE("<=9")?1:"",right:0,bottom:0},d.defaultValues[g]="",d.rf=1,d.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},d.fade=function(){return b},d.left=_2d?function(j,i){var h=i===!1?{}:{opacity:0};return h[g]="translateX("+-j*d.rf+"px)",h}:function(j,i){var h=i===!1?{}:{opacity:0};return h.left=-j*d.rf+"px",h},d.right=_2d?function(j,i){var h=i===!1?{}:{opacity:0};return h[g]="translateX("+j*d.rf+"px)",h}:function(j,i){var h=i===!1?{}:{opacity:0};return h.left=j*d.rf+"px",h},d.top=_2d?function(j,i){var h=i===!1?{}:{opacity:0};return h[g]="translateY("+-j*d.rf+"px)",h}:function(j,i){var h=i===!1?{}:{opacity:0};return h.top=-j*d.rf+"px",h},d.bottom=_2d?function(j,i){var h=i===!1?{}:{opacity:0};return h[g]="translateY("+j*d.rf+"px)",h}:function(j,i){var h=i===!1?{}:{opacity:0};return h.top=j*d.rf+"px",h},d.from=_2d?function(h,k,j){var i=j===!1?{}:{opacity:0};return i[g]="translateX("+h*d.rf+"px) translateY("+k*d.rf+"px)",i}:function(h,k,j){var i=j===!1?{}:{opacity:0};return i.top=k*d.rf+"px",i.left=h*d.rf+"px",i},d.rotate=_2d?function(i,j){var h={opacity:0};return h[g]=" rotate("+i+"deg)",j&&(h[f]=j),h}:function(){return b},d.rotateleft=_2d?function(i,k,l,j){var h=d.left(k,j);return h[g]+=" rotate("+i+"deg)",l&&(h[f]=l),h}:function(h,j,k,i){return d.left(j,i)},d.rotateright=_2d?function(i,k,l,j){var h=d.right(k,j);return h[g]+=" rotate("+i+"deg)",l&&(h[f]=l),h}:function(h,j,k,i){return d.right(j,i)},d.rotatetop=_2d?function(i,k,l,j){var h=d.top(k,j);return h[g]+=" rotate("+i+"deg)",l&&(h[f]=l),h}:function(h,j,k,i){return d.top(j,i)},d.rotatebottom=_2d?function(i,k,l,j){var h=d.bottom(k,j);return h[g]+=" rotate("+i+"deg)",l&&(h[f]=l),h}:function(h,j,k,i){return d.bottom(j,i)},d.rotatefrom=_2d?function(j,h,l,m,k){var i=d.from(h,l,k);return i[g]+=" rotate("+j+"deg)",m&&(i[f]=m),i}:function(i,h,k,l,j){return d.from(h,k,j)},d.skewleft=_2d?function(i,k,j){var h=d.left(k,j);return h[g]+=" skewX("+i+"deg)",h}:function(h,j,i){return d.left(j,i)},d.skewright=_2d?function(i,k,j){var h=d.right(k,j);return h[g]+=" skewX("+-i+"deg)",h}:function(h,j,i){return d.right(j,i)},d.skewtop=_2d?function(i,k,j){var h=d.top(k,j);return h[g]+=" skewY("+i+"deg)",h}:function(h,j,i){return d.top(j,i)},d.skewbottom=_2d?function(i,k,j){var h=d.bottom(k,j);return h[g]+=" skewY("+-i+"deg)",h}:function(h,j,i){return d.bottom(j,i)},d.scale=_2d?function(h,l,k,j){var i=j===!1?{}:{opacity:0};return i[g]=" scaleX("+h+") scaleY("+l+")",k&&(i[f]=k),i}:function(h,k,j,i){return i===!1?{}:{opacity:0}},d.scaleleft=_2d?function(h,m,k,l,j){var i=d.left(k,j);return i[g]=" scaleX("+h+") scaleY("+m+")",l&&(i[f]=l),i}:function(h,l,j,k,i){return d.left(j,i)},d.scaleright=_2d?function(h,m,k,l,j){var i=d.right(k,j);return i[g]=" scaleX("+h+") scaleY("+m+")",l&&(i[f]=l),i}:function(h,l,j,k,i){return d.right(j,i)},d.scaletop=_2d?function(h,m,k,l,j){var i=d.top(k,j);return i[g]=" scaleX("+h+") scaleY("+m+")",l&&(i[f]=l),i}:function(h,l,j,k,i){return d.top(j,i)},d.scalebottom=_2d?function(h,m,k,l,j){var i=d.bottom(k,j);return i[g]=" scaleX("+h+") scaleY("+m+")",l&&(i[f]=l),i}:function(h,l,j,k,i){return d.bottom(j,i)},d.scalefrom=_2d?function(i,n,h,l,m,k){var j=d.from(h,l,k);return j[g]+=" scaleX("+i+") scaleY("+n+")",m&&(j[f]=m),j}:function(i,m,h,k,l,j){return d.from(h,k,j)},d.rotatescale=_2d?function(j,h,m,l,k){var i=d.scale(h,m,l,k);return i[g]+=" rotate("+j+"deg)",l&&(i[f]=l),i}:function(i,h,l,k,j){return d.scale(h,l,k,j)},d.front=window._css3d?function(j,i){var h=i===!1?{}:{opacity:0};return h[g]="perspective(2000px) translate3d(0 , 0 ,"+j+"px ) rotate(0.001deg)",h}:function(){return b},d.back=window._css3d?function(j,i){var h=i===!1?{}:{opacity:0};return h[g]="perspective(2000px) translate3d(0 , 0 ,"+-j+"px ) rotate(0.001deg)",h}:function(){return b},d.rotatefront=window._css3d?function(i,k,l,j){var h=j===!1?{}:{opacity:0};return h[g]="perspective(2000px) translate3d(0 , 0 ,"+k+"px ) rotate("+(i||0.001)+"deg)",l&&(h[f]=l),h}:function(){return b},d.rotateback=window._css3d?function(i,k,l,j){var h=j===!1?{}:{opacity:0};return h[g]="perspective(2000px) translate3d(0 , 0 ,"+-k+"px ) rotate("+(i||0.001)+"deg)",l&&(h[f]=l),h}:function(){return b},d.rotate3dleft=window._css3d?function(h,n,l,k,m,j){var i=d.left(k,j);return i[g]+=(h?" rotateX("+h+"deg)":" ")+(n?" rotateY("+n+"deg)":"")+(l?" rotateZ("+l+"deg)":""),m&&(i[f]=m),i}:function(h,m,k,j,l,i){return d.left(j,i)},d.rotate3dright=window._css3d?function(h,n,l,k,m,j){var i=d.right(k,j);return i[g]+=(h?" rotateX("+h+"deg)":" ")+(n?" rotateY("+n+"deg)":"")+(l?" rotateZ("+l+"deg)":""),m&&(i[f]=m),i}:function(h,m,k,j,l,i){return d.right(j,i)},d.rotate3dtop=window._css3d?function(h,n,l,k,m,j){var i=d.top(k,j);return i[g]+=(h?" rotateX("+h+"deg)":" ")+(n?" rotateY("+n+"deg)":"")+(l?" rotateZ("+l+"deg)":""),m&&(i[f]=m),i}:function(h,m,k,j,l,i){return d.top(j,i)},d.rotate3dbottom=window._css3d?function(h,n,l,k,m,j){var i=d.bottom(k,j);return i[g]+=(h?" rotateX("+h+"deg)":" ")+(n?" rotateY("+n+"deg)":"")+(l?" rotateZ("+l+"deg)":""),m&&(i[f]=m),i}:function(h,m,k,j,l,i){return d.bottom(j,i)},d.rotate3dfront=window._css3d?function(h,n,l,k,m,j){var i=d.front(k,j);return i[g]+=(h?" rotateX("+h+"deg)":" ")+(n?" rotateY("+n+"deg)":"")+(l?" rotateZ("+l+"deg)":""),m&&(i[f]=m),i}:function(h,m,k,j,l,i){return d.front(j,i)},d.rotate3dback=window._css3d?function(h,n,l,k,m,j){var i=d.back(k,j);return i[g]+=(h?" rotateX("+h+"deg)":" ")+(n?" rotateY("+n+"deg)":"")+(l?" rotateZ("+l+"deg)":""),m&&(i[f]=m),i}:function(h,m,k,j,l,i){return d.back(j,i)},d.t=window._css3d?function(t,A,z,x,s,n,m,k,w,u,p,o,l,j,i){var y=t===!1?{}:{opacity:0},q="perspective(2000px) ";"n"!==A&&(q+="translateX("+A*d.rf+"px) "),"n"!==z&&(q+="translateY("+z*d.rf+"px) "),"n"!==x&&(q+="translateZ("+x*d.rf+"px) "),"n"!==s&&(q+="rotate("+s+"deg) "),"n"!==n&&(q+="rotateX("+n+"deg) "),"n"!==m&&(q+="rotateY("+m+"deg) "),"n"!==k&&(q+="rotateZ("+k+"deg) "),"n"!==p&&(q+="skewX("+p+"deg) "),"n"!==o&&(q+="skewY("+o+"deg) "),"n"!==w&&(q+="scaleX("+w+") "),"n"!==u&&(q+="scaleY("+u+")"),y[g]=q;var h="";return h+="n"!==l?l+"% ":"50% ",h+="n"!==j?j+"% ":"50% ",h+="n"!==i?i+"px":"",y[f]=h,y}:function(k,i,h,l,j){var j=k===!1?{}:{opacity:0};return"n"!==i&&(j.left=i*d.rf+"px"),"n"!==h&&(j.top=h*d.rf+"px"),j}}}}(jQuery),function(a){window.MSLayerElement=function(){this.start_anim={name:"fade",duration:1000,ease:"linear",delay:0},this.end_anim={duration:1000,ease:"linear"},this.type="text",this.resizable=!0,this.minWidth=-1,this.isVisible=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","font-size","line-height","width","left","right","top","bottom"],this.baseStyle={}};var b=MSLayerElement.prototype;b.setStartAnim=function(c){a.extend(this.start_anim,c),a.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},b.setEndAnim=function(c){a.extend(this.end_anim,c)},b.create=function(){if(this.$element.css("display","none"),this.resizable=this.$element.data("resize")!==!1,this.fixed=this.$element.data("fixed")===!0,void 0!==this.$element.data("widthlimit")&&(this.minWidth=this.$element.data("widthlimit")),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),this.staticLayer="static"===this.$element.data("position"),this.fixedLayer="fixed"===this.$element.data("position"),this.layersCont=this.controller.$layers,this.staticLayer&&this.$element.css("display","").css("visibility",""),void 0!==this.$element.data("action")){var f=this.slide.slider.slideController;this.$element.on(this.$element.data("action-event")||"click",function(j){f.runAction(a(this).data("action")),j.preventDefault()}).addClass("ms-action-layer")}a.extend(this.end_anim,this._parseEff(this.end_anim.name)),this.slider=this.slide.slider,this.masked&&(this.$mask=a("<div></div>").addClass("ms-layer-mask"),this.link?(this.link.wrap(this.$mask),this.$mask=this.link.parent()):(this.$element.wrap(this.$mask),this.$mask=this.$element.parent()),this.maskWidth&&this.$mask.width(this.maskWidth),this.maskHeight&&(this.$mask.height(this.maskHeight),-1===this.__cssConfig.indexOf("height")&&this.__cssConfig.push("height")));var e=this.layerOrigin=this.$element.data("origin");if(e){var d=e.charAt(0),h=e.charAt(1),c=this.$element.data("offset-x"),i=this.$element.data("offset-y"),g=this.masked?this.$mask[0]:this.$element[0];switch(void 0===i&&(i=0),d){case"t":g.style.top=i+"px";break;case"b":g.style.bottom=i+"px";break;case"m":g.style.top=i+"px",this.middleAlign=!0}switch(void 0===c&&(c=0),h){case"l":g.style.left=c+"px";break;case"r":g.style.right=c+"px";break;case"c":g.style.left=c+"px",this.centerAlign=!0}}this.parallax=this.$element.data("parallax"),null!=this.parallax&&(this.parallax/=100,this.$parallaxElement=a("<div></div>").addClass("ms-parallax-layer"),this.masked?(this.$mask.wrap(this.$parallaxElement),this.$parallaxElement=this.$mask.parent()):this.link?(this.link.wrap(this.$parallaxElement),this.$parallaxElement=this.link.parent()):(this.$element.wrap(this.$parallaxElement),this.$parallaxElement=this.$element.parent()),this._lastParaX=0,this._lastParaY=0,this._paraX=0,this._paraY=0,this.alignedToBot=this.layerOrigin&&-1!==this.layerOrigin.indexOf("b"),this.alignedToBot&&this.$parallaxElement.css("bottom",0),this.parallaxRender=window._css3d?this._parallaxCSS3DRenderer:window._css2d?this._parallaxCSS2DRenderer:this._parallax2DRenderer,"swipe"!==this.slider.options.parallaxMode&&averta.Ticker.add(this.parallaxRender,this)),a.removeDataAttrs(this.$element,["data-src"])},b.init=function(){this.initialized=!0;var g;this.$element.css("visibility","");for(var e=0,c=this.__cssConfig.length;c>e;e++){var d=this.__cssConfig[e];if(this._isPosition(d)&&this.masked){g=this.$mask.css(d)}else{if("text"!==this.type||"width"!==d||this.masked||this.maskWidth){g=this.$element.css(d);var f="width"===d||"height"===d;f&&this.masked&&(this.maskWidth&&"width"===d?g=this.maskWidth+"px":this.maskHeight&&"height"===d&&(g=this.maskHeight+"px")),f&&"0px"===g&&(g=this.$element.data(d)+"px")}else{g=this.$element[0].style.width}}this.layerOrigin&&("top"===d&&-1===this.layerOrigin.indexOf("t")&&-1===this.layerOrigin.indexOf("m")||"bottom"===d&&-1===this.layerOrigin.indexOf("b")||"left"===d&&-1===this.layerOrigin.indexOf("l")&&-1===this.layerOrigin.indexOf("c")||"right"===d&&-1===this.layerOrigin.indexOf("r"))||"auto"!=g&&""!=g&&"normal"!=g&&(this.baseStyle[d]=parseInt(g))}this.middleAlign&&(this.baseHeight=this.$element.outerHeight(!1)),this.centerAlign&&(this.baseWidth=this.$element.outerWidth(!1))},b.locate=function(){if(this.slide.ready){var e,i,g,f=parseFloat(this.layersCont.css("width")),c=parseFloat(this.layersCont.css("height"));!this.staticLayer&&"none"===this.$element.css("display")&&this.isVisible&&this.$element.css("display","").css("visibility","hidden"),this.staticLayer&&this.$element.addClass("ms-hover-active"),e=this.resizeFactor=f/this.slide.slider.options.width;var h=this.masked?this.$mask:this.$element;for(var d in this.baseStyle){i=this._isPosition(d),g="width"===d||"height"===d,e=this.fixed&&i?1:this.resizeFactor,(this.resizable||i)&&("top"===d&&this.middleAlign?(h[0].style.top="0px",this.baseHeight=h.outerHeight(!1),h[0].style.top=this.baseStyle.top*e+(c-this.baseHeight)/2+"px"):"left"===d&&this.centerAlign?(h[0].style.left="0px",this.baseWidth=h.outerWidth(!1),h[0].style.left=this.baseStyle.left*e+(f-this.baseWidth)/2+"px"):i&&this.masked?h[0].style[d]=this.baseStyle[d]*e+"px":g&&("width"===d&&this.maskWidth||"height"===d&&this.maskHeight)?h[0].style[d]=this.baseStyle[d]*e+"px":this.$element.css(d,this.baseStyle[d]*e+"px"))}this.visible(this.minWidth<f)}},b.start=function(){if(!this.isShowing&&!this.staticLayer){this.isShowing=!0,this.$element.removeClass("ms-hover-active");var c,g;MSLayerEffects.rf=this.resizeFactor;var d=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),f={};for(c in d){this._checkPosKey(c,d)||(null!=MSLayerEffects.defaultValues[c]&&(f[c]=MSLayerEffects.defaultValues[c]),c in this.baseStyle&&(g=this.baseStyle[c],this.middleAlign&&"top"===c&&(g+=(parseInt(this.layersCont.height())-this.$element.outerHeight(!1))/2),this.centerAlign&&"left"===c&&(g+=(parseInt(this.layersCont.width())-this.$element.outerWidth(!1))/2),d[c]=g+parseFloat(d[c])+"px",f[c]=g+"px"),this.$element.css(c,d[c]))}var e=this;clearTimeout(this.to),clearTimeout(this.clHide),this.to=setTimeout(function(){e.$element.css("visibility",""),e._playAnimation(e.start_anim,f)},e.start_anim.delay||0.01),this.clTo=setTimeout(function(){e.show_cl=!0,e.$element.addClass("ms-hover-active")},(this.start_anim.delay||0.01)+this.start_anim.duration+1),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){e.hide()},e.end_anim.time))}},b.hide=function(){if(!this.staticLayer){this.$element.removeClass("ms-hover-active"),this.isShowing=!1;var c=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in c){this._checkPosKey(key,c)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,c[key]),key in this.baseStyle&&(c[key]=this.baseStyle[key]+parseFloat(c[key])+"px"))}this._playAnimation(this.end_anim,c),clearTimeout(this.clHide),0===c.opacity&&(this.clHide=setTimeout(function(){this.$element.css("visibility","hidden")}.bind(this),this.end_anim.duration+1)),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.clTo)}},b.reset=function(){this.staticLayer||(this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity",""),this.$element[0].style.transitionDuration="",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto))},b.destroy=function(){this.reset(),this.$element.remove()},b.visible=function(c){this.isVisible!=c&&(this.isVisible=c,this.$element.css("display",c?"":"none"))},b.moveParallax=function(c,e,d){this._paraX=c,this._paraY=e,d&&(this._lastParaX=c,this._lastParaY=e,this.parallaxRender())},b._playAnimation=function(e,d){var c={};e.ease&&(c.ease=e.ease),c.transProperty=window._csspfx+"transform,opacity",this.show_tween&&this.show_tween.stop(!0),this.show_tween=CTween.animate(this.$element,e.duration,d,c)},b._randomParam=function(e){var d=Number(e.slice(0,e.indexOf("|"))),c=Number(e.slice(e.indexOf("|")+1));return d+Math.random()*(c-d)},b._parseEff=function(g){var h=[];if(-1!==g.indexOf("(")){var f,d=g.slice(0,g.indexOf("(")).toLowerCase();h=g.slice(g.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),g=d;for(var e=0,c=h.length;c>e;++e){f=h[e],f in MSLayerEffects.presetEffParams&&(f=MSLayerEffects.presetEffParams[f]),h[e]=f}}return{eff_name:g,eff_params:h}},b._parseEffParams=function(f){for(var g=[],d=0,c=f.length;c>d;++d){var e=f[d];"string"==typeof e&&-1!==e.indexOf("|")&&(e=this._randomParam(e)),g[d]=e}return g},b._checkPosKey=function(c,d){return"left"===c&&!(c in this.baseStyle)&&"right" in this.baseStyle?(d.right=-parseInt(d.left)+"px",delete d.left,!0):"top"===c&&!(c in this.baseStyle)&&"bottom" in this.baseStyle?(d.bottom=-parseInt(d.top)+"px",delete d.top,!0):!1},b._isPosition=function(c){return"top"===c||"left"===c||"bottom"===c||"right"===c},b._parallaxCalc=function(){var c=this._paraX-this._lastParaX,d=this._paraY-this._lastParaY;this._lastParaX+=c/12,this._lastParaY+=d/12,Math.abs(c)<0.019&&(this._lastParaX=this._paraX),Math.abs(d)<0.019&&(this._lastParaY=this._paraY)},b._parallaxCSS3DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px) translateZ(0)"},b._parallaxCSS2DRenderer=function(){this._parallaxCalc(),this.$parallaxElement[0].style[window._jcsspfx+"Transform"]="translateX("+this._lastParaX*this.parallax+"px) translateY("+this._lastParaY*this.parallax+"px)"},b._parallax2DRenderer=function(){this._parallaxCalc(),this.alignedToBot?this.$parallaxElement[0].style.bottom=this._lastParaY*this.parallax+"px":this.$parallaxElement[0].style.top=this._lastParaY*this.parallax+"px",this.$parallaxElement[0].style.left=this._lastParaX*this.parallax+"px"}}(jQuery),function(b){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["width","height","margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.type="image"},MSImageLayerElement.extend(MSLayerElement);var c=MSImageLayerElement.prototype,a=MSLayerElement.prototype;c.create=function(){if(this.link){var e=this.$element.parent();e.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),e=null}if(a.create.call(this),void 0!=this.$element.data("src")){this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src")}else{var d=this;this.$element.on("load",function(){d.controller.preloadCount--,0===d.controller.preloadCount&&d.controller._onlayersReady()}).each(b.jqLoadFix)}b.browser.msie&&this.$element.on("dragstart",function(f){f.preventDefault()})},c.loadImage=function(){var d=this;this.$element.preloadImg(this.img_src,function(){d.controller.preloadCount--,0===d.controller.preloadCount&&d.controller._onlayersReady()})}}(jQuery),function(b){window.MSVideoLayerElement=function(){MSLayerElement.call(this),this.__cssConfig.push("height"),this.type="video"},MSVideoLayerElement.extend(MSLayerElement);var c=MSVideoLayerElement.prototype,a=MSLayerElement.prototype;c.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,2),CTween.fadeOut(this.video_btn,500,2),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},c.start=function(){a.start.call(this),this.$element.data("autoplay")&&this.__playVideo()},c.reset=function(){return a.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1).css("display","block"),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?void this.img.css("opacity",1).css("display","block"):void this.video_frame.attr("src",this.video_url)},c.create=function(){a.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var d=0!=this.$element.has("img").length;if(d||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var e=this;if(this.video_btn=b("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){e.__playVideo()}),d){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),void 0!==this.img.data("src")){this.img_src=this.img.data("src"),this.img.removeAttr("data-src")}else{var e=this;this.img.attr("src",this.img_src).on("load",function(){e.controller.preloadCount--,0===e.controller.preloadCount&&e.controller._onlayersReady()}).each(b.jqLoadFix)}b.browser.msie&&this.img.on("dragstart",function(f){f.preventDefault()})}}},c.loadImage=function(){var d=this;this.img.preloadImg(this.img_src,function(){d.controller.preloadCount--,0===d.controller.preloadCount&&d.controller._onlayersReady()})}}(jQuery),function(b){window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo",this.hide_start=!0,this.type="hotspot"},MSHotspotLayer.extend(MSLayerElement);var c=MSHotspotLayer.prototype,a=MSLayerElement.prototype;c._showTT=function(){this.show_cl&&(clearTimeout(this.hto),this._tween&&this._tween.stop(!0),this.hide_start&&(this.align=this._orgAlign,this._locateTT(),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}),this.hide_start=!1))},c._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var d=this;clearTimeout(this.hto),this.hto=setTimeout(function(){d.hide_start=!0,d._tween=CTween.animate(d.tt,900,d.from,{ease:"easeOut"+d.ease,complete:function(){d.tt.css("display","none")}})},200)}},c._updateClassName=function(d){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(d),this._lastClass=d},c._alignPolicy=function(){var d=(this.tt.outerHeight(!1),Math.max(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")))),e=window.innerWidth;window.innerHeight;switch(this.align){case"top":if(this.base_t<0){return"bottom"}break;case"right":if(this.base_l+d>e||this.base_t<0){return"bottom"}break;case"left":if(this.base_l<0||this.base_t<0){return"bottom"}}return null},c._locateTT=function(){var g=this.$element.offset(),k=this.slide.slider.$element.offset(),j=50,f=15;this.pos_x=g.left-k.left-this.slide.slider.$element.scrollLeft(),this.pos_y=g.top-k.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var h=15,e=15;switch(this.align){case"top":var d=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight(!1)-e-f,this.base_l=this.pos_x-d/2,this.base_l+d>window.innerWidth&&(this.tt_arrow.css("margin-left",-h/2+this.base_l+d-window.innerWidth+"px"),this.base_l=window.innerWidth-d),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-h/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+j+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-j+"px",this.to.top=this.base_t+"px");break;case"bottom":var d=Math.min(this.tt.outerWidth(!1),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+e+f,this.base_l=this.pos_x-d/2,this.base_l+d>window.innerWidth&&(this.tt_arrow.css("margin-left",-h/2+this.base_l+d-window.innerWidth+"px"),this.base_l=window.innerWidth-d),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-h/2+this.pos_x-this.tt.outerWidth(!1)/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+j+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+j+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+h+f,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+j+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+j+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-h-this.tt.outerWidth(!1)-f,this.base_t=this.pos_y-this.tt.outerHeight(!1)/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+j+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-j+"px",this.to.left=this.base_l+"px")}var i=this._alignPolicy();return null!==i?(this.align=i,void this._locateTT()):(this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),void this.tt.css(this.from))},c.start=function(){a.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},c.reset=function(){a.reset.call(this),this.tt.detach()},c.create=function(){var e=this;this._orgAlign=this.align=void 0!==this.$element.data("align")?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){e._showTT()}).on("mouseleave",function(){e._hideTT()}),this.point=b('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var d=this.$element.data("link"),f=this.$element.data("target");d&&this.point.on("click",function(){window.open(d,f||"_self")}),this.tt=b("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),void 0!==this.$element.data("width")&&this.tt.css("width",this.$element.data("width")).css("max-width",this.$element.data("width")),this.tt_arrow=b("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=b("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt),this.$element.data("stay-hover")===!0&&this.tt.on("mouseenter",function(){e.hide_start||(clearTimeout(e.hto),e._tween.stop(!0),e._showTT())}).on("mouseleave",function(){e._hideTT()}),a.create.call(this)}}(jQuery),function(){window.MSButtonLayer=function(){MSLayerElement.call(this),this.type="button"},MSButtonLayer.extend(MSLayerElement);var b=MSButtonLayer.prototype,a=MSLayerElement.prototype,c=["top","left","bottom","right"];b.create=function(){a.create.call(this),this.$element.wrap('<div class="ms-btn-container"></div>').css("position","relative"),this.$container=this.$element.parent()},b.locate=function(){a.locate.call(this);for(var e,f,d=0;4>d;d++){e=c[d],e in this.baseStyle&&(f=this.$element.css(e),this.$element.css(e,""),this.$container.css(e,f))}this.$container.width(this.$element.outerWidth(!0)).height(this.$element.outerHeight(!0))}}(jQuery),window.MSSliderEvent=function(a){this.type=a},MSSliderEvent.CHANGE_START="ms_changestart",MSSliderEvent.CHANGE_END="ms_changeend",MSSliderEvent.WAITING="ms_waiting",MSSliderEvent.AUTOPLAY_CHANGE="ms_autoplaychange",MSSliderEvent.VIDEO_PLAY="ms_videoPlay",MSSliderEvent.VIDEO_CLOSE="ms_videoclose",MSSliderEvent.INIT="ms_init",MSSliderEvent.HARD_UPDATE="ms_hard_update",MSSliderEvent.RESIZE="ms_resize",MSSliderEvent.RESERVED_SPACE_CHANGE="ms_rsc",MSSliderEvent.DESTROY="ms_destroy",function(b,a,c){b.MSSlide=function(){this.$element=null,this.$loading=c("<div></div>").addClass("ms-slide-loading"),this.view=null,this.index=-1,this.__width=0,this.__height=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.isSleeping=!0,this.moz=c.browser.mozilla};var d=MSSlide.prototype;d.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},d.onSwipeMove=function(g){var f=Math.max(Math.abs(g.data.distanceX),Math.abs(g.data.distanceY));this.swipeMoved=f>4},d.onSwipeCancel=function(){return this.swipeMoved?void (this.swipeMoved=!1):(this.link&&(this.linkdis=!1),void (this.video&&(this.videodis=!1)))},d.setupLayerController=function(){this.hasLayers=!0,this.layerController=new MSLayerController(this)},d.assetsLoaded=function(){this.ready=!0,this.slider.api._startTimer(),(this.selected||this.pselected&&this.slider.options.instantStartLayers)&&(this.hasLayers&&this.layerController.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setupBG(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},d.setBG=function(e){this.hasBG=!0;var f=this;this.$imgcont=c("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=c(e).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(f.fillMode,f.$imgcont,f.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,f.slider.options.autoHeight&&(f.pselected||f.selected)&&f.slider.setHeight(f.slider.options.height),void 0!==this.$bg_img.data("src")?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(g){f._onBGLoad(g)}).each(c.jqLoadFix)},d.setupBG=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},d.loadImages=function(){if(!this.ls){if(this.ls=!0,this.bgvideo&&this.bgvideo.load(),this.hasBG&&this.bg_src){var e=this;this.$bg_img.preloadImg(this.bg_src,function(f){e._onBGLoad(f)})}this.hasLayers&&this.layerController.loadLayers(this._onLayersLoad),this.hasBG||this.hasLayers||this.assetsLoaded()}},d._onLayersLoad=function(){this.layersLoaded=!0,(!this.hasBG||this.bgLoaded)&&this.assetsLoaded()},d._onBGLoad=function(e){this.bgNatrualWidth=e.width,this.bgNatrualHeight=e.height,this.bgLoaded=!0,c.browser.msie&&this.$bg_img.on("dragstart",function(f){f.preventDefault()}),(!this.hasLayers||this.layerController.ready)&&this.assetsLoaded()},d.setBGVideo=function(e){if(e[0].play){if(b._mobile&&!this.slider.options.mobileBGVideo){return void e.remove()}this.bgvideo=e[0];var f=this;e.addClass("ms-slide-bgvideo"),e.data("loop")!==!1&&this.bgvideo.addEventListener("ended",function(){f.bgvideo.play()}),e.data("mute")!==!1&&(this.bgvideo.muted=!0),e.data("autopause")===!0&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=e.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,e),this.bgvideo.addEventListener("loadedmetadata",function(){f.vinit||(f.vinit=!0,f.video_aspect=f.bgVideoAligner.baseHeight/f.bgVideoAligner.baseWidth,f.bgVideoAligner.init(f.bgvideo.videoWidth,f.bgvideo.videoHeight),f._alignBGVideo(),CTween.fadeIn(c(f.bgvideo),200),f.selected&&f.bgvideo.play())})),e.css("opacity",0),this.$bgvideocont=c("<div></div>").addClass("ms-slide-bgvideocont").append(e),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},d._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},d.setSize=function(f,e,g){this.__width=f,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,e=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(e)):(this.ratio=f/this.slider.options.width,e=this.slider.options.height*this.ratio)),this.__height=e,this.$element.width(f).height(e),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),this.hasLayers&&this.layerController.setSize(f,e,g)},d.getHeight=function(){return this.hasBG&&this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},d.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.moz&&this.view.$element.css("perspective","none"),this.view.swipeControl&&this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},d.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var e=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){e.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){e.vframe.attr("src","about:blank").css("display","none")}}),this.moz&&this.view.$element.css("perspective",""),this.view.swipeControl&&this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},d.create=function(){var e=this;this.hasLayers&&this.layerController.create(),this.link&&this.link.addClass("ms-slide-link").html("").click(function(f){e.linkdis&&f.preventDefault()}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=c("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").attr("allowfullscreen","true").appendTo(this.$element),this.vpbtn=c("<div></div>").addClass("ms-slide-vpbtn").click(function(){e.__playVideo()}).appendTo(this.$element),this.vcbtn=c("<div></div>").addClass("ms-slide-vcbtn").click(function(){e.__closeVideo()}).appendTo(this.$element).css("display","none"),b._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),("center"===this.fillMode||"stretch"===this.fillMode)&&(this.fillMode="fill")),this.slider.options.autoHeight&&this.$element.addClass("ms-slide-auto-height"),this.sleep(!0)},d.destroy=function(){this.hasLayers&&(this.layerController.destroy(),this.layerController=null),this.$element.remove(),this.$element=null},d.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this),this.linkdis=!1,this.swipeMoved=!1),this.loadImages(),this.hasLayers&&this.layerController.prepareToShow(),this.ready&&(this.bgvideo&&this.bgvideo.play(),this.hasLayers&&this.slider.options.instantStartLayers&&this.layerController.showLayers()),this.moz&&this.$element.css("margin-top",""))},d.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&this.layerController.updateHeight(),this.slider.options.instantStartLayers||this.layerController.showLayers()),this.ready&&this.bgvideo&&this.bgvideo.play(),this.videoAutoPlay&&(this.videodis=!1,this.vpbtn.trigger("click")))},d.unselect=function(){this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_MOVE,this.onSwipeMove,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.hasLayers&&this.layerController.hideLayers(),this.selected&&(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1))},d.sleep=function(e){(!this.isSleeping||e)&&(this.isSleeping=!0,this.autoAppend&&this.$element.detach(),this.hasLayers&&this.layerController.onSlideSleep())},d.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setupBG(),this.hasBG&&this.bgAligner.align(),this.hasLayers&&this.layerController.onSlideWakeup())}}(window,document,jQuery),function(a){var c={};window.MSSlideController=function(d){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,this._timer.refrence=this,this.currentSlide=null,this.slider=d,this.so=d.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(e,d){if(e in c){throw new Error(e+", is already registered.")}c[e]=d},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(e,d){if(e in MSSlideController.SliderControlList){throw new Error(e+", is already registered.")}MSSlideController.SliderControlList[e]=d};var b=MSSlideController.prototype;b.setupView=function(){var e=this;this.resize_listener=function(){e.__resize()};var d={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&a.extend(d,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var f=c[this.slider.options.view]||MSBasicView;if(!f._3dreq||window._css3d&&!a.browser.msie||(f=f._fallback||MSBasicView),this.view=new f(d),this.so.overPause){var e=this;this.slider.$element.mouseenter(function(){e.is_over=!0,e._stopTimer()}).mouseleave(function(){e.is_over=!1,e._startTimer()})}},b.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.so.deepLink&&this.__updateWindowHash(),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},b.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),this.so.preload>1){var g,f,d,e=this.so.preload-1;for(f=1;e>=f;++f){if(g=this.view.index+f,g>=this.view.slideList.length){if(!this.so.loop){f=e;continue}g-=this.view.slideList.length}d=this.view.slideList[g],d&&d.loadImages()}for(e>this.view.slideList.length/2&&(e=Math.floor(this.view.slideList.length/2)),f=1;e>=f;++f){if(g=this.view.index-f,0>g){if(!this.so.loop){f=e;continue}g=this.view.slideList.length+g}d=this.view.slideList[g],d&&d.loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},b.onSwipeStart=function(){this.skipTimer()},b.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},b.onTimer=function(){if(this._timer.getTime()>=1000*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1000*this.view.currentSlide.delay-this._timer.getTime()<=300){var d=this.view.currentSlide;d.hasLayers&&d.layerController.animHideLayers(),this.hideCalled=!0}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WAITING))},b._stopTimer=function(){this._timer&&this._timer.stop()},b._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},b.__appendSlides=function(){var d,g,f=0,e=this.view.slideList.length-1;for(f;e>f;++f){d=this.view.slideList[f],d.detached||(d.$element.detach(),d.detached=!0)}for(this.view.appendSlide(this.view.slideList[this.view.index]),e=3,f=1;e>=f;++f){if(g=this.view.index+f,g>=this.view.slideList.length){if(!this.so.loop){f=e;continue}g-=this.view.slideList.length}d=this.view.slideList[g],d.detached=!1,this.view.appendSlide(d)}for(e>this.view.slideList.length/2&&(e=Math.floor(this.view.slideList.length/2)),f=1;e>=f;++f){if(g=this.view.index-f,0>g){if(!this.so.loop){f=e;continue}g=this.view.slideList.length+g}d=this.view.slideList[g],d.detached=!1,this.view.appendSlide(d)}},b.__resize=function(d){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,d),this.view.setSize(this.width,this.currentSlide.getHeight(),d)):this.view.setSize(this.width,Math.max(this.so.minHeight,this.so.heightLimit?Math.min(this.height,this.so.height):this.height),d),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},b.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},b.__updateWindowHash=function(){var j=window.location.hash,g=this.so.deepLink,i=this.so.deepLinkType,d="path"===i?"/":"=",f="path"===i?"/":"&",h=g+d+(this.view.index+1),e=new RegExp(g+d+"[0-9]+","g");window.location.hash=""===j?f+h:e.test(j)?j.replace(e,h):j+f+h},b.__curentSlideInHash=function(){var i=window.location.hash,g=this.so.deepLink,h=this.so.deepLinkType,d="path"===h?"/":"=",e=new RegExp(g+d+"[0-9]+","g");if(e.test(i)){var f=Number(i.match(e)[0].match(/[0-9]+/g).pop());if(!isNaN(f)){return f-1}}return -1},b.__onHashChanged=function(){var d=this.__curentSlideInHash();-1!==d&&this.gotoSlide(d)},b.__findLayerById=function(d){if(!this.currentSlide){return null}var e;return this.currentSlide.layerController&&(e=this.currentSlide.layerController.getLayerById(d)),!e&&this.slider.overlayLayers?this.slider.overlayLayers.layerController.getLayerById(d):e},b.setup=function(){this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slideList[this.so.start-1],this.__resize();var g=this.__curentSlideInHash(),e=-1!==g?g:this.so.start-1;if(this.view.create(e),0===this.so.preload&&this.view.slideList[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var d=this,f=(new Date).getTime();this.wheellistener=function(i){var j=window.event||i.orginalEvent||i;j.preventDefault();var k=(new Date).getTime();if(!(400>k-f)){f=k;var l=Math.abs(j.detail||j.wheelDelta);a.browser.mozilla&&(l*=100);var h=15;return j.detail<0||j.wheelDelta>0?l>=h&&d.previous(!0):l>=h&&d.next(!0),!1}},a.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize();var d=this;this.so.deepLink&&a(window).on("hashchange",function(){d.__onHashChanged()})},b.index=function(){return this.view.index},b.count=function(){return this.view.slidesCount},b.next=function(d){this.skipTimer(),this.view.next(d)},b.previous=function(d){this.skipTimer(),this.view.previous(d)},b.gotoSlide=function(d){d=Math.min(d,this.count()-1),this.skipTimer(),this.view.gotoSlide(d)},b.destroy=function(d){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.DESTROY)),this.slider.destroy(d)},b._destroy=function(){this._timer.reset(),this._timer=null,a(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(a.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},b.runAction=function(f){var e=[];if(-1!==f.indexOf("(")){var d=f.slice(0,f.indexOf("("));e=f.slice(f.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),f=d}f in this?this[f].apply(this,e):console},b.update=function(d){this.slider.init_safemode&&d&&(this.slider.init_safemode=!1),this.__resize(d),d&&this.dispatchEvent(new MSSliderEvent(MSSliderEvent.HARD_UPDATE))},b.locate=function(){this.__resize()},b.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},b.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},b.currentTime=function(){return this._delayProgress},b.showLayer=function(d,e){var f=this.__findLayerById(d);f&&(e?(clearTimeout(f.actionTimeout),f.actionTimeout=setTimeout(this.showLayer,e,d,0)):f.start())},b.hideLayer=function(d,e){var f=this.__findLayerById(d);f&&(e?(clearTimeout(f.actionTimeout),f.actionTimeout=setTimeout(this.hideLayer,e,d,0)):f.hide())},b.toggleLayer=function(d,e){var f=this.__findLayerById(d);f&&(e?(clearTimeout(f.actionTimeout),f.actionTimeout=setTimeout(this.toggleLayer,e,d,0)):f.isShowing?f.hide():f.start())},b.showLayers=function(f,e){var d=this;a.each(f.replace(/\s+/g,"").split("|"),function(h,g){d.showLayer(g,e)})},b.hideLayers=function(f,e){var d=this;a.each(f.replace(/\s+/g,"").split("|"),function(h,g){d.hideLayer(g,e)})},b.toggleLayers=function(f,e){var d=this;a.each(f.replace(/\s+/g,"").split("|"),function(h,g){d.toggleLayer(g,e)})},averta.EventDispatcher.extend(b)}(jQuery),function(c){var a={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer,button:MSButtonLayer};window.MasterSlider=function(){this.options={forceInit:!0,autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,mobileBGVideo:!1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,minHeight:-1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",autofillTarget:null,fullscreenMargin:0,instantStartLayers:!1,parallaxMode:"mouse",rtl:!1,deepLink:null,deepLinkType:"path",disablePlugins:[]},this.slides=[],this.activePlugins=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0,this._holdOn=0;var e=this;this.resize_listener=function(){e._resize()},c(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="2.50.0",MasterSlider.releaseDate="Aug 2016",MasterSlider._plugins=[];var b=MasterSlider;b.registerPlugin=function(e){-1===b._plugins.indexOf(e)&&b._plugins.push(e)};var d=MasterSlider.prototype;d.__setupSlides=function(){var g,e=this,f=0;this.$element.children(".ms-slide").each(function(){var m=c(this);g=new MSSlide,g.$element=m,g.slider=e,g.delay=void 0!==m.data("delay")?m.data("delay"):3,g.fillMode=void 0!==m.data("fill-mode")?m.data("fill-mode"):e.options.fillMode,g.index=f++,g.id=m.data("id");var k=m.children("img:not(.ms-layer)");k.length>0&&g.setBG(k[0]);var n=m.children("video");if(n.length>0&&g.setBGVideo(n),e.controls){for(var j=0,h=e.controls.length;h>j;++j){e.controls[j].slideAction(g)}}m.children("a").each(function(){var i=c(this);"video"===this.getAttribute("data-type")?(g.video=this.getAttribute("href"),g.videoAutoPlay=i.data("autoplay"),i.remove()):i.hasClass("ms-layer")||(g.link=c(this))});e.__createSlideLayers(g,m.find(".ms-layer")),e.slides.push(g),e.slideController.view.addSlide(g)})},d._setupOverlayLayers=function(){var e=this,f=this.$element.children(".ms-overlay-layers").eq(0);if(f.length){var g=new MSOverlayLayers(this);g.$element=f,e.__createSlideLayers(g,f.find(".ms-layer")),this.view.$element.prepend(f),this.overlayLayers=g,g.create()}},d.__createSlideLayers=function(e,f){0!=f.length&&(e.setupLayerController(),f.each(function(h,g){var j,m=c(this);"A"===g.nodeName&&"image"===m.find(">img").data("type")&&(j=c(this),m=j.find("img"));var i=new (a[m.data("type")||"text"]);i.$element=m,i.link=j,i.id=i.$element.data("id"),i.waitForAction=i.$element.data("wait"),i.masked=i.$element.data("masked"),i.maskWidth=i.$element.data("mask-width"),i.maskHeight=i.$element.data("mask-height");var l={},k={};void 0!==m.data("effect")&&(l.name=m.data("effect")),void 0!==m.data("ease")&&(l.ease=m.data("ease")),void 0!==m.data("duration")&&(l.duration=m.data("duration")),void 0!==m.data("delay")&&(l.delay=m.data("delay")),m.data("hide-effect")&&(k.name=m.data("hide-effect")),m.data("hide-ease")&&(k.ease=m.data("hide-ease")),void 0!==m.data("hide-duration")&&(k.duration=m.data("hide-duration")),void 0!==m.data("hide-time")&&(k.time=m.data("hide-time")),i.setStartAnim(l),i.setEndAnim(k),e.layerController.addLayer(i)}))},d._removeLoading=function(){c(window).unbind("resize",this.resize_listener),this.$element.removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},d._resize=function(){if(this.$loading){var e=this.$loading[0].clientWidth/this.aspect;e=this.options.heightLimit?Math.min(e,this.options.height):e,this.$loading.height(e),this.$element.height(e)}},d._shuffleSlides=function(){for(var h,g=this.$element.children(".ms-slide"),f=0,e=g.length;e>f;++f){h=Math.floor(Math.random()*(e-1)),f!=h&&(this.$element[0].insertBefore(g[f],g[h]),g=this.$element.children(".ms-slide"))}},d._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var e=this.options.layout;"boxed"!==e&&"partialview"!==e&&(this.options.fullwidth=!0),("fullscreen"===e||"autofill"===e)&&(this.options.fullheight=!0,"autofill"===e&&(this.$autofillTarget=c(this.options.autofillTarget),0===this.$autofillTarget.length&&(this.$autofillTarget=this.$element.parent()))),"partialview"===e&&this.$element.addClass("ms-layout-partialview"),("fullscreen"===e||"fullwidth"===e||"autofill"===e)&&(c(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),c(window).bind("resize",this.slideController.resize_listener)},d._updateLayout=function(h){var g=h?h.data.that:this,f=g.options.layout,e=g.$element,j=c(window);if("fullscreen"===f){document.body.style.overflow="hidden",e.height(j.height()-g.options.fullscreenMargin-g.topSpace-g.bottomSpace),document.body.style.overflow=""}else{if("autofill"===f){return void e.height(g.$autofillTarget.height()-g.options.fullscreenMargin-g.topSpace-g.bottomSpace).width(g.$autofillTarget.width()-g.leftSpace-g.rightSpace)}}e.width(j.width()-g.leftSpace-g.rightSpace);var i=-e.offset().left+g.leftSpace+g.lastMargin;e.css("margin-left",i),g.lastMargin=i},d._init=function(){if(!(this._holdOn>0)&&this._docReady){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.$controlsCont=c("<div></div>").addClass("ms-inner-controls-cont"),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px"),this.$controlsCont.prepend(this.view.$element),this.$msContainer=c("<div></div>").addClass("ms-container").prependTo(this.$element).append(this.$controlsCont),this.controls){for(var f=0,e=this.controls.length;e>f;++f){this.controls[f].setup()}}if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this._setupOverlayLayers(),this.controls){for(f=0,e=this.controls.length;e>f;++f){this.controls[f].create()}}if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var g=this.view.$element;g.mousedown(function(){g.removeClass("ms-grab-cursor"),g.addClass("ms-grabbing-cursor"),c.browser.msie&&window.ms_grabbing_curosr&&(g[0].style.cursor="url("+window.ms_grabbing_curosr+"), move")}).addClass("ms-grab-cursor"),c(document).mouseup(function(){g.removeClass("ms-grabbing-cursor"),g.addClass("ms-grab-cursor"),c.browser.msie&&window.ms_grab_curosr&&(g[0].style.cursor="url("+window.ms_grab_curosr+"), move")})}this.slideController.__dispatchInit()}},d.setHeight=function(e){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:e},{ease:"easeOutQuart"})):this.slideController.view.$element.height(e)},d.reserveSpace=function(f,g){var e=f+"Space",h=this[e];return this[e]+=g,this._updateSideMargins(),h},d._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},d._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},d.control=function(g,f){if(g in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var e=new MSSlideController.SliderControlList[g](f);return e.slider=this,this.controls.push(e),this}},d.holdOn=function(){this._holdOn++},d.release=function(){this._holdOn--,this._init()},d.setup=function(n,f){if(this.$element="string"==typeof n?c("#"+n):n.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),c.browser.msie?this.$element.addClass("ms-ie").addClass("ms-ie"+c.browser.version.slice(0,c.browser.version.indexOf("."))):c.browser.webkit?this.$element.addClass("ms-wk"):c.browser.mozilla&&this.$element.addClass("ms-moz");var h=navigator.userAgent.toLowerCase(),j=h.indexOf("android")>-1;j&&this.$element.addClass("ms-android");var m=this;c.extend(this.options,f),this.aspect=this.options.width/this.options.height,this.$loading=c("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(c("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController;for(var g=0,e=b._plugins.length;g!==e;g++){var k=b._plugins[g];-1===this.options.disablePlugins.indexOf(k.name)&&this.activePlugins.push(new k(this))}return this.options.forceInit&&MasterSlider.addJQReadyErrorCheck(this),c(document).ready(function(){m.initialized||(m._docReady=!0,m._init())}),this}},d.destroy=function(h){for(var f=0,e=this.activePlugins.length;f!==e;f++){this.activePlugins[f].destroy()}if(this.controls){for(f=0,e=this.controls.length;f!==e;f++){this.controls[f].destroy()}}this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),h?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var g=this.options.layout;("fullscreen"===g||"fullwidth"===g)&&c(window).unbind("resize",this._updateLayout),this.view=null,this.slides=null,this.options=null,this.slideController=null,this.api=null,this.resize_listener=null,this.activePlugins=null}}(jQuery),function(d,b,a,g){function f(i,h){this.element=i,this.$element=d(i),this.settings=d.extend({},e,h),this._defaults=e,this._name=c,this.init()}var c="masterslider",e={controls:{}};d.extend(f.prototype,{init:function(){var h=this;this._slider=new MasterSlider;for(var j in this.settings.controls){this._slider.control(j,this.settings.controls[j])}this._slider.setup(this.$element,this.settings);var i=this._slider.api.dispatchEvent;this._slider.api.dispatchEvent=function(k){h.$element.trigger(k.type),i.call(this,k)}},api:function(){return this._slider.api},slider:function(){return this._slider}}),d.fn[c]=function(i){var h=arguments,j="plugin_"+c;if(i===g||"object"==typeof i){return this.each(function(){d.data(this,j)||d.data(this,j,new f(this,i))})}if("string"==typeof i&&"_"!==i[0]&&"init"!==i){var k;return this.each(function(){var l=d.data(this,j);l instanceof f&&"function"==typeof l[i]&&(k=l[i].apply(l,Array.prototype.slice.call(h,1))),l instanceof f&&"function"==typeof l._slider.api[i]&&(k=l._slider.api[i].apply(l._slider.api,Array.prototype.slice.call(h,1))),"destroy"===i&&d.data(this,j,null)}),k!==g?k:this}}}(jQuery,window,document),function(d,c){var b=[];MasterSlider.addJQReadyErrorCheck=function(f){b.push(f)};var a=d.fn.ready,e=c.onerror;d.fn.ready=function(){return c.onerror=function(){if(0!==b.length){for(var g=0,f=b.length;g!==f;g++){var h=b[g];h.initialized||(h._docReady=!0,h._init())}}return e?e.apply(this,arguments):!1},a.apply(this,arguments)}}(jQuery,window,document),window.MSViewEvents=function(a,b){this.type=a,this.data=b},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scroll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function(a){window.MSBasicView=function(c){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},a.extend(this.options,c),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=a("<div></div>").addClass("ms-slide-container"),this.$element=a("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.slideChanged=!1,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-0.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var b=MSBasicView.prototype;b.__snapCompelet=function(){this.slideChanged&&(this.slideChanged=!1,this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},b.__snapUpdate=function(d,c,g){if(this.loop){var f=this.index+g;this.updateLoop(f),f>=this.slidesCount&&(f-=this.slidesCount),0>f&&(f=this.slidesCount+f),this.index=f}else{if(0>c||c>=this.slidesCount){return}this.index=c}this._checkCritMargins(),a.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var e=this.slideList[this.index];e!==this.currentSlide&&(this.currentSlide=e,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.slideChanged=!0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},b._checkCritMargins=function(){if(!this.normalMode){var f=Math.floor(this.options.viewNum/2),e=this.viewSlidesList.indexOf(this.slideList[this.index]),d=this[this.__dimension]+this.spacing,c=this.options.critMargin;return this.loop?void ((c>=e||e>=this.viewSlidesList.length-c)&&(d*=e-f,this.__locateSlides(!1,d+this.start_buffer),this.start_buffer+=d)):void ((c>e&&this.index>=c||e>=this.viewSlidesList.length-c&&this.index<this.slidesCount-c)&&this.__locateSlides(!1))}},b._vertiUpdate=function(c,d){return this.__contPos=d,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void (this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-d+"px)"+this.__translate_end):void (this.$slideCont[0].style.top=-d+"px")},b._horizUpdate=function(c,d){return this.__contPos=d,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?void (this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-d+"px)"+this.__translate_end):void (this.$slideCont[0].style.left=-d+"px")},b.__updateViewList=function(){if(this.normalMode){return void (this.viewSlidesList=this.slides)}var d=this.viewSlidesList.slice();this.viewSlidesList=[];var c,e=0,f=Math.floor(this.options.viewNum/2);if(this.loop){for(;e!==this.options.viewNum;e++){this.viewSlidesList.push(this.slides[this.currentSlideLoc-f+e])}}else{for(e=0;e!==f&&this.index-e!==-1;e++){this.viewSlidesList.unshift(this.slideList[this.index-e])}for(e=1;e!==f&&this.index+e!==this.slidesCount;e++){this.viewSlidesList.push(this.slideList[this.index+e])}}for(e=0,c=d.length;e!==c;e++){-1===this.viewSlidesList.indexOf(d[e])&&d[e].sleep()}d=null,this.currentSlide&&this.__updateSlidesZindex()},b.__locateSlides=function(e,h){this.__updateViewList(),h=this.loop?h||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c,d=this.viewSlidesList.length,f=0;f!==d;f++){var g=h+f*(this[this.__dimension]+this.spacing);c=this.viewSlidesList[f],c.wakeup(),c.position=g,c.$element[0].style[this.__cssProb]=g+"px"}e!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},b.__createLoopList=function(){var d=[],e=0,f=this.slidesCount/2,c=this.slidesCount%2===0?f-1:Math.floor(f),g=this.slidesCount%2===0?f:Math.floor(f);for(this.currentSlideLoc=c,e=1;c>=e;++e){d.unshift(this.slideList[this.index-e<0?this.slidesCount-e+this.index:this.index-e])}for(d.push(this.slideList[this.index]),e=1;g>=e;++e){d.push(this.slideList[this.index+e>=this.slidesCount?this.index+e-this.slidesCount:this.index+e])}return d},b.__getSteps=function(c,f){var d=c>f?this.slidesCount-c+f:f-c,e=Math.abs(this.slidesCount-d);return e>d?d:-e},b.__pushEnd=function(){var e=this.slides.shift(),c=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var d=c.$element[0][this.__offset]+this.spacing+this[this.__dimension];e.$element[0].style[this.__cssProb]=d+"px",e.position=d}},b.__pushStart=function(){var c=this.slides.pop(),e=this.slides[0];if(this.slides.unshift(c),this.normalMode){var d=e.$element[0][this.__offset]-this.spacing-this[this.__dimension];c.$element[0].style[this.__cssProb]=d+"px",c.position=d}},b.__updateSlidesZindex=function(){var c,d=this.viewSlidesList.length;Math.floor(d/2);if(this.loop){for(var g=this.viewSlidesList.indexOf(this.currentSlide),f=0;f!==d;f++){c=this.viewSlidesList[f],this.viewSlidesList[f].$element.css("z-index",g>=f?f+1:d-f)}}else{for(var e=this.currentSlide.index-this.viewSlidesList[0].index,f=0;f!==d;f++){this.viewSlidesList[f].$element.css("z-index",e>=f?f+1:d-f)}this.currentSlide.$element.css("z-index",d)}},b.addSlide=function(c){c.view=this,this.slides.push(c),this.slideList.push(c),this.slidesCount++},b.appendSlide=function(c){this.$slideCont.append(c.$element)},b.updateLoop=function(e){if(this.loop){for(var d=this.__getSteps(this.index,e),f=0,c=Math.abs(d);c>f;++f){0>d?this.__pushStart():this.__pushEnd()}}},b.gotoSlide=function(d,c){this.updateLoop(d),this.index=d;var e=this.slideList[d];this._checkCritMargins(),this.controller.changeTo(e.position,!c,null,null,!1),e!==this.currentSlide&&(this.slideChanged=!0,this.currentSlide=e,this.autoUpdateZIndex&&this.__updateSlidesZindex(),this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),c&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},b.next=function(c){return c&&!this.loop&&this.index+1>=this.slidesCount?void this.controller.bounce(10):void this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},b.previous=function(c){return c&&!this.loop&&this.index-1<0?void this.controller.bounce(-10):void this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},b.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var c=this;this.swipeControl.onSwipe="h"===this.dir?function(d){c.horizSwipeMove(d)}:function(d){c.vertSwipeMove(d)}},b.vertSwipeMove=function(d){var c=d.phase;if("start"===c){this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,d))}else{if("move"===c&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+d.moveY)<this.cont_size/2)){this.controller.drag(d.moveY),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,d))}else{if("end"===c||"cancel"===c){var f=d.distanceY/d.duration*50/3,e=Math.abs(d.distanceY/d.duration*50/3);Math.abs(f)>0.1&&Math.abs(f)>=e?(this.controller.push(-f),f>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,d))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,d)))}}}},b.horizSwipeMove=function(d){var c=d.phase;if("start"===c){this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START,d))}else{if("move"===c&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+d.moveX)<this.cont_size/2)){this.controller.drag(d.moveX),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_MOVE,d))}else{if("end"===c||"cancel"===c){var e=d.distanceX/d.duration*50/3,f=Math.abs(d.distanceY/d.duration*50/3);Math.abs(e)>0.1&&Math.abs(e)>=f?(this.controller.push(-e),e>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END,d))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL,d)))}}}},b.setSize=function(e,c,f){if(this.lastWidth!==e||c!==this.lastHeight||f){this.$element.width(e).height(c);for(var d=0;d<this.slidesCount;++d){this.slides[d].setSize(e,c,f)}this.__width=e,this.__height=c,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=e,this.lastHeight=c)}},b.create=function(c){this.__created=!0,this.index=Math.min(c||0,this.slidesCount-1),this.lastSnap=this.index,this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum;for(var d=0;d<this.slidesCount;++d){this.slides[d].create()}this.__locateSlides(),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},b.destroy=function(){if(this.__created){for(var c=0;c<this.slidesCount;++c){this.slides[c].destroy()}this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(b),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){window.MSWaveView=function(c){MSBasicView.call(this,c),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d"),this.autoUpdateZIndex=!0},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var b=MSWaveView.prototype,a=MSBasicView.prototype;b._horizUpdate=function(d,f){a._horizUpdate.call(this,d,f);for(var c,h,g=-f,e=0;e<this.slidesCount;++e){c=this.slideList[e],h=-g-c.position,this.__updateSlidesHoriz(c,h)}},b._vertiUpdate=function(d,f){a._vertiUpdate.call(this,d,f);for(var c,h,g=-f,e=0;e<this.slidesCount;++e){c=this.slideList[e],h=-g-c.position,this.__updateSlidesVertic(c,h)}},b.__updateSlidesHoriz=function(c,e){var d=Math.abs(100*e/this.__width);c.$element.css(window._csspfx+"transform","translateZ("+3*-d+"px) rotateY(0.01deg)")},b.__updateSlidesVertic=function(c,d){this.__updateSlidesHoriz(c,d)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(b){MSWaveView.call(this,b),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);var a=MSFadeBasicView.prototype;MSFadeBasicView.prototype;a.__updateSlidesHoriz=function(b,d){var c=Math.abs(0.6*d/this.__width);c=1-Math.min(c,0.6),b.$element.css("opacity",c)},a.__updateSlidesVertic=function(b,c){this.__updateSlidesHoriz(b,c)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(b){MSWaveView.call(this,b),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var a=MSFadeWaveView.prototype;MSWaveView.prototype;a.__updateSlidesHoriz=function(b,d){var c=Math.abs(100*d/this.__width);c=Math.min(c,100),b.$element.css("opacity",1-c/300),b.$element[0].style[window._jcsspfx+"Transform"]="scale("+(1-c/800)+") rotateY(0.01deg) "},a.__updateSlidesVertic=function(b,c){this.__updateSlidesHoriz(b,c)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){window.MSFlowView=function(b){MSWaveView.call(this,b),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var a=MSFlowView.prototype;MSWaveView.prototype;a.__updateSlidesHoriz=function(b,f){var d=Math.abs(100*f/this.__width),c=Math.min(0.3*d,30)*(0>f?-1:1),e=1.2*d;b.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-e+"px) rotateY("+c+"deg) "},a.__updateSlidesVertic=function(b,f){var d=Math.abs(100*f/this.__width),c=Math.min(0.3*d,30)*(0>f?-1:1),e=1.2*d;b.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-e+"px) rotateX("+-c+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(b){MSWaveView.call(this,b),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var a=MSFadeFlowView.prototype;MSWaveView.prototype;a.__calculate=function(d){var c=Math.min(Math.abs(100*d/this.__width),100),b=Math.min(0.5*c,50)*(0>d?-1:1);return{value:c,rvalue:b}},a.__updateSlidesHoriz=function(b,d){var c=this.__calculate(d);b.$element.css("opacity",1-c.value/300),b.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-c.value+"px) rotateY("+c.rvalue+"deg) "},a.__updateSlidesVertic=function(b,d){var c=this.__calculate(d);b.$element.css("opacity",1-c.value/300),b.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+-c.value+"px) rotateX("+-c.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function(b){window.MSMaskView=function(d){MSBasicView.call(this,d),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var c=MSMaskView.prototype,a=MSBasicView.prototype;c.addSlide=function(d){d.view=this,d.$frame=b("<div></div>").addClass("ms-mask-frame").append(d.$element),d.$element[0].style.position="relative",d.autoAppend=!1,this.slides.push(d),this.slideList.push(d),this.slidesCount++},c.setSize=function(f,d){for(var g=this.slides[0].slider,e=0;e<this.slidesCount;++e){this.slides[e].$frame[0].style.width=f+"px",g.options.autoHeight||(this.slides[e].$frame[0].style.height=d+"px")}a.setSize.call(this,f,d)},c._horizUpdate=function(d,f){a._horizUpdate.call(this,d,f);var e=0;if(this.css3){for(e=0;e<this.slidesCount;++e){this.slideList[e].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(f-this.slideList[e].position)+"px)"+this.__translate_end}}else{for(e=0;e<this.slidesCount;++e){this.slideList[e].$element[0].style.left=f-this.slideList[e].position+"px"}}},c._vertiUpdate=function(d,f){a._vertiUpdate.call(this,d,f);var e=0;if(this.css3){for(e=0;e<this.slidesCount;++e){this.slideList[e].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(f-this.slideList[e].position)+"px)"+this.__translate_end}}else{for(e=0;e<this.slidesCount;++e){this.slideList[e].$element[0].style.top=f-this.slideList[e].position+"px"}}},c.__pushEnd=function(){var f=this.slides.shift(),d=this.slides[this.slidesCount-2];if(this.slides.push(f),this.normalMode){var e=d.$frame[0][this.__offset]+this.spacing+this[this.__dimension];f.$frame[0].style[this.__cssProb]=e+"px",f.position=e}},c.__pushStart=function(){var d=this.slides.pop(),f=this.slides[0];if(this.slides.unshift(d),this.normalMode){var e=f.$frame[0][this.__offset]-this.spacing-this[this.__dimension];d.$frame[0].style[this.__cssProb]=e+"px",d.position=e}},c.__updateViewList=function(){if(this.normalMode){return void (this.viewSlidesList=this.slides)}var e=this.viewSlidesList.slice();this.viewSlidesList=[];var d,f=0,g=Math.floor(this.options.viewNum/2);if(this.loop){for(;f!==this.options.viewNum;f++){this.viewSlidesList.push(this.slides[this.currentSlideLoc-g+f])}}else{for(f=0;f!==g&&this.index-f!==-1;f++){this.viewSlidesList.unshift(this.slideList[this.index-f])}for(f=1;f!==g&&this.index+f!==this.slidesCount;f++){this.viewSlidesList.push(this.slideList[this.index+f])}}for(f=0,d=e.length;f!==d;f++){-1===this.viewSlidesList.indexOf(e[f])&&(e[f].sleep(),e[f].$frame.detach())}e=null},c.__locateSlides=function(g,m){this.__updateViewList(),m=this.loop?m||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var d,f=this.viewSlidesList.length,h=0;h!==f;h++){var k=m+h*(this[this.__dimension]+this.spacing);if(d=this.viewSlidesList[h],this.$slideCont.append(d.$frame),d.wakeup(!1),d.position=k,d.selected&&d.bgvideo){try{d.bgvideo.play()}catch(j){}}d.$frame[0].style[this.__cssProb]=k+"px"}g!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){window.MSParallaxMaskView=function(c){MSMaskView.call(this,c),this.$element.removeClass("ms-basic-view").addClass("ms-parallax-mask-view")},MSParallaxMaskView.extend(MSMaskView),MSParallaxMaskView.parallaxAmount=0.5;var b=MSParallaxMaskView.prototype,a=MSBasicView.prototype;b._horizUpdate=function(c,e){a._horizUpdate.call(this,c,e);var d=0;if(this.css3){for(d=0;d<this.slidesCount;++d){this.slideList[d].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(e-this.slideList[d].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end}}else{for(d=0;d<this.slidesCount;++d){this.slideList[d].$element[0].style.left=(e-this.slideList[d].position)*MSParallaxMaskView.parallaxAmount+"px"}}},b._vertiUpdate=function(c,e){a._vertiUpdate.call(this,c,e);var d=0;if(this.css3){for(d=0;d<this.slidesCount;++d){this.slideList[d].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(e-this.slideList[d].position)*MSParallaxMaskView.parallaxAmount+"px)"+this.__translate_end}}else{for(d=0;d<this.slidesCount;++d){this.slideList[d].$element[0].style.top=(e-this.slideList[d].position)*MSParallaxMaskView.parallaxAmount+"px"}}},MSSlideController.registerView("parallaxMask",MSParallaxMaskView)}(jQuery),function(){window.MSFadeView=function(c){MSBasicView.call(this,c),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var b=MSFadeView.prototype,a=MSBasicView.prototype;b.__update=function(d,f){for(var c,h,g=-f,e=0;e<this.slidesCount;++e){c=this.slideList[e],h=-g-c.position,this.__updateSlides(c,h)}},b.__updateSlides=function(c,e){var d=Math.abs(e/this[this.__dimension]);0>=1-d?c.$element.fadeTo(0,0).css("visibility","hidden"):c.$element.fadeTo(0,1-d).css("visibility","")},b.__locateSlides=function(e,h){this.__updateViewList(),h=this.loop?h||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var c,d=this.viewSlidesList.length,f=0;f!==d;f++){var g=h+f*this[this.__dimension];c=this.viewSlidesList[f],c.wakeup(),c.position=g}e!==!1&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},b.__pushEnd=function(){var d=this.slides.shift(),c=this.slides[this.slidesCount-2];this.slides.push(d),d.position=c.position+this[this.__dimension]},b.__pushStart=function(){var c=this.slides.pop(),d=this.slides[0];this.slides.unshift(c),c.position=d.position-this[this.__dimension]},b.create=function(c){a.create.call(this,c),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){window.MSScaleView=function(c){MSBasicView.call(this,c),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var b=MSScaleView.prototype,a=MSFadeView.prototype;b.__updateSlides=function(c,f){var e=Math.abs(f/this[this.__dimension]),d=c.$element[0];0>=1-e?(d.style.opacity=0,d.style.visibility="hidden",d.style[window._jcsspfx+"Transform"]=""):(d.style.opacity=1-e,d.style.visibility="",d.style[window._jcsspfx+"Transform"]="perspective(2000px) translateZ("+e*(0>f?-0.5:0.5)*300+"px)")},b.create=function(c){a.create.call(this,c),this.controller.options.minValidDist=0.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){window.MSStackView=function(c){MSBasicView.call(this,c),this.$element.removeClass("ms-basic-view").addClass("ms-stack-view"),this.controller.renderCallback(this.__update,this),this.autoUpdateZIndex=!0},MSStackView.extend(MSFadeView),MSStackView._3dreq=!0,MSStackView._fallback=MSFadeView;var b=MSStackView.prototype,a=MSFadeView.prototype;b.__updateSlidesZindex=function(){for(var c,d=this.viewSlidesList.length,e=0;e!==d;e++){c=this.viewSlidesList[e],this.viewSlidesList[e].$element.css("z-index",d-e)}},b.__updateSlides=function(c,f){var e=Math.abs(f/this[this.__dimension]),d=c.$element[0];0>=1-e?(d.style.opacity=1,d.style.visibility="hidden",d.style[window._jcsspfx+"Transform"]=""):(d.style.visibility="",d.style[window._jcsspfx+"Transform"]=0>f?"perspective(2000px) translateZ("+-300*e+"px)":this.__translate+"("+-e*this[this.__dimension]+"px)")},b.create=function(c){a.create.call(this,c),this.controller.options.minValidDist=0.03,this.__translate="h"===this.dir?"translateX":"translateY"},MSSlideController.registerView("stack",MSStackView)}(jQuery),function(){var a=2000;window.MSFocusView=function(c){MSWaveView.call(this,c),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;var b=MSFocusView.prototype;MSWaveView.prototype;b.__calcview=function(e,d){var c=d/2*e/(e+a);return c*(e+a)/a},b.__updateSlidesHoriz=function(c,e){var d=Math.abs(100*e/this.__width);d=15*-Math.min(d,100),c.$element.css(window._csspfx+"transform","translateZ("+(d+1)+"px) rotateY(0.01deg) translateX("+(0>e?1:-1)*-this.__calcview(d,this.__width)*this.options.centerSpace+"px)")},b.__updateSlidesVertic=function(c,e){var d=Math.abs(100*e/this.__width);d=15*-Math.min(d,100),c.$element.css(window._csspfx+"transform","translateZ("+(d+1)+"px) rotateY(0.01deg) translateY("+(0>e?1:-1)*-this.__calcview(d,this.__width)*this.options.centerSpace+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(b){MSWaveView.call(this,b),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var a=MSPartialWaveView.prototype;MSWaveView.prototype;a.__updateSlidesHoriz=function(b,d){var c=Math.abs(100*d/this.__width);b.hasBG&&b.$bg_img.css("opacity",(100-Math.abs(120*d/this.__width/3))/100),b.$element.css(window._csspfx+"transform","translateZ("+3*-c+"px) rotateY(0.01deg) translateX("+0.75*d+"px)")},a.__updateSlidesVertic=function(b,d){var c=Math.abs(100*d/this.__width);b.hasBG&&b.$bg_img.css("opacity",(100-Math.abs(120*d/this.__width/3))/100),b.$element.css(window._csspfx+"transform","translateZ("+3*-c+"px) rotateY(0.01deg) translateY("+0.75*d+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(){window.MSBoxView=function(c){MSBasicView.call(this,c),this.$element.removeClass("ms-basic-view").addClass("ms-box-view"),this.controller.renderCallback(this.__update,this)},MSBoxView.extend(MSFadeView),MSBoxView._3dreq=!0;var b=MSBoxView.prototype,a=MSFadeView.prototype;b.__updateSlides=function(c,f){var e=Math.abs(f/this[this.__dimension]),d=c.$element[0];0>=1-e?(d.style.visibility="hidden",d.style[window._jcsspfx+"Transform"]=""):(d.style.visibility="",d.style[window._jcsspfx+"Transform"]="rotate"+this._rotateDir+"("+e*(0>f?1:-1)*90*this._calcFactor+"deg)",d.style[window._jcsspfx+"TransformOrigin"]="50% 50% -"+c[this.__dimension]/2+"px",d.style.zIndex=Math.ceil(2*(1-e)))},b.create=function(c){a.create.call(this,c),this.controller.options.minValidDist=0.03,this._rotateDir="h"===this.options.dir?"Y":"X",this._calcFactor="h"===this.options.dir?1:-1},MSSlideController.registerView("box",MSBoxView)}(jQuery),function(b){var a=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0,customClass:null}},c=a.prototype;c.slideAction=function(){},c.setup=function(){this.cont=this.options.insertTo?b(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts()},c.checkHideUnder=function(){this.options.hideUnder&&(this.needsRealign=!this.options.insetTo&&("left"===this.options.align||"right"===this.options.align)&&this.options.inset===!1,b(window).bind("resize",{that:this},this.onResize),this.onResize())},c.onResize=function(f){var e=f&&f.data.that||this,d=window.innerWidth;d<=e.options.hideUnder&&!e.detached?(e.hide(!0),e.detached=!0,e.onDetach()):d>=e.options.hideUnder&&e.detached&&(e.detached=!1,e.visible(),e.onAppend())},c.create=function(){this.options.autohide&&(this.hide(!0),this.slider.$controlsCont.mouseenter(b.proxy(this._onMouseEnter,this)).mouseleave(b.proxy(this._onMouseLeave,this)).mousedown(b.proxy(this._onMouseDown,this)),this.$element&&this.$element.mouseenter(b.proxy(this._onMouseEnter,this)).mouseleave(b.proxy(this._onMouseLeave,this)).mousedown(b.proxy(this._onMouseDown,this)),b(document).mouseup(b.proxy(this._onMouseUp,this))),this.options.align&&this.$element.addClass("ms-align-"+this.options.align),this.options.customClass&&this.$element&&this.$element.addClass(this.options.customClass)},c._onMouseEnter=function(){this._disableAH||this.mdown||this.visible(),this.mleave=!1},c._onMouseLeave=function(){this.mdown||this.hide(),this.mleave=!0},c._onMouseDown=function(){this.mdown=!0},c._onMouseUp=function(){this.mdown&&this.mleave&&this.hide(),this.mdown=!1},c.onAppend=function(){this.needsRealign&&this.slider._realignControls()},c.onDetach=function(){this.needsRealign&&this.slider._realignControls()},c._hideOnvideoStarts=function(){var d=this;this.slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){d._disableAH=!0,d.hide()}),this.slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){d._disableAH=!1,d.visible()})},c.hide=function(e){if(e){this.$element.css("opacity",0),this.$element.css("display","none")}else{clearTimeout(this.hideTo);var d=this.$element;this.hideTo=setTimeout(function(){CTween.fadeOut(d,400,!1)},20)}this.$element.addClass("ms-ctrl-hide")},c.visible=function(){this.detached||(clearTimeout(this.hideTo),this.$element.css("display",""),CTween.fadeIn(this.$element,400,!1),this.$element.removeClass("ms-ctrl-hide"))},c.destroy=function(){this.options&&this.options.hideUnder&&b(window).unbind("resize",this.onResize)},window.BaseControl=a}(jQuery),function(c){var b=function(e){BaseControl.call(this),c.extend(this.options,e)};b.extend(BaseControl);var d=b.prototype,a=BaseControl.prototype;d.setup=function(){var e=this;this.$next=c("<div></div>").addClass(this.options.prefix+"nav-next").bind("click",function(){e.slider.api.next(!0)}),this.$prev=c("<div></div>").addClass(this.options.prefix+"nav-prev").bind("click",function(){e.slider.api.previous(!0)}),a.setup.call(this),this.cont.append(this.$next),this.cont.append(this.$prev),this.checkHideUnder()},d.hide=function(e){return e?(this.$prev.css("opacity",0).css("display","none"),void this.$next.css("opacity",0).css("display","none")):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1),this.$prev.addClass("ms-ctrl-hide"),void this.$next.addClass("ms-ctrl-hide"))},d.visible=function(){this.detached||(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400),this.$prev.removeClass("ms-ctrl-hide").css("display",""),this.$next.removeClass("ms-ctrl-hide").css("display",""))},d.destroy=function(){a.destroy(),this.$next.remove(),this.$prev.remove()},window.MSArrows=b,MSSlideController.registerControl("arrows",b)}(jQuery),function(c){var a=function(e){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===e.dir,this.options.arrows=!1,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",this.options.hover=!1,c.extend(this.options,e),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};a.extend(BaseControl);var d=a.prototype,b=BaseControl.prototype;d.setup=function(){if(this.$element=c("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),b.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$thumbscont=c("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var e=this;this.$fwd=c("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){e.controller.push(-15)}),this.$bwd=c("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){e.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var f=this.options.align;this.options.inset?this.$element.css(f,this.options.margin):"top"===f?this.$element.detach().prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===f?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}this.checkHideUnder()},d.align=function(){if(!this.detached){var f=this.options.align,e=this.slider.reserveSpace(f,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(f,-e-this.options[this.__alignsize]-this.options.margin)}},d.slideAction=function(e){var i=e.$element.find(".ms-thumb"),h=this,g=c("<div></div>").addClass("ms-thumb-frame").append(i).append(c('<div class="ms-thumb-ol"></div>')).bind(this.options.hover?"hover":"click",function(){h.changeSlide(g)});if(this.options.align&&g.width(this.options.width-("v"===this.options.dir&&"tabs"===this.options.type?12:0)).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),g[0].index=this.index_count++,this.$thumbscont.append(g),this.options.fillMode&&i.is("img")){var f=new window.MSAligner(this.options.fillMode,g,i);i[0].aligner=f,i.one("load",function(){var j=c(this);j[0].aligner.init(j.width(),j.height()),j[0].aligner.align()}).each(c.jqLoadFix)}c.browser.msie&&i.on("dragstart",function(j){j.preventDefault()}),this.thumbs.push(g)},d.create=function(){b.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-0.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var e=this;this.resize_listener=function(){e.__resize()},c(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();var e=this;this.options.wheel&&(this.wheellistener=function(f){var g=window.event||f.orginalEvent||f,h=Math.max(-1,Math.min(1,g.wheelDelta||-g.detail));return e.controller.push(10*-h),!1},c.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.slider.api.addEventListener(MSSliderEvent.HARD_UPDATE,this.realignThumbs,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},d._hMove=function(e,f){return this.__contPos=f,window._cssanim?void (this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-f+"px)"+this.__translate_end):void (this.$thumbscont[0].style.left=-f+"px")},d._vMove=function(e,f){return this.__contPos=f,window._cssanim?void (this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-f+"px)"+this.__translate_end):void (this.$thumbscont[0].style.top=-f+"px")},d.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var e=this;this.swipeControl.onSwipe="h"===this.options.dir?function(f){e.horizSwipeMove(f)}:function(f){e.vertSwipeMove(f)}},d.vertSwipeMove=function(f){if(!this.dTouch){var e=f.phase;if("start"===e){this.controller.stop()}else{if("move"===e){this.controller.drag(f.moveY)}else{if("end"===e||"cancel"===e){var g=Math.abs(f.distanceY/f.duration*50/3);g>0.1?this.controller.push(-f.distanceY/f.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}}}},d.horizSwipeMove=function(f){if(!this.dTouch){var e=f.phase;if("start"===e){this.controller.stop(),this.click_enable=!1}else{if("move"===e){this.controller.drag(f.moveX)}else{if("end"===e||"cancel"===e){var g=Math.abs(f.distanceX/f.duration*50/3);g>0.1?this.controller.push(-f.distanceX/f.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}}}},d.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=e,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},d.realignThumbs=function(){this.$element.find(".ms-thumb").each(function(f,e){e.aligner&&e.aligner.align()})},d.updateThumbscroll=function(){var f=this.thumbSize*this.cindex;if(0/0==this.controller.value&&(this.controller.value=0),f-this.controller.value<0){return void this.controller.gotoSnap(this.cindex,!0)}if(f+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var e=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;return void this.controller.gotoSnap(e,!0)}},d.changeSlide=function(e){this.click_enable&&this.cindex!==e[0].index&&this.slider.api.gotoSlide(e[0].index)},d.unselect=function(e){e.removeClass("ms-thumb-frame-selected")},d.select=function(e){e.addClass("ms-thumb-frame-selected")},d.__resize=function(){var f=this.$element[this.__dimen]();if(this.ls!==f){this.ls=f,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var e=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=e+"px",f>=e?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=0.5*(f-e)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=e-f,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},d.destroy=function(){b.destroy(),this.options.wheel&&(c.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),c(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},window.MSThumblist=a,MSSlideController.registerControl("thumblist",a)}(jQuery),function(c){var a=function(e){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,this.options.space=10,c.extend(this.options,e),this.bullets=[]};a.extend(BaseControl);var d=a.prototype,b=BaseControl.prototype;d.setup=function(){if(b.setup.call(this),this.$element=c("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=c("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){var e=this.options.align;this.options.inset&&this.$element.css(e,this.options.margin)}this.checkHideUnder()},d.create=function(){b.create.call(this);var g=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var f=0;f<this.slider.api.count();++f){var e=c("<div></div>").addClass("ms-bullet");e[0].index=f,e.on("click",function(){g.changeSlide(this.index)}),this.$bullet_cont.append(e),this.bullets.push(e),"h"===this.options.dir?e.css("margin",this.options.space/2):e.css("margin",this.options.space)}"h"===this.options.dir?this.$element.width(e.outerWidth(!0)*this.slider.api.count()):this.$element.css("margin-top",-this.$element.outerHeight(!0)/2),this.select(this.bullets[this.cindex])},d.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=e,this.select(this.bullets[this.cindex]))},d.changeSlide=function(e){this.cindex!==e&&this.slider.api.gotoSlide(e)},d.unselect=function(e){e.removeClass("ms-bullet-selected")},d.select=function(e){e.addClass("ms-bullet-selected")},d.destroy=function(){b.destroy(),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.$element.remove()},window.MSBulltes=a,MSSlideController.registerControl("bullets",a)}(jQuery),function(c){var a=function(e){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,c.extend(this.options,e),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};a.extend(BaseControl);var d=a.prototype,b=BaseControl.prototype;d.setup=function(){if(this.$element=c("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),b.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=c("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css("v"===this.options.dir?{right:"auto",left:"auto"}:{top:"auto",bottom:"auto"});var e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):"top"===e?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===e?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},d.align=function(){if(!this.detached){var f=this.options.align,e=this.slider.reserveSpace(f,2*this.options.margin+this.options.width);this.$element.css(f,-e-this.options.margin-this.options.width)}},d.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),this.options.autohide&&this.$bar.css("opacity","0")}},d._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},d._update=function(){var f=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==f){if(this.lvalue=f,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var e=this;this.hto=setTimeout(function(){e.$bar.css("opacity","0")},150)}return 0>f?void (this.$bar[0].style[this.__dimen]=this.bar_dimen+f+"px"):(f>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-f+"px"),window._cssanim?void (this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+f+"px)"+this.__translate_end):void (this.$bar[0].style[this.__pos]=f+"px"))}},d.destroy=function(){b.destroy(),this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove()},window.MSScrollbar=a,MSSlideController.registerControl("scrollbar",a)}(jQuery),function(c){var b=function(e){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,this.options.margin=0,c.extend(this.options,e)};b.extend(BaseControl);var d=b.prototype,a=BaseControl.prototype;d.setup=function(){if(a.setup.call(this),this.$element=c("<div></div>").addClass(this.options.prefix+"timerbar"),a.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),this.$bar=c("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?(this.$bar.width(this.options.width),this.$element.width(this.options.width)):(this.$bar.height(this.options.width),this.$element.height(this.options.width)),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):"top"===e?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===e?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}this.checkHideUnder()},d.align=function(){if(!this.detached){var f=this.options.align,e=this.slider.reserveSpace(f,2*this.options.margin+this.options.width);this.$element.css(f,-e-this.options.margin-this.options.width)}},d.create=function(){a.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this),this._update()},d._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},d.destroy=function(){a.destroy(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove()},window.MSTimerbar=b,MSSlideController.registerControl("timebar",b)}(jQuery),function(c){var a=function(e){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,c.extend(this.options,e)};a.extend(BaseControl);var d=a.prototype,b=BaseControl.prototype;d.setup=function(){return b.setup.call(this),this.$element=c("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=c("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=c("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),this.$canvas[0].getContext?(this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w,void this.checkHideUnder()):(this.destroy(),void (this.disable=!0))},d.create=function(){if(!this.disable){b.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WAITING,this._update,this);var e=this;this.$element.click(function(){e.slider.api.paused?e.slider.api.resume():e.slider.api.pause()}),this._update()}},d._update=function(){var e=this;c(this).stop(!0).animate({prog:0.01*this.slider.api._delayProgress},{duration:200,step:function(){e._draw()}})},d._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(0.5*this.__w,0.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},d.destroy=function(){b.destroy(),this.disable||(c(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WAITING,this._update,this),this.$element.remove())},window.MSCircleTimer=a,MSSlideController.registerControl("circletimer",a)}(jQuery),function(b){window.MSLightbox=function(d){BaseControl.call(this,d),this.options.autohide=!1,b.extend(this.options,d),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var c=MSLightbox.prototype,a=BaseControl.prototype;c.setup=function(){a.setup.call(this),this.$element=b("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont),this.checkHideUnder()},c.slideAction=function(d){b("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(d.$element).append(b(d.$element.find(".ms-lightbox")))},c.create=function(){a.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function(b){window.MSSlideInfo=function(d){BaseControl.call(this,d),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",b.extend(this.options,d),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var c=MSSlideInfo.prototype,a=BaseControl.prototype;c.setup=function(){if(this.$element=b("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),a.setup.call(this),this.$element.appendTo(this.slider.$controlsCont===this.cont?this.slider.$element:this.cont),!this.options.insetTo&&this.options.align){var d=this.options.align;this.options.inset?this.$element.css(d,this.options.margin):"top"===d?this.$element.prependTo(this.slider.$element).css({"margin-bottom":this.options.margin,position:"relative"}):"bottom"===d?this.$element.css({"margin-top":this.options.margin,position:"relative"}):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}this.checkHideUnder()},c.align=function(){if(!this.detached){var e=this.options.align,d=this.slider.reserveSpace(e,this.options.size+2*this.options.margin);this.$element.css(e,-d-this.options.size-this.options.margin)}},c.slideAction=function(d){var e=b(d.$element.find(".ms-info"));e.detach(),this.data_list[d.index]=e},c.create=function(){a.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},c.update=function(){var d=this.slider.api.index();this.switchEle(this.data_list[d]),this.cindex=d},c.switchEle=function(d){if(this.current_ele){this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null,d.css("position","relative")},target:this.current_ele}),d.css("position","absolute")}this.__show(d)},c.__show=function(d){d.appendTo(this.$element).css("opacity","0"),this.current_ele&&d.height(Math.max(d.height(),this.current_ele.height())),clearTimeout(this.tou),this.tou=setTimeout(function(){CTween.fadeIn(d,MSSlideInfo.fadeDuratation),d.css("height","")},MSSlideInfo.fadeDuratation),d[0].tween&&d[0].tween.stop(!0),this.current_ele=d},c.destroy=function(){a.destroy(),clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.api.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.update,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function(a){window.MSGallery=function(d,c){this.id=d,this.slider=c,this.telement=a("#"+d),this.botcont=a("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=a("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=a("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=a("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),c.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),c.control("slidenum",{insertTo:this.botcont,autohide:!1}),c.control("slideinfo",{insertTo:this.botcont,autohide:!1}),c.control("timebar",{insertTo:this.botcont,autohide:!1}),c.control("bullets",{insertTo:this.botcont,autohide:!1})};var b=MSGallery.prototype;b._init=function(){var c=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){c.slider.api.paused?(c.slider.api.resume(),c.playbtn.addClass("btn-pause")):(c.slider.api.pause(),c.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){c.vthumbs?(c.thumbtoggle.removeClass("btn-hide"),c.vthumbs=!1,c.thumbcont.addClass("hide-thumbs")):(c.thumbtoggle.addClass("btn-hide"),c.thumbcont.removeClass("hide-thumbs"),c.vthumbs=!0)})},b.setup=function(){var c=this;a(document).ready(function(){c._init()})}}(jQuery),function(c){var b=function(g,i,h){return"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+g+"&photoset_id="+i+"&per_page="+h+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},a=function(g,i,h){return"https://api.flickr.com/services/rest/?&method=flickr.people.getPublicPhotos&api_key="+g+"&user_id="+i+"&per_page="+h+"&extras=url_o,description,date_taken,owner_name,views&format=json&jsoncallback=?"},e=function(k,j,l,g,h,i){return"_o"===h&&i?i.url_o:"https://farm"+k+".staticflickr.com/"+j+"/"+l+"_"+g+h+".jpg"};window.MSFlickrV2=function(j,h){var g={count:10,type:"photoset",thumbSize:"q",imgSize:"c"};if(this.slider=j,this.slider.holdOn(),!h.key){return void this.errMsg("Flickr API Key required. Please add it in settings.")}c.extend(g,h),this.options=g;var i=this;"photoset"===this.options.type?c.getJSON(b(this.options.key,this.options.id,this.options.count),function(k){i._photosData(k)}):c.getJSON(a(this.options.key,this.options.id,this.options.count),function(k){i.options.type="photos",i._photosData(k)}),""!==this.options.imgSize&&"-"!==this.options.imgSize&&(this.options.imgSize="_"+this.options.imgSize),this.options.thumbSize="_"+this.options.thumbSize,this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var d=MSFlickrV2.prototype;d._photosData=function(h){if("fail"===h.stat){return void this.errMsg("Flickr API ERROR#"+h.code+": "+h.message)}var g=this;this.options.author||this.options.desc;c.each(h[this.options.type].photo,function(j,k){var l=g.slideTemplate.replace(/{{[\w-]+}}/g,function(i){return i=i.replace(/{{|}}/g,""),f[i]?f[i](k,g):"{{"+i+"}}"});c(l).appendTo(g.slider.$element)}),g._initSlider()},d.errMsg=function(g){this.slider.$element.css("display","block"),this.errEle||(this.errEle=c('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(g)},d._initSlider=function(){this.slider.release()};var f={image:function(h,g){return e(h.farm,h.server,h.id,h.secret,g.options.imgSize,h)},thumb:function(h,g){return e(h.farm,h.server,h.id,h.secret,g.options.thumbSize)},title:function(g){return g.title},"owner-name":function(g){return g.ownername},"date-taken":function(g){return g.datetaken},views:function(g){return g.views},description:function(g){return g.description._content}}}(jQuery),function(a){window.MSFacebookGallery=function(h,f){var e={count:10,type:"photostream",thumbSize:"320",imgSize:"orginal",https:!1,token:""};this.slider=h,this.slider.holdOn(),a.extend(e,f),this.options=e,this.graph="https://graph.facebook.com";var g=this;"photostream"===this.options.type?a.getJSON(this.graph+"/"+this.options.username+"/photos/uploaded/?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(i){g._photosData(i)}):a.getJSON(this.graph+"/"+this.options.albumId+"/photos?fields=source,name,link,images,from&limit="+this.options.count+"&access_token="+this.options.token,function(i){g._photosData(i)}),this.slideTemplate=this.slider.$element.find(".ms-slide")[0].outerHTML,this.slider.$element.find(".ms-slide").remove()};var b=MSFacebookGallery.prototype;b._photosData=function(h){if(h.error){return void this.errMsg("Facebook API ERROR#"+h.error.code+"("+h.error.type+"): "+h.error.message)}for(var g=this,f=(this.options.author||this.options.desc,0),e=h.data.length;f!==e;f++){var j=g.slideTemplate.replace(/{{[\w-]+}}/g,function(i){return i=i.replace(/{{|}}/g,""),d[i]?d[i](h.data[f],g):"{{"+i+"}}"});a(j).appendTo(g.slider.$element)}g._initSlider()},b.errMsg=function(e){this.slider.$element.css("display","block"),this.errEle||(this.errEle=a('<div style="font-family:Arial; color:red; font-size:12px; position:absolute; top:10px; left:10px"></div>').appendTo(this.slider.$loading)),this.errEle.html(e)},b._initSlider=function(){this.slider.release()};var c=function(e,h){if("orginal"===h){return e[0].source}for(var g=0,f=e.length;g!==f;g++){if(-1!==e[g].source.indexOf(h+"x"+h)){return e[g].source}}return e[0].source},d={image:function(f,e){return c(f.images,e.options.imgSize)},thumb:function(f,e){return c(f.images,e.options.thumbSize)},name:function(e){return e.name},"owner-name":function(e){return e.from.name},link:function(e){return e.link}}}(jQuery),function(a){window.MSScrollParallax=function(d,e,c,f){this.fade=f,this.slider=d,this.parallax=e/100,this.bgparallax=c/100,d.api.addEventListener(MSSliderEvent.INIT,this.init,this),d.api.addEventListener(MSSliderEvent.DESTROY,this.destory,this),d.api.addEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),d.api.addEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this)},window.MSScrollParallax.setup=function(d,e,c,f){return window._mobile?void 0:(null==e&&(e=50),null==c&&(c=40),new MSScrollParallax(d,e,c,f))};var b=window.MSScrollParallax.prototype;b.init=function(){this.slider.$element.addClass("ms-scroll-parallax"),this.sliderOffset=this.slider.$element.offset().top,this.updateCurrentSlide();for(var c,f=this.slider.api.view.slideList,e=0,d=f.length;e!==d;e++){c=f[e],c.hasLayers&&(c.layerController.$layers.wrap('<div class="ms-scroll-parallax-cont"></div>'),c.$scrollParallaxCont=c.layerController.$layers.parent())}a(window).on("scroll",{that:this},this.moveParallax).trigger("scroll")},b.resetLayers=function(){if(this.lastSlide){var c=this.lastSlide.$scrollParallaxCont;window._css2d?(c&&(c[0].style[window._jcsspfx+"Transform"]=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style[window._jcsspfx+"Transform"]="")):(c&&(c[0].style.top=""),this.lastSlide.hasBG&&(this.lastSlide.$imgcont[0].style.top="0px"))}},b.updateCurrentSlide=function(){this.lastSlide=this.currentSlide,this.currentSlide=this.slider.api.currentSlide,this.moveParallax({data:{that:this}})},b.moveParallax=function(i){var f=i.data.that,d=f.slider,j=f.sliderOffset,h=a(window).scrollTop(),g=f.currentSlide.$scrollParallaxCont,c=j-h;0>=c?(g&&(window._css3d?g[0].style[window._jcsspfx+"Transform"]="translateY("+-c*f.parallax+"px) translateZ(0.4px)":window._css2d?g[0].style[window._jcsspfx+"Transform"]="translateY("+-c*f.parallax+"px)":g[0].style.top=-c*f.parallax+"px"),f.updateSlidesBG(-c*f.bgparallax+"px",!0),g&&f.fade&&g.css("opacity",1-Math.min(1,-c/d.api.height))):(g&&(window._css2d?g[0].style[window._jcsspfx+"Transform"]="":g[0].style.top=""),f.updateSlidesBG("0px",!1),g&&f.fade&&g.css("opacity",1))},b.updateSlidesBG=function(h,g){for(var f=this.slider.api.view.slideList,c=!g||a.browser.msie||a.browser.opera?"":"fixed",e=0,d=f.length;e!==d;e++){f[e].hasBG&&(f[e].$imgcont[0].style.position=c,f[e].$imgcont[0].style.top=h),f[e].$bgvideocont&&(f[e].$bgvideocont[0].style.position=c,f[e].$bgvideocont[0].style.top=h)}},b.destory=function(){slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this),slider.api.removeEventListener(MSSliderEvent.DESTROY,this.destory,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_END,this.resetLayers,this),slider.api.removeEventListener(MSSliderEvent.CHANGE_START,this.updateCurrentSlide,this),a(window).off("scroll",this.moveParallax)}}(jQuery),function(e,b,d){var a=0;if(d.MasterSlider){var c=function(g){this.slider=g,this.PId=a++,this.slider.options.keyboard&&g.api.addEventListener(MSSliderEvent.INIT,this.init,this)};c.name="MSKeyboardNav";var f=c.prototype;f.init=function(){var g=this.slider.api;e(b).on("keydown.kbnav"+this.PId,function(h){var i=h.which;37===i||40===i?g.previous(!0):(38===i||39===i)&&g.next(!0)})},f.destroy=function(){e(b).off("keydown.kbnav"+this.PId),this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(c)}}(jQuery,document,window),function(e,b,d){var a=0,g=e(d),h=e(b);if(d.MasterSlider){var c=function(i){this.PId=a++,this.slider=i,this.$slider=i.$element,this.slider.options.startOnAppear&&(i.holdOn(),h.ready(e.proxy(this.init,this)))};c.name="MSStartOnAppear";var f=c.prototype;f.init=function(){this.slider.api;g.on("scroll.soa"+this.PId,e.proxy(this._onScroll,this)).trigger("scroll")},f._onScroll=function(){var i=g.scrollTop()+g.height(),j=this.$slider.offset().top;i>j&&(g.off("scroll.soa"+this.PId),this.slider.release())},f.destroy=function(){},MasterSlider.registerPlugin(c)}}(jQuery,document,window),function(a,d){var c={"hue-rotate":"deg",blur:"px"},e={opacity:1,contrast:1,brightness:1,saturate:1,"hue-rotate":0,invert:0,sepia:0,blur:0,grayscale:0};if(d.MasterSlider){var b=function(g){this.slider=g,this.slider.options.filters&&g.api.addEventListener(MSSliderEvent.INIT,this.init,this)};b.name="MSFilters";var f=b.prototype;f.init=function(){var i=this.slider.api,g=i.view;this.filters=this.slider.options.filters,this.slideList=g.slideList,this.slidesCount=g.slidesCount,this.dimension=g[g.__dimension],this.target="slide"===this.slider.options.filterTarget?"$element":"$bg_img",this.filterName=$.browser.webkit?"WebkitFilter":"filter";var j=g.controller.__renderHook.fun,h=g.controller.__renderHook.ref;g.controller.renderCallback(function(k,l){j.call(h,k,l),this.applyEffect(l)},this),this.applyEffect(g.controller.value)},f.applyEffect=function(k){for(var j,g,h=0;h<this.slidesCount;++h){g=this.slideList[h],j=Math.min(1,Math.abs(k-g.position)/this.dimension),g[this.target]&&($.browser.msie?null!=this.filters.opacity&&g[this.target].opacity(1-this.filters.opacity*j):g[this.target][0].style[this.filterName]=this.generateStyle(j))}},f.generateStyle=function(g){var j,i="";for(var h in this.filters){j=c[h]||"",i+=h+"("+(e[h]+(this.filters[h]-e[h])*g)+") "}return i},f.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.INIT,this.init,this)},MasterSlider.registerPlugin(b)}}(document,window,jQuery),function(e,a,d){if(d.MasterSlider){var g=function(h){this.slider=h,h.api.addEventListener(MSSliderEvent.INIT,this.init,this)};g.name="MSScrollToAction";var f=g.prototype;f.init=function(){var h=this.slider.api;h.scrollToEnd=b,h.scrollTo=c},f.destroy=function(){};var c=function(i,h){var i=(this.slider.$element,e(i).eq(0));0!==i.length&&(null==h&&(h=1.4),e("html, body").animate({scrollTop:i.offset().top},1000*h,"easeInOutQuad"))},b=function(i){var h=this.slider.$element;null==i&&(i=1.4),e("html, body").animate({scrollTop:h.offset().top+h.outerHeight(!1)},1000*i,"easeInOutQuad")};MasterSlider.registerPlugin(g)}}(jQuery,document,window),function(d,c){if(c.MSReady){for(var b=0,a=MSReady.length;b!==a;b++){MSReady[b].call(null,d)}}}(jQuery,window,document),function(){window.msCli=function(c){c=c||"pause";var a=masterslider_instances;for(var b in a){a[b].api[c]()}}}(jQuery);