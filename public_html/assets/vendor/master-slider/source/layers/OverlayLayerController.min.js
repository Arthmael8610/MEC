(function(d,c,a,f){c.MSOverlayLayerController=function(g){MSLayerController.apply(this,arguments)};MSOverlayLayerController.extend(MSLayerController);var e=MSOverlayLayerController.prototype;var b=MSLayerController.prototype;e.addLayer=function(h){var g=h.$element.data("show-on"),i=h.$element.data("hide-on");if(i){h.hideOnSlides=i.replace(/\s+/g,"").split(",")}if(g){h.showOnSlides=g.replace(/\s+/g,"").split(",")}b.addLayer.apply(this,arguments)};e.create=function(){b.create.apply(this,arguments);this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.checkLayers.bind(this))};e.checkLayers=function(){if(!this.ready){return}for(var h=0;h!==this.layersCount;++h){var g=this.layers[h];if(!g.waitForAction){if(this._checkForShow(g)){g.start()}else{g.hide()}}}};e._enableParallaxEffect=function(){this.slider.view.$element.on("mousemove",{that:this},this._mouseParallaxMove).on("mouseleave",{that:this},this._resetParalax)};e._disableParallaxEffect=function(){this.slider.view.$element.off("mousemove",this._mouseParallaxMove).off("mouseleave",this._resetParalax)};e._startLayers=function(){for(var h=0;h!==this.layersCount;++h){var g=this.layers[h];if(this._checkForShow(g)&&!g.waitForAction){g.start()}}};e._checkForShow=function(j){var i=this.slider.api.currentSlide.id,g=j.hideOnSlides,h=j.showOnSlides;if(h){return !!i&&h.indexOf(i)!==-1}return !i||!g||(g.length&&g.indexOf(i)===-1)}})(jQuery,window,document);