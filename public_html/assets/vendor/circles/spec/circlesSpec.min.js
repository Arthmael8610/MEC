describe("Circles",function(){it("is defined",function(){expect(typeof Circles).toEqual("function")});var c,d;function b(){return c.firstChild.children[1]}function a(){return c.firstChild.getElementsByTagName("svg")[0]}beforeEach(function(){c=document.createElement("div");c.id="circles-1";document.body.appendChild(c)});afterEach(function(){c.parentNode.removeChild(c)});describe("Creation",function(){it("returns a Circles instance",function(){var e=Circles.create({});expect(e instanceof Circles).toBeTruthy()});it("returns an instance with 0 as value",function(){var e=Circles.create({id:c.id});expect(e.getValue()).toEqual(0)});it("returns an instance with 100 as max value",function(){var e=Circles.create({id:c.id});expect(e.getMaxValue()).toEqual(100)});describe("Generated content",function(){beforeEach(function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null})});it("contains a wrapper with default class",function(){Circles.create({id:c.id,value:40,radius:60,duration:null,wrpClass:"wrapContainer"});expect(c.firstChild.className).toEqual("wrapContainer")});it("contains a wrapper with provided class",function(){expect(c.firstChild.className).toEqual("circles-wrp")});it("contains a SVG tag",function(){expect(a() instanceof SVGSVGElement).toBeTruthy()});it("contains two PATH tags into the SVG",function(){expect(a().getElementsByTagName("path").length).toEqual(2)});it("adds class attributes to the path",function(){expect(a().getElementsByTagName("path")[0].getAttribute("class")).toEqual("circles-maxValueStroke")});it("adds provided class attributes to the path",function(){Circles.create({id:c.id,value:40,radius:60,duration:null,maxValueStrokeClass:"testMaxValueClass",wrpClass:"wrapContainer"});expect(a().getElementsByTagName("path")[0].getAttribute("class")).toEqual("testMaxValueClass")});it("contains the SVG without animation",function(){var e=a().getElementsByTagName("path")[1].getAttribute("d");expect(e).toEqual("M 59.988797973796764 5.000001140776291 A 55 55 0 0 1 92.3939094694214 104.44811165040569 ")});it("contains the SVG with animation",function(){d=Circles.create({id:c.id,value:40,radius:60});var e=c.firstChild.getElementsByTagName("svg")[0].getElementsByTagName("path")[1].getAttribute("d");expect(e).toEqual("M 59.988797973796764 5.000001140776291 A 55 55 0 0 1 63.396635173034774 5.1049831997356705 ")});it("has styles by default",function(){d=Circles.create({id:c.id,value:40,radius:60,text:"%",duration:null});expect(c.firstChild.style[0]).toBeTruthy()});it("can have its styles overridden",function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null,text:"%",styleWrapper:false});expect(c.firstChild.style[0]).toBeFalsy()})});describe("Text",function(){it("has a container",function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null});expect(b() instanceof HTMLDivElement).toBeTruthy()});it("has a container with default class",function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null});expect(b().className).toEqual("circles-text")});it("has a container with provided class",function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null,textClass:"textContainer"});expect(b().className).toEqual("textContainer")});it("contains the supplied text",function(){d=Circles.create({id:c.id,value:40,radius:60,text:"%",duration:null});expect(b().innerHTML).toEqual("%")});it("can be managed by a function",function(){d=Circles.create({id:c.id,value:40,radius:60,text:function(e){return e+"%"},duration:null});expect(b().innerHTML).toEqual("40%")});it("can be empty",function(){d=Circles.create({id:c.id,value:40,radius:60,text:null,duration:null});expect(b().innerHTML).toBeFalsy()});it("has styles by default",function(){d=Circles.create({id:c.id,value:40,radius:60,text:"%",duration:null});expect(b().style[0]).toBeTruthy()});it("can have its styles overridden",function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null,text:"%",styleText:false});expect(b().style[0]).toBeFalsy()})})});describe("API",function(){beforeEach(function(){d=Circles.create({id:c.id,value:40,radius:60,duration:null})});it("can update radius",function(){d.updateRadius(30);expect(a().getAttribute("width")==60).toBeTruthy()});it("can update stroke width",function(){d.updateWidth(20);expect(a().getElementsByTagName("path")[1].getAttribute("stroke-width")==20).toBeTruthy()});it("can update colors",function(){d.updateColors(["#000","#fff"]);var e=a().getElementsByTagName("path");expect(e[0].getAttribute("stroke")==="#000"&&e[1].getAttribute("stroke")==="#fff").toBeTruthy()});it("can get correct percentage",function(){expect(d.getPercent()).toEqual(40)});it("can update value",function(){d.update(50);expect(d.getPercent()).toEqual(50)});it("can get correct value from percentage",function(){d=Circles.create({id:c.id,maxValue:1000,duration:null});expect(d.getValueFromPercent(25)).toEqual(250)});it("can return HTML representation of a number",function(){expect(d.htmlifyNumber(12.43,"int","float")).toEqual('<span class="int">12</span>.<span class="float">43</span>')})})});