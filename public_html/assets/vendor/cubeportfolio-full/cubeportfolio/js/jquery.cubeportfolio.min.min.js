!function(c,b,f,d){function a(g,j,e){var i=this;if(c.data(g,"cubeportfolio")){throw new Error("cubeportfolio is already initialized. Destroy it before initialize again!")}i.obj=g,i.$obj=c(g),c.data(i.obj,"cubeportfolio",i),j.sortToPreventGaps!==d&&(j.sortByDimension=j.sortToPreventGaps,delete j.sortToPreventGaps),i.options=c.extend({},c.fn.cubeportfolio.options,j,i.$obj.data("cbp-options")),i.isAnimating=!0,i.defaultFilter=i.options.defaultFilter,i.registeredEvents=[],i.queue=[],i.addedWrapp=!1,c.isFunction(e)&&i.registerEvent("initFinish",e,!0);var h=i.$obj.children();i.$obj.addClass("cbp"),(0===h.length||h.first().hasClass("cbp-item"))&&(i.wrapInner(i.obj,"cbp-wrapper"),i.addedWrapp=!0),i.$ul=i.$obj.children().addClass("cbp-wrapper"),i.wrapInner(i.obj,"cbp-wrapper-outer"),i.wrapper=i.$obj.children(".cbp-wrapper-outer"),i.blocks=i.$ul.children(".cbp-item"),i.blocksOn=i.blocks,i.wrapInner(i.blocks,"cbp-item-wrapper"),i.plugins={},c.each(a.plugins,function(l,k){var m=k(i);m&&(i.plugins[l]=m)}),i.triggerEvent("afterPlugins"),i.removeAttrAfterStoreData=c.Deferred(),i.loadImages(i.$obj,i.display)}c.extend(a.prototype,{storeData:function(e,h){var g=this;h=h||0,e.each(function(l,k){var j=c(k),n=j.width(),m=j.height();j.data("cbp",{index:h+l,indexInitial:h+l,wrapper:j.children(".cbp-item-wrapper"),widthInitial:n,heightInitial:m,width:n,height:m,widthAndGap:n+g.options.gapVertical,heightAndGap:m+g.options.gapHorizontal,left:null,leftNew:null,top:null,topNew:null,pack:!1})}),this.removeAttrAfterStoreData.resolve()},wrapInner:function(l,j){var h,g,k;if(j=j||"",!(l.length&&l.length<1)){for(l.length===d&&(l=[l]),g=l.length-1;g>=0;g--){for(h=l[g],(k=f.createElement("div")).setAttribute("class",j);h.childNodes.length;){k.appendChild(h.childNodes[0])}h.appendChild(k)}}},removeAttrImage:function(g){this.removeAttrAfterStoreData.then(function(){g.removeAttribute("width"),g.removeAttribute("height"),g.removeAttribute("style")})},loadImages:function(e,h){var g=this;requestAnimationFrame(function(){var k=e.find("img").map(function(m,o){if(o.hasAttribute("width")&&o.hasAttribute("height")){if(o.style.width=o.getAttribute("width")+"px",o.style.height=o.getAttribute("height")+"px",o.hasAttribute("data-cbp-src")){return null}if(null===g.checkSrc(o)){g.removeAttrImage(o)}else{var l=c("<img>");l.on("load.cbp error.cbp",function(){c(this).off("load.cbp error.cbp"),g.removeAttrImage(o)}),o.srcset?(l.attr("sizes",o.sizes||"100vw"),l.attr("srcset",o.srcset)):l.attr("src",o.src)}return null}return g.checkSrc(o)}),j=k.length;0!==j?c.each(k,function(m,l){var n=c("<img>");n.on("load.cbp error.cbp",function(){c(this).off("load.cbp error.cbp"),0===--j&&h.call(g)}),l.srcset?(n.attr("sizes",l.sizes),n.attr("srcset",l.srcset)):n.attr("src",l.src)}):h.call(g)})},checkSrc:function(h){var k=h.srcset,g=h.src;if(""===g){return null}var e=c("<img>");k?(e.attr("sizes",h.sizes||"100vw"),e.attr("srcset",k)):e.attr("src",g);var j=e[0];return j.complete&&j.naturalWidth!==d&&0!==j.naturalWidth?null:j},display:function(){var g=this;g.width=g.$obj.outerWidth(),g.triggerEvent("initStartRead"),g.triggerEvent("initStartWrite"),g.width>0&&(g.storeData(g.blocks),g.layoutAndAdjustment()),g.triggerEvent("initEndRead"),g.triggerEvent("initEndWrite"),g.$obj.addClass("cbp-ready"),g.runQueue("delayFrame",g.delayFrame)},delayFrame:function(){var g=this;requestAnimationFrame(function(){g.resizeEvent(),g.triggerEvent("initFinish"),g.isAnimating=!1,g.$obj.trigger("initComplete.cbp")})},resizeEvent:function(){var g=this;a["private"].resize.initEvent({instance:g,fn:function(){g.triggerEvent("beforeResizeGrid");var e=g.$obj.outerWidth();e&&g.width!==e&&(g.width=e,"alignCenter"===g.options.gridAdjustment&&(g.wrapper[0].style.maxWidth=""),g.layoutAndAdjustment(),g.triggerEvent("resizeGrid")),g.triggerEvent("resizeWindow")}})},gridAdjust:function(){var e=this;"responsive"===e.options.gridAdjustment?e.responsiveLayout():(e.blocks.removeAttr("style"),e.blocks.each(function(m,l){var h=c(l).data("cbp"),g=l.getBoundingClientRect(),k=e.columnWidthTruncate(g.right-g.left),j=Math.round(g.bottom-g.top);h.height=j,h.heightAndGap=j+e.options.gapHorizontal,h.width=k,h.widthAndGap=k+e.options.gapVertical}),e.widthAvailable=e.width+e.options.gapVertical),e.triggerEvent("gridAdjust")},layoutAndAdjustment:function(h){var g=this;h&&(g.width=g.$obj.outerWidth()),g.gridAdjust(),g.layout()},layout:function(){var e=this;e.computeBlocks(e.filterConcat(e.defaultFilter)),"slider"===e.options.layoutMode?(e.sliderLayoutReset(),e.sliderLayout()):(e.mosaicLayoutReset(),e.mosaicLayout()),e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(g,i){var h=c(i).data("cbp");h.left=h.leftNew,h.top=h.topNew,i.style.left=h.left+"px",i.style.top=h.top+"px"}),e.resizeMainContainer()},computeFilter:function(h){var g=this;g.computeBlocks(h),g.mosaicLayoutReset(),g.mosaicLayout(),g.filterLayout()},filterLayout:function(){var e=this;e.blocksOff.addClass("cbp-item-off"),e.blocksOn.removeClass("cbp-item-off").each(function(g,i){var h=c(i).data("cbp");h.left=h.leftNew,h.top=h.topNew,i.style.left=h.left+"px",i.style.top=h.top+"px"}),e.resizeMainContainer(),e.filterFinish()},filterFinish:function(){var g=this;g.isAnimating=!1,g.$obj.trigger("filterComplete.cbp"),g.triggerEvent("filterFinish")},computeBlocks:function(h){var g=this;g.blocksOnInitial=g.blocksOn,g.blocksOn=g.blocks.filter(h),g.blocksOff=g.blocks.not(h),g.triggerEvent("computeBlocksFinish",h)},responsiveLayout:function(){var e=this;e.cols=e[c.isArray(e.options.mediaQueries)?"getColumnsBreakpoints":"getColumnsAuto"](),e.columnWidth=e.columnWidthTruncate((e.width+e.options.gapVertical)/e.cols),e.widthAvailable=e.columnWidth*e.cols,"mosaic"===e.options.layoutMode&&e.getMosaicWidthReference(),e.blocks.each(function(m,l){var j,h=c(l).data("cbp"),k=1;"mosaic"===e.options.layoutMode&&(k=e.getColsMosaic(h.widthInitial)),j=e.columnWidth*k-e.options.gapVertical,l.style.width=j+"px",h.width=j,h.widthAndGap=j+e.options.gapVertical,l.style.height=""});var g=[];e.blocks.each(function(h,i){c.each(c(i).find("img").filter("[width][height]"),function(l,p){var k=0;c(p).parentsUntil(".cbp-item").each(function(q,s){var r=c(s).width();if(r>0){return k=r,!1}});var j=parseInt(p.getAttribute("width"),10),n=parseInt(p.getAttribute("height"),10),m=parseFloat((j/n).toFixed(10));g.push({el:p,width:k,height:Math.round(k/m)})})}),c.each(g,function(i,h){h.el.width=h.width,h.el.height=h.height,h.el.style.width=h.width+"px",h.el.style.height=h.height+"px"}),e.blocks.each(function(m,l){var j=c(l).data("cbp"),h=l.getBoundingClientRect(),k=Math.round(h.bottom-h.top);j.height=k,j.heightAndGap=k+e.options.gapHorizontal})},getMosaicWidthReference:function(){var e=this,g=[];e.blocks.each(function(j,k){var h=c(k).data("cbp");g.push(h.widthInitial)}),g.sort(function(i,h){return i-h}),g[0]?e.mosaicWidthReference=g[0]:e.mosaicWidthReference=e.columnWidth},getColsMosaic:function(h){var g=this;if(h===g.width){return g.cols}var i=h/g.mosaicWidthReference;return i=i%1>=0.79?Math.ceil(i):Math.floor(i),Math.min(Math.max(i,1),g.cols)},getColumnsAuto:function(){var h=this;if(0===h.blocks.length){return 1}var g=h.blocks.first().data("cbp").widthInitial+h.options.gapVertical;return Math.max(Math.round(h.width/g),1)},getColumnsBreakpoints:function(){var e,h=this,g=h.width;return c.each(h.options.mediaQueries,function(i,j){if(g>=j.width){return e=j,!1}}),e||(e=h.options.mediaQueries[h.options.mediaQueries.length-1]),h.triggerEvent("onMediaQueries",e.options),e.cols},columnWidthTruncate:function(g){return Math.floor(g)},resizeMainContainer:function(){var g,h=this,e=Math.max(h.freeSpaces.slice(-1)[0].topStart-h.options.gapHorizontal,0);"alignCenter"===h.options.gridAdjustment&&(g=0,h.blocksOn.each(function(m,l){var k=c(l).data("cbp"),j=k.left+k.width;j>g&&(g=j)}),h.wrapper[0].style.maxWidth=g+"px"),e!==h.height?(h.obj.style.height=e+"px",h.height!==d&&(a["private"].modernBrowser?h.$obj.one(a["private"].transitionend,function(){h.$obj.trigger("pluginResize.cbp")}):h.$obj.trigger("pluginResize.cbp")),h.height=e,h.triggerEvent("resizeMainContainer")):h.triggerEvent("resizeMainContainer")},filterConcat:function(g){return g.replace(/\|/gi,"")},pushQueue:function(h,g){var i=this;i.queue[h]=i.queue[h]||[],i.queue[h].push(g)},runQueue:function(g,j){var h=this,e=h.queue[g]||[];c.when.apply(c,e).then(c.proxy(j,h))},clearQueue:function(g){this.queue[g]=[]},registerEvent:function(h,g,j){var i=this;i.registeredEvents[h]||(i.registeredEvents[h]=[]),i.registeredEvents[h].push({func:g,oneTime:j||!1})},triggerEvent:function(j,h){var l,k,g=this;if(g.registeredEvents[j]){for(l=0,k=g.registeredEvents[j].length;l<k;l++){g.registeredEvents[j][l].func.call(g,h),g.registeredEvents[j][l].oneTime&&(g.registeredEvents[j].splice(l,1),l--,k--)}}},addItems:function(g,i,h){var e=this;e.wrapInner(g,"cbp-item-wrapper"),e.$ul[h](g.addClass("cbp-item-loading").css({top:"100%",left:0})),a["private"].modernBrowser?g.last().one(a["private"].animationend,function(){e.addItemsFinish(g,i)}):e.addItemsFinish(g,i),e.loadImages(g,function(){if(e.$obj.addClass("cbp-updateItems"),"append"===h){e.storeData(g,e.blocks.length),c.merge(e.blocks,g)}else{e.storeData(g);var j=g.length;e.blocks.each(function(k,l){c(l).data("cbp").index=j+k}),e.blocks=c.merge(g,e.blocks)}e.triggerEvent("addItemsToDOM",g),e.triggerEvent("triggerSort"),e.layoutAndAdjustment(!0),e.elems&&a["public"].showCounter.call(e.obj,e.elems)})},addItemsFinish:function(e,h){var g=this;g.isAnimating=!1,g.$obj.removeClass("cbp-updateItems"),e.removeClass("cbp-item-loading"),c.isFunction(h)&&h.call(g,e),g.$obj.trigger("onAfterLoadMore.cbp",[e])},removeItems:function(e,h){var g=this;g.$obj.addClass("cbp-updateItems"),a["private"].modernBrowser?e.last().one(a["private"].animationend,function(){g.removeItemsFinish(e,h)}):g.removeItemsFinish(e,h),e.each(function(i,j){g.blocks.each(function(l,k){if(j===k){var m=c(k);g.blocks.splice(l,1),a["private"].modernBrowser?(m.one(a["private"].animationend,function(){m.remove()}),m.addClass("cbp-removeItem")):m.remove()}})}),g.blocks.each(function(i,j){c(j).data("cbp").index=i}),g.triggerEvent("triggerSort"),g.layoutAndAdjustment(!0),g.elems&&a["public"].showCounter.call(g.obj,g.elems)},removeItemsFinish:function(e,h){var g=this;g.isAnimating=!1,g.$obj.removeClass("cbp-updateItems"),c.isFunction(h)&&h.call(g,e)}}),c.fn.cubeportfolio=function(h,g,i){return this.each(function(){if("object"==typeof h||!h){return a["public"].init.call(this,h,g)}if(a["public"][h]){return a["public"][h].call(this,g,i)}throw new Error("Method "+h+" does not exist on jquery.cubeportfolio.js")})},a.plugins={},c.fn.cubeportfolio.constructor=a}(jQuery,window,document),function(c,b,f,d){var a=c.fn.cubeportfolio.constructor;c.extend(a.prototype,{mosaicLayoutReset:function(){var e=this;e.blocksAreSorted=!1,e.blocksOn.each(function(h,g){c(g).data("cbp").pack=!1,e.options.sortByDimension&&(g.style.height="")}),e.freeSpaces=[{leftStart:0,leftEnd:e.widthAvailable,topStart:0,topEnd:Math.pow(2,18)}]},mosaicLayout:function(){for(var h=this,g=0,j=h.blocksOn.length;g<j;g++){var i=h.getSpaceIndexAndBlock();if(null===i){return h.mosaicLayoutReset(),h.blocksAreSorted=!0,h.sortBlocks(h.blocksOn,"widthAndGap","heightAndGap",!0),void h.mosaicLayout()}h.generateF1F2(i.spaceIndex,i.dataBlock),h.generateG1G2G3G4(i.dataBlock),h.cleanFreeSpaces(),h.addHeightToBlocks()}h.blocksAreSorted&&h.sortBlocks(h.blocksOn,"topNew","leftNew")},getSpaceIndexAndBlock:function(){var e=this,g=null;return c.each(e.freeSpaces,function(l,j){var h=j.leftEnd-j.leftStart,k=j.topEnd-j.topStart;return e.blocksOn.each(function(m,n){var i=c(n).data("cbp");if(!0!==i.pack){return i.widthAndGap<=h&&i.heightAndGap<=k?(i.pack=!0,g={spaceIndex:l,dataBlock:i},i.leftNew=j.leftStart,i.topNew=j.topStart,!1):void 0}}),!e.blocksAreSorted&&e.options.sortByDimension&&l>0?(g=null,!1):null===g&&void 0}),g},generateF1F2:function(k,j){var m=this,l=m.freeSpaces[k],h={leftStart:l.leftStart+j.widthAndGap,leftEnd:l.leftEnd,topStart:l.topStart,topEnd:l.topEnd},g={leftStart:l.leftStart,leftEnd:l.leftEnd,topStart:l.topStart+j.heightAndGap,topEnd:l.topEnd};m.freeSpaces.splice(k,1),h.leftEnd>h.leftStart&&h.topEnd>h.topStart&&(m.freeSpaces.splice(k,0,h),k++),g.leftEnd>g.leftStart&&g.topEnd>g.topStart&&m.freeSpaces.splice(k,0,g)},generateG1G2G3G4:function(e){var h=this,g=[];c.each(h.freeSpaces,function(l,k){var j=h.intersectSpaces(k,e);null!==j?(h.generateG1(k,j,g),h.generateG2(k,j,g),h.generateG3(k,j,g),h.generateG4(k,j,g)):g.push(k)}),h.freeSpaces=g},intersectSpaces:function(l,j){var p={leftStart:j.leftNew,leftEnd:j.leftNew+j.widthAndGap,topStart:j.topNew,topEnd:j.topNew+j.heightAndGap};if(l.leftStart===p.leftStart&&l.leftEnd===p.leftEnd&&l.topStart===p.topStart&&l.topEnd===p.topEnd){return null}var m=Math.max(l.leftStart,p.leftStart),h=Math.min(l.leftEnd,p.leftEnd),g=Math.max(l.topStart,p.topStart),k=Math.min(l.topEnd,p.topEnd);return h<=m||k<=g?null:{leftStart:m,leftEnd:h,topStart:g,topEnd:k}},generateG1:function(h,g,i){h.topStart!==g.topStart&&i.push({leftStart:h.leftStart,leftEnd:h.leftEnd,topStart:h.topStart,topEnd:g.topStart})},generateG2:function(h,g,i){h.leftEnd!==g.leftEnd&&i.push({leftStart:g.leftEnd,leftEnd:h.leftEnd,topStart:h.topStart,topEnd:h.topEnd})},generateG3:function(h,g,i){h.topEnd!==g.topEnd&&i.push({leftStart:h.leftStart,leftEnd:h.leftEnd,topStart:g.topEnd,topEnd:h.topEnd})},generateG4:function(h,g,i){h.leftStart!==g.leftStart&&i.push({leftStart:h.leftStart,leftEnd:g.leftStart,topStart:h.topStart,topEnd:h.topEnd})},cleanFreeSpaces:function(){var g=this;g.freeSpaces.sort(function(i,h){return i.topStart>h.topStart?1:i.topStart<h.topStart?-1:i.leftStart>h.leftStart?1:i.leftStart<h.leftStart?-1:0}),g.correctSubPixelValues(),g.removeNonMaximalFreeSpaces()},correctSubPixelValues:function(){var j,h,l,k,g=this;for(j=0,h=g.freeSpaces.length-1;j<h;j++){l=g.freeSpaces[j],(k=g.freeSpaces[j+1]).topStart-l.topStart<=1&&(k.topStart=l.topStart)}},removeNonMaximalFreeSpaces:function(){var e=this;e.uniqueFreeSpaces(),e.freeSpaces=c.map(e.freeSpaces,function(h,g){return c.each(e.freeSpaces,function(j,i){if(g!==j){return i.leftStart<=h.leftStart&&i.leftEnd>=h.leftEnd&&i.topStart<=h.topStart&&i.topEnd>=h.topEnd?(h=null,!1):void 0}}),h})},uniqueFreeSpaces:function(){var e=this,g=[];c.each(e.freeSpaces,function(h,i){c.each(g,function(k,j){if(j.leftStart===i.leftStart&&j.leftEnd===i.leftEnd&&j.topStart===i.topStart&&j.topEnd===i.topEnd){return i=null,!1}}),null!==i&&g.push(i)}),e.freeSpaces=g},addHeightToBlocks:function(){var e=this;c.each(e.freeSpaces,function(h,g){e.blocksOn.each(function(l,k){var j=c(k).data("cbp");!0===j.pack&&e.intersectSpaces(g,j)&&-1===g.topStart-j.topNew-j.heightAndGap&&(k.style.height=j.height-1+"px")})})},sortBlocks:function(g,j,h,e){h=void 0===h?"leftNew":h,e=void 0===e?1:-1,g.sort(function(k,i){var m=c(k).data("cbp"),l=c(i).data("cbp");return m[j]>l[j]?e:m[j]<l[j]?-e:m[h]>l[h]?e:m[h]<l[h]?-e:m.index>l.index?e:m.index<l.index?-e:void 0})}})}(jQuery,window,document),jQuery.fn.cubeportfolio.options={filters:"",search:"",layoutMode:"grid",sortByDimension:!1,drag:!0,auto:!1,autoTimeout:5000,autoPauseOnHover:!0,showNavigation:!0,showPagination:!0,rewindNav:!0,scrollByPage:!1,defaultFilter:"*",filterDeeplinking:!1,animationType:"fadeOut",gridAdjustment:"responsive",mediaQueries:!1,gapHorizontal:10,gapVertical:10,caption:"pushTop",displayType:"fadeIn",displayTypeSpeed:400,lightboxDelegate:".cbp-lightbox",lightboxGallery:!0,lightboxTitleSrc:"data-title",lightboxCounter:'<div class="cbp-popup-lightbox-counter">{{current}} of {{total}}</div>',singlePageDelegate:".cbp-singlePage",singlePageDeeplinking:!0,singlePageStickyNavigation:!0,singlePageCounter:'<div class="cbp-popup-singlePage-counter">{{current}} of {{total}}</div>',singlePageAnimation:"left",singlePageCallback:null,singlePageInlineDelegate:".cbp-singlePageInline",singlePageInlineDeeplinking:!1,singlePageInlinePosition:"top",singlePageInlineInFocus:!0,singlePageInlineCallback:null,plugins:{}},function(f,d,h,g){var c=f.fn.cubeportfolio.constructor,b=f(d);c["private"]={publicEvents:function(e,k,j){var a=this;a.events=[],a.initEvent=function(i){0===a.events.length&&a.scrollEvent(),a.events.push(i)},a.destroyEvent=function(i){a.events=f.map(a.events,function(m,l){if(m.instance!==i){return m}}),0===a.events.length&&b.off(e)},a.scrollEvent=function(){var i;b.on(e,function(){clearTimeout(i),i=setTimeout(function(){f.isFunction(j)&&j.call(a)||f.each(a.events,function(m,l){l.fn.call(l.instance)})},k)})}},checkInstance:function(a){var e=f.data(this,"cubeportfolio");if(!e){throw new Error("cubeportfolio is not initialized. Initialize it before calling "+a+" method!")}return e.triggerEvent("publicMethod"),e},browserInfo:function(){var j,l,k=c["private"],i=navigator.appVersion;-1!==i.indexOf("MSIE 8.")?k.browser="ie8":-1!==i.indexOf("MSIE 9.")?k.browser="ie9":-1!==i.indexOf("MSIE 10.")?k.browser="ie10":d.ActiveXObject||"ActiveXObject" in d?k.browser="ie11":/android/gi.test(i)?k.browser="android":/iphone|ipad|ipod/gi.test(i)?k.browser="ios":/chrome/gi.test(i)?k.browser="chrome":k.browser="",void 0!==typeof k.styleSupport("perspective")&&(j=k.styleSupport("transition"),k.transitionend={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[j],l=k.styleSupport("animation"),k.animationend={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"}[l],k.animationDuration={WebkitAnimation:"webkitAnimationDuration",animation:"animationDuration"}[l],k.animationDelay={WebkitAnimation:"webkitAnimationDelay",animation:"animationDelay"}[l],k.transform=k.styleSupport("transform"),j&&l&&k.transform&&(k.modernBrowser=!0))},styleSupport:function(k){var j,l="Webkit"+k.charAt(0).toUpperCase()+k.slice(1),a=h.createElement("div");return k in a.style?j=k:l in a.style&&(j=l),a=null,j}},c["private"].browserInfo(),c["private"].resize=new c["private"].publicEvents("resize.cbp",50,function(){if(d.innerHeight==screen.height){return !0}})}(jQuery,window,document),function(c,b,f,d){var a=c.fn.cubeportfolio.constructor;a["public"]={init:function(h,g){new a(this,h,g)},destroy:function(e){var g=a["private"].checkInstance.call(this,"destroy");g.triggerEvent("beforeDestroy"),c.removeData(this,"cubeportfolio"),g.blocks.removeData("cbp"),g.$obj.removeClass("cbp-ready").removeAttr("style"),g.$ul.removeClass("cbp-wrapper"),a["private"].resize.destroyEvent(g),g.$obj.off(".cbp"),g.blocks.removeClass("cbp-item-off").removeAttr("style"),g.blocks.find(".cbp-item-wrapper").each(function(j,l){var k=c(l),h=k.children();h.length?h.unwrap():k.remove()}),g.destroySlider&&g.destroySlider(),g.$ul.unwrap(),g.addedWrapp&&g.blocks.unwrap(),0===g.blocks.length&&g.$ul.remove(),c.each(g.plugins,function(i,h){"function"==typeof h.destroy&&h.destroy()}),c.isFunction(e)&&e.call(g),g.triggerEvent("afterDestroy")},filter:function(g,j){var i,e=a["private"].checkInstance.call(this,"filter");if(!e.isAnimating){if(e.isAnimating=!0,c.isFunction(j)&&e.registerEvent("filterFinish",j,!0),c.isFunction(g)){if(void 0===(i=g.call(e,e.blocks))){throw new Error("When you call cubeportfolio API `filter` method with a param of type function you must return the blocks that will be visible.")}}else{if(e.options.filterDeeplinking){var h=location.href.replace(/#cbpf=(.*?)([#\?&]|$)/gi,"");location.href=h+"#cbpf="+encodeURIComponent(g),e.singlePage&&e.singlePage.url&&(e.singlePage.url=location.href)}e.defaultFilter=g,i=e.filterConcat(e.defaultFilter)}e.triggerEvent("filterStart",i),e.singlePageInline&&e.singlePageInline.isOpen?e.singlePageInline.close("promise",{callback:function(){e.computeFilter(i)}}):e.computeFilter(i)}},showCounter:function(e,h){var g=a["private"].checkInstance.call(this,"showCounter");c.isFunction(h)&&g.registerEvent("showCounterFinish",h,!0),g.elems=e,e.each(function(){var i=c(this),j=g.blocks.filter(i.data("filter")).length;i.find(".cbp-filter-counter").text(j)}),g.triggerEvent("showCounterFinish",e)},appendItems:function(h,g){a["public"].append.call(this,h,g)},append:function(g,i){var h=a["private"].checkInstance.call(this,"append"),e=c(g).filter(".cbp-item");h.isAnimating||e.length<1?c.isFunction(i)&&i.call(h,e):(h.isAnimating=!0,h.singlePageInline&&h.singlePageInline.isOpen?h.singlePageInline.close("promise",{callback:function(){h.addItems(e,i,"append")}}):h.addItems(e,i,"append"))},prepend:function(g,i){var h=a["private"].checkInstance.call(this,"prepend"),e=c(g).filter(".cbp-item");h.isAnimating||e.length<1?c.isFunction(i)&&i.call(h,e):(h.isAnimating=!0,h.singlePageInline&&h.singlePageInline.isOpen?h.singlePageInline.close("promise",{callback:function(){h.addItems(e,i,"prepend")}}):h.addItems(e,i,"prepend"))},remove:function(g,i){var h=a["private"].checkInstance.call(this,"remove"),e=c(g).filter(".cbp-item");h.isAnimating||e.length<1?c.isFunction(i)&&i.call(h,e):(h.isAnimating=!0,h.singlePageInline&&h.singlePageInline.isOpen?h.singlePageInline.close("promise",{callback:function(){h.removeItems(e,i)}}):h.removeItems(e,i))},layout:function(e){var g=a["private"].checkInstance.call(this,"layout");g.width=g.$obj.outerWidth(),g.isAnimating||g.width<=0?c.isFunction(e)&&e.call(g):("alignCenter"===g.options.gridAdjustment&&(g.wrapper[0].style.maxWidth=""),g.storeData(g.blocks),g.layoutAndAdjustment(),c.isFunction(e)&&e.call(g))}}}(jQuery,window,document),function(c,b,f,d){var a=c.fn.cubeportfolio.constructor;c.extend(a.prototype,{updateSliderPagination:function(){var e,h,g=this;if(g.options.showPagination){for(e=Math.ceil(g.blocksOn.length/g.cols),g.navPagination.empty(),h=e-1;h>=0;h--){c("<div/>",{"class":"cbp-nav-pagination-item","data-slider-action":"jumpTo"}).appendTo(g.navPagination)}g.navPaginationItems=g.navPagination.children()}g.enableDisableNavSlider()},destroySlider:function(){var e=this;"slider"===e.options.layoutMode&&(e.$obj.removeClass("cbp-mode-slider"),e.$ul.removeAttr("style"),e.$ul.off(".cbp"),c(f).off(".cbp"),e.options.auto&&e.stopSliderAuto())},nextSlider:function(h){var g=this;if(g.isEndSlider()){if(!g.isRewindNav()){return}g.sliderActive=0}else{g.options.scrollByPage?g.sliderActive=Math.min(g.sliderActive+g.cols,g.blocksOn.length-g.cols):g.sliderActive+=1}g.goToSlider()},prevSlider:function(h){var g=this;if(g.isStartSlider()){if(!g.isRewindNav()){return}g.sliderActive=g.blocksOn.length-g.cols}else{g.options.scrollByPage?g.sliderActive=Math.max(0,g.sliderActive-g.cols):g.sliderActive-=1}g.goToSlider()},jumpToSlider:function(h){var g=this,i=Math.min(h.index()*g.cols,g.blocksOn.length-g.cols);i!==g.sliderActive&&(g.sliderActive=i,g.goToSlider())},jumpDragToSlider:function(k){var j,m,l,h=this,g=k>0;h.options.scrollByPage?(j=h.cols*h.columnWidth,m=h.cols):(j=h.columnWidth,m=1),k=Math.abs(k),l=Math.floor(k/j)*m,k%j>20&&(l+=m),h.sliderActive=g?Math.min(h.sliderActive+l,h.blocksOn.length-h.cols):Math.max(0,h.sliderActive-l),h.goToSlider()},isStartSlider:function(){return 0===this.sliderActive},isEndSlider:function(){var g=this;return g.sliderActive+g.cols>g.blocksOn.length-1},goToSlider:function(){var g=this;g.enableDisableNavSlider(),g.updateSliderPosition()},startSliderAuto:function(){var g=this;g.isDrag?g.stopSliderAuto():g.timeout=setTimeout(function(){g.nextSlider(),g.startSliderAuto()},g.options.autoTimeout)},stopSliderAuto:function(){clearTimeout(this.timeout)},enableDisableNavSlider:function(){var h,g,i=this;i.isRewindNav()||(g=i.isStartSlider()?"addClass":"removeClass",i.navPrev[g]("cbp-nav-stop"),g=i.isEndSlider()?"addClass":"removeClass",i.navNext[g]("cbp-nav-stop")),i.options.showPagination&&(h=i.options.scrollByPage?Math.ceil(i.sliderActive/i.cols):i.isEndSlider()?i.navPaginationItems.length-1:Math.floor(i.sliderActive/i.cols),i.navPaginationItems.removeClass("cbp-nav-pagination-active").eq(h).addClass("cbp-nav-pagination-active")),i.customPagination&&(h=i.options.scrollByPage?Math.ceil(i.sliderActive/i.cols):i.isEndSlider()?i.customPaginationItems.length-1:Math.floor(i.sliderActive/i.cols),i.customPaginationItems.removeClass(i.customPaginationClass).eq(h).addClass(i.customPaginationClass))},isRewindNav:function(){var g=this;return !g.options.showNavigation||!(g.blocksOn.length<=g.cols)&&!!g.options.rewindNav},sliderItemsLength:function(){return this.blocksOn.length<=this.cols},sliderLayout:function(){var e=this;e.blocksOn.each(function(j,h){var g=c(h).data("cbp");g.leftNew=e.columnWidth*j,g.topNew=0,e.sliderFreeSpaces.push({topStart:g.heightAndGap})}),e.getFreeSpacesForSlider(),e.$ul.width(e.columnWidth*e.blocksOn.length-e.options.gapVertical)},getFreeSpacesForSlider:function(){var g=this;g.freeSpaces=g.sliderFreeSpaces.slice(g.sliderActive,g.sliderActive+g.cols),g.freeSpaces.sort(function(i,h){return i.topStart>h.topStart?1:i.topStart<h.topStart?-1:void 0})},updateSliderPosition:function(){var h=this,g=-h.sliderActive*h.columnWidth;a["private"].modernBrowser?h.$ul[0].style[a["private"].transform]="translate3d("+g+"px, 0px, 0)":h.$ul[0].style.left=g+"px",h.getFreeSpacesForSlider(),h.resizeMainContainer()},dragSlider:function(){function B(g){A.sliderItemsLength()||(C?n=g:g.preventDefault(),A.options.auto&&A.stopSliderAuto(),j?c(t).one("click.cbp",function(){return !1}):(t=c(g.target),x=i(g).x,E=0,q=-A.sliderActive*A.columnWidth,o=A.columnWidth*(A.blocksOn.length-A.cols),D.on(z.move,F),D.on(z.end,e),A.$obj.addClass("cbp-mode-slider-dragStart")))}function e(g){A.$obj.removeClass("cbp-mode-slider-dragStart"),j=!0,0!==E?(t.one("click.cbp",function(h){return !1}),requestAnimationFrame(function(){A.jumpDragToSlider(E),A.$ul.one(a["private"].transitionend,k)})):k.call(A),D.off(z.move),D.off(z.end)}function F(h){((E=x-i(h).x)>8||E<-8)&&h.preventDefault(),A.isDrag=!0;var g=q-E;E<0&&E<q?g=(q-E)/5:E>0&&q-E<-o&&(g=(o+q-E)/5-o),a["private"].modernBrowser?A.$ul[0].style[a["private"].transform]="translate3d("+g+"px, 0px, 0)":A.$ul[0].style.left=g+"px"}function k(){if(j=!1,A.isDrag=!1,A.options.auto){if(A.mouseIsEntered){return}A.startSliderAuto()}}function i(g){return g.originalEvent!==d&&g.originalEvent.touches!==d&&(g=g.originalEvent.touches[0]),{x:g.pageX,y:g.pageY}}var x,E,t,q,o,n,A=this,D=c(f),j=!1,z={},C=!1;A.isDrag=!1,"ontouchstart" in b||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?(z={start:"touchstart.cbp",move:"touchmove.cbp",end:"touchend.cbp"},C=!0):z={start:"mousedown.cbp",move:"mousemove.cbp",end:"mouseup.cbp"},A.$ul.on(z.start,B)},sliderLayoutReset:function(){var g=this;g.freeSpaces=[],g.sliderFreeSpaces=[]}})}(jQuery,window,document),"function"!=typeof Object.create&&(Object.create=function(b){function a(){}return a.prototype=b,new a}),function(){for(var b=0,a=["moz","webkit"],c=0;c<a.length&&!window.requestAnimationFrame;c++){window.requestAnimationFrame=window[a[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[c]+"CancelAnimationFrame"]||window[a[c]+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(f,h){var g=(new Date).getTime(),e=Math.max(0,16-(g-b)),d=window.setTimeout(function(){f(g+e)},e);return b=g+e,d}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(d){clearTimeout(d)})}(),function(f,d,h,g){function c(i){var a=this;a.parent=i,i.filterLayout=a.filterLayout,i.registerEvent("computeBlocksFinish",function(e){i.blocksOn2On=i.blocksOnInitial.filter(e),i.blocksOn2Off=i.blocksOnInitial.not(e)})}var b=f.fn.cubeportfolio.constructor;c.prototype.filterLayout=function(){function a(){e.blocks.removeClass("cbp-item-on2off cbp-item-off2on cbp-item-on2on").each(function(i,k){var j=f(k).data("cbp");j.left=j.leftNew,j.top=j.topNew,k.style.left=j.left+"px",k.style.top=j.top+"px",k.style[b["private"].transform]=""}),e.blocksOff.addClass("cbp-item-off"),e.$obj.removeClass("cbp-animation-"+e.options.animationType),e.filterFinish()}var e=this;e.$obj.addClass("cbp-animation-"+e.options.animationType),e.blocksOn2On.addClass("cbp-item-on2on").each(function(i,k){var j=f(k).data("cbp");k.style[b["private"].transform]="translate3d("+(j.leftNew-j.left)+"px, "+(j.topNew-j.top)+"px, 0)"}),e.blocksOn2Off.addClass("cbp-item-on2off"),e.blocksOff2On=e.blocksOn.filter(".cbp-item-off").removeClass("cbp-item-off").addClass("cbp-item-off2on").each(function(i,k){var j=f(k).data("cbp");k.style.left=j.leftNew+"px",k.style.top=j.topNew+"px"}),e.blocksOn2Off.length?e.blocksOn2Off.last().data("cbp").wrapper.one(b["private"].animationend,a):e.blocksOff2On.length?e.blocksOff2On.last().data("cbp").wrapper.one(b["private"].animationend,a):e.blocksOn2On.length?e.blocksOn2On.last().one(b["private"].transitionend,a):a(),e.resizeMainContainer()},c.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationClassic=function(a){return !b["private"].modernBrowser||f.inArray(a.options.animationType,["boxShadow","fadeOut","flipBottom","flipOut","quicksand","scaleSides","skew"])<0?null:new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(i){var a=this;a.parent=i,i.filterLayout=a.filterLayout}var b=f.fn.cubeportfolio.constructor;c.prototype.filterLayout=function(){function a(){i.wrapper[0].removeChild(e),"sequentially"===i.options.animationType&&i.blocksOn.each(function(j,k){f(k).data("cbp").wrapper[0].style[b["private"].animationDelay]=""}),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,e=i.$ul[0].cloneNode(!0);e.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(e,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(k,l){var j=f(l).data("cbp");j.left=j.leftNew,j.top=j.topNew,l.style.left=j.left+"px",l.style.top=j.top+"px","sequentially"===i.options.animationType&&(j.wrapper[0].style[b["private"].animationDelay]=60*k+"ms")}),i.blocksOn.length?i.blocksOn.last().data("cbp").wrapper.one(b["private"].animationend,a):i.blocksOnInitial.length?i.blocksOnInitial.last().data("cbp").wrapper.one(b["private"].animationend,a):a(),i.resizeMainContainer()})},c.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationClone=function(a){return !b["private"].modernBrowser||f.inArray(a.options.animationType,["fadeOutTop","slideLeft","sequentially"])<0?null:new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(i){var a=this;a.parent=i,i.filterLayout=a.filterLayout}var b=f.fn.cubeportfolio.constructor;c.prototype.filterLayout=function(){function e(){k.wrapper[0].removeChild(j[0]),k.$obj.removeClass("cbp-animation-"+k.options.animationType),k.blocks.each(function(i,l){f(l).data("cbp").wrapper[0].style[b["private"].animationDelay]=""}),k.filterFinish()}var k=this,j=k.$ul.clone(!0,!0);j[0].setAttribute("class","cbp-wrapper-helper"),k.wrapper[0].insertBefore(j[0],k.$ul[0]);var a=j.find(".cbp-item").not(".cbp-item-off");k.blocksAreSorted&&k.sortBlocks(a,"top","left"),a.children(".cbp-item-wrapper").each(function(l,i){i.style[b["private"].animationDelay]=50*l+"ms"}),requestAnimationFrame(function(){k.$obj.addClass("cbp-animation-"+k.options.animationType),k.blocksOff.addClass("cbp-item-off"),k.blocksOn.removeClass("cbp-item-off").each(function(m,q){var p=f(q).data("cbp");p.left=p.leftNew,p.top=p.topNew,q.style.left=p.left+"px",q.style.top=p.top+"px",p.wrapper[0].style[b["private"].animationDelay]=50*m+"ms"});var l=k.blocksOn.length,i=a.length;0===l&&0===i?e():l<i?a.last().children(".cbp-item-wrapper").one(b["private"].animationend,e):k.blocksOn.last().data("cbp").wrapper.one(b["private"].animationend,e),k.resizeMainContainer()})},c.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationCloneDelay=function(a){return !b["private"].modernBrowser||f.inArray(a.options.animationType,["3dflip","flipOutDelay","foldLeft","frontRow","rotateRoom","rotateSides","scaleDown","slideDelay","unfold"])<0?null:new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(i){var a=this;a.parent=i,i.filterLayout=a.filterLayout}var b=f.fn.cubeportfolio.constructor;c.prototype.filterLayout=function(){function a(){i.wrapper[0].removeChild(e),i.$obj.removeClass("cbp-animation-"+i.options.animationType),i.filterFinish()}var i=this,e=i.$ul[0].cloneNode(!0);e.setAttribute("class","cbp-wrapper-helper"),i.wrapper[0].insertBefore(e,i.$ul[0]),requestAnimationFrame(function(){i.$obj.addClass("cbp-animation-"+i.options.animationType),i.blocksOff.addClass("cbp-item-off"),i.blocksOn.removeClass("cbp-item-off").each(function(j,l){var k=f(l).data("cbp");k.left=k.leftNew,k.top=k.topNew,l.style.left=k.left+"px",l.style.top=k.top+"px"}),i.blocksOn.length?i.$ul.one(b["private"].animationend,a):i.blocksOnInitial.length?f(e).one(b["private"].animationend,a):a(),i.resizeMainContainer()})},c.prototype.destroy=function(){var a=this.parent;a.$obj.removeClass("cbp-animation-"+a.options.animationType)},b.plugins.animationWrapper=function(a){return !b["private"].modernBrowser||f.inArray(a.options.animationType,["bounceBottom","bounceLeft","bounceTop","moveLeft"])<0?null:new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(i){var a=this,j=i.options;a.parent=i,a.captionOn=j.caption,i.registerEvent("onMediaQueries",function(k){k&&k.hasOwnProperty("caption")?a.captionOn!==k.caption&&(a.destroy(),a.captionOn=k.caption,a.init()):a.captionOn!==j.caption&&(a.destroy(),a.captionOn=j.caption,a.init())}),a.init()}var b=f.fn.cubeportfolio.constructor;c.prototype.init=function(){var a=this;""!=a.captionOn&&("expand"===a.captionOn||b["private"].modernBrowser||(a.parent.options.caption=a.captionOn="minimal"),a.parent.$obj.addClass("cbp-caption-active cbp-caption-"+a.captionOn))},c.prototype.destroy=function(){this.parent.$obj.removeClass("cbp-caption-active cbp-caption-"+this.captionOn)},b.plugins.caption=function(a){return new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(a){this.parent=a,a.registerEvent("initFinish",function(){a.$obj.on("click.cbp",".cbp-caption-defaultWrap",function(t){if(t.preventDefault(),!a.isAnimating){a.isAnimating=!0;var q=f(this),k=q.next(),j=q.parent(),p={position:"relative",height:k.outerHeight(!0)},m={position:"relative",height:0};if(a.$obj.addClass("cbp-caption-expand-active"),j.hasClass("cbp-caption-expand-open")){var e=m;m=p,p=e,j.removeClass("cbp-caption-expand-open")}k.css(p),a.$obj.one("pluginResize.cbp",function(){a.isAnimating=!1,a.$obj.removeClass("cbp-caption-expand-active"),0===p.height&&(j.removeClass("cbp-caption-expand-open"),k.attr("style",""))}),a.layoutAndAdjustment(!0),k.css(m),requestAnimationFrame(function(){j.addClass("cbp-caption-expand-open"),k.css(p),a.triggerEvent("gridAdjust"),a.triggerEvent("resizeGrid")})}})},!0)}var b=f.fn.cubeportfolio.constructor;c.prototype.destroy=function(){this.parent.$obj.find(".cbp-caption-defaultWrap").off("click.cbp").parent().removeClass("cbp-caption-expand-active")},b.plugins.captionExpand=function(a){return"expand"!==a.options.caption?null:new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=f.Deferred();a.pushQueue("delayFrame",e),a.blocksOn.each(function(i,j){j.style[b["private"].animationDelay]=i*a.options.displayTypeSpeed+"ms"}),a.$obj.addClass("cbp-displayType-bottomToTop"),a.blocksOn.last().one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-bottomToTop"),a.blocksOn.each(function(j,i){i.style[b["private"].animationDelay]=""}),e.resolve()})}},!0)}var b=f.fn.cubeportfolio.constructor;b.plugins.displayBottomToTop=function(a){return b["private"].modernBrowser&&"bottomToTop"===a.options.displayType&&0!==a.blocksOn.length?new c(a):null}}(jQuery,window,document),function(f,d,h,g){function c(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=f.Deferred();a.pushQueue("delayFrame",e),a.obj.style[b["private"].animationDuration]=a.options.displayTypeSpeed+"ms",a.$obj.addClass("cbp-displayType-fadeIn"),a.$obj.one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-fadeIn"),a.obj.style[b["private"].animationDuration]="",e.resolve()})}},!0)}var b=f.fn.cubeportfolio.constructor;b.plugins.displayFadeIn=function(a){return !b["private"].modernBrowser||"lazyLoading"!==a.options.displayType&&"fadeIn"!==a.options.displayType||0===a.blocksOn.length?null:new c(a)}}(jQuery,window,document),function(f,d,h,g){function c(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=f.Deferred();a.pushQueue("delayFrame",e),a.obj.style[b["private"].animationDuration]=a.options.displayTypeSpeed+"ms",a.$obj.addClass("cbp-displayType-fadeInToTop"),a.$obj.one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-fadeInToTop"),a.obj.style[b["private"].animationDuration]="",e.resolve()})}},!0)}var b=f.fn.cubeportfolio.constructor;b.plugins.displayFadeInToTop=function(a){return b["private"].modernBrowser&&"fadeInToTop"===a.options.displayType&&0!==a.blocksOn.length?new c(a):null}}(jQuery,window,document),function(f,d,h,g){function c(a){a.registerEvent("initEndWrite",function(){if(!(a.width<=0)){var e=f.Deferred();a.pushQueue("delayFrame",e),a.blocksOn.each(function(i,j){j.style[b["private"].animationDelay]=i*a.options.displayTypeSpeed+"ms"}),a.$obj.addClass("cbp-displayType-sequentially"),a.blocksOn.last().one(b["private"].animationend,function(){a.$obj.removeClass("cbp-displayType-sequentially"),a.blocksOn.each(function(j,i){i.style[b["private"].animationDelay]=""}),e.resolve()})}},!0)}var b=f.fn.cubeportfolio.constructor;b.plugins.displaySequentially=function(a){return b["private"].modernBrowser&&"sequentially"===a.options.displayType&&0!==a.blocksOn.length?new c(a):null}}(jQuery,window,document),function(f,d,h,g){function c(a){var e=this;e.parent=a,e.filters=f(a.options.filters),e.filterData=[],a.registerEvent("afterPlugins",function(i){e.filterFromUrl(),e.registerFilter()}),a.registerEvent("resetFiltersVisual",function(){var i=a.options.defaultFilter.split("|");e.filters.each(function(k,l){var j=f(l).find(".cbp-filter-item");f.each(i,function(o,m){var p=j.filter('[data-filter="'+m+'"]');if(p.length){return p.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active"),i.splice(o,1),!1}})}),a.defaultFilter=a.options.defaultFilter})}var b=f.fn.cubeportfolio.constructor;c.prototype.registerFilter=function(){var a=this,i=a.parent,e=i.defaultFilter.split("|");a.wrap=a.filters.find(".cbp-l-filters-dropdownWrap").on({"mouseover.cbp":function(){f(this).addClass("cbp-l-filters-dropdownWrap-open")},"mouseleave.cbp":function(){f(this).removeClass("cbp-l-filters-dropdownWrap-open")}}),a.filters.each(function(m,k){var o=f(k),n="*",j=o.find(".cbp-filter-item"),q={};o.hasClass("cbp-l-filters-dropdown")&&(q.wrap=o.find(".cbp-l-filters-dropdownWrap"),q.header=o.find(".cbp-l-filters-dropdownHeader"),q.headerText=q.header.text()),i.$obj.cubeportfolio("showCounter",j),f.each(e,function(p,l){if(j.filter('[data-filter="'+l+'"]').length){return n=l,e.splice(p,1),!1}}),f.data(k,"filterName",n),a.filterData.push(k),a.filtersCallback(q,j.filter('[data-filter="'+n+'"]')),j.on("click.cbp",function(){var s=f(this);if(!s.hasClass("cbp-filter-item-active")&&!i.isAnimating){a.filtersCallback(q,s),f.data(k,"filterName",s.data("filter"));var l=f.map(a.filterData,function(r,v){var u=f.data(r,"filterName");return""!==u&&"*"!==u?u:null});l.length<1&&(l=["*"]);var p=l.join("|");i.defaultFilter!==p&&i.$obj.cubeportfolio("filter",p)}})})},c.prototype.filtersCallback=function(a,e){f.isEmptyObject(a)||(a.wrap.trigger("mouseleave.cbp"),a.headerText?a.headerText="":a.header.html(e.html())),e.addClass("cbp-filter-item-active").siblings().removeClass("cbp-filter-item-active")},c.prototype.filterFromUrl=function(){var a=/#cbpf=(.*?)([#\?&]|$)/gi.exec(location.href);null!==a&&(this.parent.defaultFilter=decodeURIComponent(a[1]))},c.prototype.destroy=function(){var a=this;a.filters.find(".cbp-filter-item").off(".cbp"),a.wrap.off(".cbp")},b.plugins.filters=function(a){return""===a.options.filters?null:new c(a)}}(jQuery,window,document),function(c,b,f,d){function a(e){var h=e.options.gapVertical,g=e.options.gapHorizontal;e.registerEvent("onMediaQueries",function(j){e.options.gapVertical=j&&j.hasOwnProperty("gapVertical")?j.gapVertical:h,e.options.gapHorizontal=j&&j.hasOwnProperty("gapHorizontal")?j.gapHorizontal:g,e.blocks.each(function(m,l){var k=c(l).data("cbp");k.widthAndGap=k.width+e.options.gapVertical,k.heightAndGap=k.height+e.options.gapHorizontal})})}c.fn.cubeportfolio.constructor.plugins.changeGapOnMediaQueries=function(g){return new a(g)}}(jQuery,window,document),function(h,d,k,j){function c(a){var e=this;e.parent=a,e.options=h.extend({},g,e.parent.options.plugins.inlineSlider),e.runInit(),a.registerEvent("addItemsToDOM",function(){e.runInit()})}function b(i){var a=this;i.hasClass("cbp-slider-inline-ready")||(i.addClass("cbp-slider-inline-ready"),a.items=i.find(".cbp-slider-wrapper").children(".cbp-slider-item"),a.active=a.items.filter(".cbp-slider-item--active").index(),a.total=a.items.length-1,a.updateLeft(),i.find(".cbp-slider-next").on("click.cbp",function(l){l.preventDefault(),a.active<a.total?(a.active++,a.updateLeft()):a.active===a.total&&(a.active=0,a.updateLeft())}),i.find(".cbp-slider-prev").on("click.cbp",function(l){l.preventDefault(),a.active>0?(a.active--,a.updateLeft()):0===a.active&&(a.active=a.total,a.updateLeft())}))}var g={},f=h.fn.cubeportfolio.constructor;b.prototype.updateLeft=function(){var a=this;a.items.removeClass("cbp-slider-item--active"),a.items.eq(a.active).addClass("cbp-slider-item--active"),a.items.each(function(e,i){i.style.left=e-a.active+"00%"})},c.prototype.runInit=function(){var a=this;a.parent.$obj.find(".cbp-slider-inline").not(".cbp-slider-inline-ready").each(function(p,m){var e=h(m),l=e.find(".cbp-slider-item--active").find("img")[0];l.hasAttribute("data-cbp-src")?a.parent.$obj.on("lazyLoad.cbp",function(n,i){i.src===l.src&&new b(e)}):new b(e)})},c.prototype.destroy=function(){var a=this;a.parent.$obj.find(".cbp-slider-next").off("click.cbp"),a.parent.$obj.find(".cbp-slider-prev").off("click.cbp"),a.parent.$obj.off("lazyLoad.cbp"),a.parent.$obj.find(".cbp-slider-inline").each(function(l,p){var m=h(p);m.removeClass("cbp-slider-inline-ready");var e=m.find(".cbp-slider-item");e.removeClass("cbp-slider-item--active"),e.removeAttr("style"),e.eq(0).addClass("cbp-slider-item--active")})},f.plugins.inlineSlider=function(a){return new c(a)}}(jQuery,window,document),function(h,d,k,j){function c(a){var e=this;e.parent=a,e.options=h.extend({},b,e.parent.options.plugins.lazyLoad),a.registerEvent("initFinish",function(){e.loadImages(),a.registerEvent("resizeMainContainer",function(){e.loadImages()}),a.registerEvent("filterFinish",function(){e.loadImages()}),g["private"].lazyLoadScroll.initEvent({instance:e,fn:e.loadImages})},!0)}var b={loadingClass:"cbp-lazyload",threshold:400},g=h.fn.cubeportfolio.constructor,f=h(d);g["private"].lazyLoadScroll=new g["private"].publicEvents("scroll.cbplazyLoad",50),c.prototype.loadImages=function(){var a=this,e=a.parent.$obj.find("img").filter("[data-cbp-src]");0!==e.length&&(a.screenHeight=f.height(),e.each(function(q,p){var m=h(p.parentNode);if(a.isElementInScreen(p)){var l=p.getAttribute("data-cbp-src");null===a.parent.checkSrc(h("<img>").attr("src",l))?(a.removeLazyLoad(p,l),m.removeClass(a.options.loadingClass)):(m.addClass(a.options.loadingClass),h("<img>").on("load.cbp error.cbp",function(){a.removeLazyLoad(p,l,m)}).attr("src",l))}else{m.addClass(a.options.loadingClass)}}))},c.prototype.removeLazyLoad=function(e,m,l){var a=this;e.src=m,e.removeAttribute("data-cbp-src"),a.parent.removeAttrImage(e),a.parent.$obj.trigger("lazyLoad.cbp",e),l&&(g["private"].modernBrowser?h(e).one(g["private"].transitionend,function(){l.removeClass(a.options.loadingClass)}):l.removeClass(a.options.loadingClass))},c.prototype.isElementInScreen=function(m){var l=this,q=m.getBoundingClientRect(),p=q.bottom+l.options.threshold,a=l.screenHeight+p-(q.top-l.options.threshold);return p>=0&&p<=a},c.prototype.destroy=function(){g["private"].lazyLoadScroll.destroyEvent(this)},g.plugins.lazyLoad=function(a){return new c(a)}}(jQuery,window,document),function(g,d,j,h){function c(a){var e=this;e.parent=a,e.options=g.extend({},b,e.parent.options.plugins.loadMore),e.loadMore=g(e.options.element).find(".cbp-l-loadMore-link"),0!==e.loadMore.length&&(e.loadItems=e.loadMore.find(".cbp-l-loadMore-loadItems"),"0"===e.loadItems.text()&&e.loadMore.addClass("cbp-l-loadMore-stop"),a.registerEvent("filterStart",function(i){e.populateItems().then(function(){var k=e.items.filter(i).length;k>0?(e.loadMore.removeClass("cbp-l-loadMore-stop"),e.loadItems.html(k)):e.loadMore.addClass("cbp-l-loadMore-stop")})}),e[e.options.action]())}var b={element:"",action:"click",loadItems:3},f=g.fn.cubeportfolio.constructor;c.prototype.populateItems=function(){var a=this;return a.items?g.Deferred().resolve():(a.items=g(),g.ajax({url:a.loadMore.attr("href"),type:"GET",dataType:"HTML"}).done(function(i){var e=g.map(i.split(/\r?\n/),function(k,l){return g.trim(k)}).join("");0!==e.length&&g.each(g.parseHTML(e),function(l,k){g(k).hasClass("cbp-item")?a.items=a.items.add(k):g.each(k.children,function(p,m){g(m).hasClass("cbp-item")&&(a.items=a.items.add(m))})})}).fail(function(){a.items=null,a.loadMore.removeClass("cbp-l-loadMore-loading")}))},c.prototype.populateInsertItems=function(l){var p=this,m=[],k=p.parent.defaultFilter,e=0;p.items.each(function(a,i){if(e===p.options.loadItems){return !1}k&&"*"!==k?g(i).filter(k).length&&(m.push(i),p.items[a]=null,e++):(m.push(i),p.items[a]=null,e++)}),p.items=p.items.map(function(i,a){return a}),0!==m.length?p.parent.$obj.cubeportfolio("append",m,l):p.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop")},c.prototype.click=function(){function i(){a.loadMore.removeClass("cbp-l-loadMore-loading");var k,l=a.parent.defaultFilter;0===(k=l&&"*"!==l?a.items.filter(l).length:a.items.length)?a.loadMore.addClass("cbp-l-loadMore-stop"):a.loadItems.html(k)}var a=this;a.loadMore.on("click.cbp",function(e){e.preventDefault(),a.parent.isAnimating||a.loadMore.hasClass("cbp-l-loadMore-stop")||(a.loadMore.addClass("cbp-l-loadMore-loading"),a.populateItems().then(function(){a.populateInsertItems(i)}))})},c.prototype.auto=function(){function p(){l||k.loadMore.hasClass("cbp-l-loadMore-stop")||k.loadMore.offset().top-200>e.scrollTop()+e.height()||(l=!0,k.populateItems().then(function(){k.populateInsertItems(m)}).fail(function(){l=!1}))}function m(){var i,a=k.parent.defaultFilter;0===(i=a&&"*"!==a?k.items.filter(a).length:k.items.length)?k.loadMore.removeClass("cbp-l-loadMore-loading").addClass("cbp-l-loadMore-stop"):(k.loadItems.html(i),e.trigger("scroll.loadMore")),l=!1,0===k.items.length&&(f["private"].loadMoreScroll.destroyEvent(k),k.parent.$obj.off("filterComplete.cbp"))}var k=this,e=g(d),l=!1;f["private"].loadMoreScroll=new f["private"].publicEvents("scroll.loadMore",100),k.parent.$obj.one("initComplete.cbp",function(){k.loadMore.addClass("cbp-l-loadMore-loading").on("click.cbp",function(a){a.preventDefault()}),f["private"].loadMoreScroll.initEvent({instance:k,fn:function(){k.parent.isAnimating||p()}}),k.parent.$obj.on("filterComplete.cbp",function(){p()}),p()})},c.prototype.destroy=function(){this.loadMore.off(".cbp"),f["private"].loadMoreScroll&&f["private"].loadMoreScroll.destroyEvent(this)},f.plugins.loadMore=function(i){var a=i.options.plugins;return i.options.loadMore&&(a.loadMore||(a.loadMore={}),a.loadMore.element=i.options.loadMore),i.options.loadMoreAction&&(a.loadMore||(a.loadMore={}),a.loadMore.action=i.options.loadMoreAction),a.loadMore&&void 0!==a.loadMore.selector&&(a.loadMore.element=a.loadMore.selector,delete a.loadMore.selector),a.loadMore&&a.loadMore.element?new c(i):null}}(jQuery,window,document),function(k,u,g,f){function j(c){var a=this;a.parent=c,!1===c.options.lightboxShowCounter&&(c.options.lightboxCounter=""),!1===c.options.singlePageShowCounter&&(c.options.singlePageCounter=""),c.registerEvent("initStartRead",function(){a.run()},!0)}var q=k.fn.cubeportfolio.constructor,b={delay:0},v={init:function(B,n){var w,z=this;if(z.cubeportfolio=B,z.type=n,z.isOpen=!1,z.options=z.cubeportfolio.options,"lightbox"===n&&(z.cubeportfolio.registerEvent("resizeWindow",function(){z.resizeImage()}),z.localOptions=k.extend({},b,z.cubeportfolio.options.plugins.lightbox)),"singlePageInline"!==n){if(z.createMarkup(),"singlePage"===n){if(z.cubeportfolio.registerEvent("resizeWindow",function(){if(z.options.singlePageStickyNavigation){var a=z.contentWrap[0].clientWidth;a>0&&(z.navigationWrap.width(a),z.navigation.width(a))}}),z.options.singlePageDeeplinking){z.url=location.href,"#"===z.url.slice(-1)&&(z.url=z.url.slice(0,-1));var C=z.url.split("#cbp="),r=C.shift();if(k.each(C,function(a,c){if(z.cubeportfolio.blocksOn.each(function(i,p){var l=k(p).find(z.options.singlePageDelegate+'[href="'+c+'"]');if(l.length){return w=l,!1}}),w){return !1}}),w){z.url=r;var e=w,y=e.attr("data-cbp-singlePage"),A=[];y?A=e.closest(k(".cbp-item")).find('[data-cbp-singlePage="'+y+'"]'):z.cubeportfolio.blocksOn.each(function(a,i){var c=k(i);c.not(".cbp-item-off")&&c.find(z.options.singlePageDelegate).each(function(l,o){k(o).attr("data-cbp-singlePage")||A.push(o)})}),z.openSinglePage(A,w[0])}else{if(C.length){var x=g.createElement("a");x.setAttribute("href",C[0]),z.openSinglePage([x],x)}}}z.localOptions=k.extend({},b,z.cubeportfolio.options.plugins.singlePage)}}else{if(z.height=0,z.createMarkupSinglePageInline(),z.cubeportfolio.registerEvent("resizeGrid",function(){z.isOpen&&z.close()}),z.options.singlePageInlineDeeplinking){z.url=location.href,"#"===z.url.slice(-1)&&(z.url=z.url.slice(0,-1));r=(C=z.url.split("#cbpi=")).shift();k.each(C,function(a,c){if(z.cubeportfolio.blocksOn.each(function(i,p){var l=k(p).find(z.options.singlePageInlineDelegate+'[href="'+c+'"]');if(l.length){return w=l,!1}}),w){return !1}}),w&&z.cubeportfolio.registerEvent("initFinish",function(){z.openSinglePageInline(z.cubeportfolio.blocksOn,w[0])},!0)}z.localOptions=k.extend({},b,z.cubeportfolio.options.plugins.singlePageInline)}},createMarkup:function(){var t=this,a="";if("singlePage"===t.type&&"left"!==t.options.singlePageAnimation&&(a=" cbp-popup-singlePage-"+t.options.singlePageAnimation),t.wrap=k("<div/>",{"class":"cbp-popup-wrap cbp-popup-"+t.type+a,"data-action":"lightbox"===t.type?"close":""}).on("click.cbp",function(c){if(!t.stopEvents){var i=k(c.target).attr("data-action");t[i]&&(t[i](),c.preventDefault())}}),"singlePage"===t.type?(t.contentWrap=k("<div/>",{"class":"cbp-popup-content-wrap"}).appendTo(t.wrap),"ios"===q["private"].browser&&t.contentWrap.css("overflow","auto"),t.content=k("<div/>",{"class":"cbp-popup-content"}).appendTo(t.contentWrap)):t.content=k("<div/>",{"class":"cbp-popup-content"}).appendTo(t.wrap),k("<div/>",{"class":"cbp-popup-loadingBox"}).appendTo(t.wrap),"ie8"===q["private"].browser&&(t.bg=k("<div/>",{"class":"cbp-popup-ie8bg","data-action":"lightbox"===t.type?"close":""}).appendTo(t.wrap)),"singlePage"===t.type&&!1===t.options.singlePageStickyNavigation?t.navigationWrap=k("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(t.contentWrap):t.navigationWrap=k("<div/>",{"class":"cbp-popup-navigation-wrap"}).appendTo(t.wrap),t.navigation=k("<div/>",{"class":"cbp-popup-navigation"}).appendTo(t.navigationWrap),t.closeButton=k("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(t.navigation),t.nextButton=k("<div/>",{"class":"cbp-popup-next",title:"Next (Right arrow key)","data-action":"next"}).appendTo(t.navigation),t.prevButton=k("<div/>",{"class":"cbp-popup-prev",title:"Previous (Left arrow key)","data-action":"prev"}).appendTo(t.navigation),"singlePage"===t.type){t.options.singlePageCounter&&(t.counter=k(t.options.singlePageCounter).appendTo(t.navigation),t.counter.text("")),t.content.on("click.cbp",t.options.singlePageDelegate,function(z){z.preventDefault();var p,o,c=t.dataArray.length,y=this.getAttribute("href");for(p=0;p<c;p++){if(t.dataArray[p].url===y){o=p;break}}if(void 0===o){var x=g.createElement("a");x.setAttribute("href",y),t.dataArray=[{url:y,element:x}],t.counterTotal=1,t.nextButton.hide(),t.prevButton.hide(),t.singlePageJumpTo(0)}else{t.singlePageJumpTo(o-t.current)}});var l=!1;try{var e=Object.defineProperty({},"passive",{get:function(){l={passive:!0}}});u.addEventListener("testPassive",null,e),u.removeEventListener("testPassive",null,e)}catch(w){}var n="onwheel" in g.createElement("div")?"wheel":"mousewheel";t.contentWrap[0].addEventListener(n,function(c){c.stopImmediatePropagation()},l)}k(g).on("keydown.cbp",function(c){t.isOpen&&(t.stopEvents||(h&&c.stopImmediatePropagation(),37===c.keyCode?t.prev():39===c.keyCode?t.next():27===c.keyCode&&t.close()))})},createMarkupSinglePageInline:function(){var a=this;a.wrap=k("<div/>",{"class":"cbp-popup-singlePageInline"}).on("click.cbp",function(e){if(!a.stopEvents){var c=k(e.target).attr("data-action");c&&a[c]&&(a[c](),e.preventDefault())}}),a.content=k("<div/>",{"class":"cbp-popup-content"}).appendTo(a.wrap),a.navigation=k("<div/>",{"class":"cbp-popup-navigation"}).appendTo(a.wrap),a.closeButton=k("<div/>",{"class":"cbp-popup-close",title:"Close (Esc arrow key)","data-action":"close"}).appendTo(a.navigation)},destroy:function(){var a=this,c=k("body");k(g).off("keydown.cbp"),c.off("click.cbp",a.options.lightboxDelegate),c.off("click.cbp",a.options.singlePageDelegate),a.content.off("click.cbp",a.options.singlePageDelegate),a.cubeportfolio.$obj.off("click.cbp",a.options.singlePageInlineDelegate),a.cubeportfolio.$obj.off("click.cbp",a.options.lightboxDelegate),a.cubeportfolio.$obj.off("click.cbp",a.options.singlePageDelegate),a.cubeportfolio.$obj.removeClass("cbp-popup-isOpening"),a.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),a.wrap.remove()},openLightbox:function(x,l){var e,t,n=this,w=0,y=[];if(!n.isOpen){if(h=!0,n.isOpen=!0,n.stopEvents=!1,n.dataArray=[],n.current=null,null===(e=l.getAttribute("href"))){throw new Error("HEI! Your clicked element doesn't have a href attribute.")}k.each(x,function(s,B){var A,p=B.getAttribute("href"),z=p,a="isImage";if(-1===k.inArray(p,y)){if(e===p){n.current=w}else{if(!n.options.lightboxGallery){return}}if(/youtu\.?be/i.test(p)){var c=p.lastIndexOf("v=")+2;1===c&&(c=p.lastIndexOf("/")+1),A=p.substring(c),/autoplay=/i.test(A)||(A+="&autoplay=1"),z="//www.youtube.com/embed/"+(A=A.replace(/\?|&/,"?")),a="isYoutube"}else{/vimeo\.com/i.test(p)?(A=p.substring(p.lastIndexOf("/")+1),/autoplay=/i.test(A)||(A+="&autoplay=1"),z="//player.vimeo.com/video/"+(A=A.replace(/\?|&/,"?")),a="isVimeo"):/www\.ted\.com/i.test(p)?(z="http://embed.ted.com/talks/"+p.substring(p.lastIndexOf("/")+1)+".html",a="isTed"):/soundcloud\.com/i.test(p)?(z=p,a="isSoundCloud"):/(\.mp4)|(\.ogg)|(\.ogv)|(\.webm)/i.test(p)?(z=-1!==p.indexOf("|")?p.split("|"):p.split("%7C"),a="isSelfHostedVideo"):/\.mp3$/i.test(p)&&(z=p,a="isSelfHostedAudio")}n.dataArray.push({src:z,title:B.getAttribute(n.options.lightboxTitleSrc),type:a}),w++}y.push(p)}),n.counterTotal=n.dataArray.length,1===n.counterTotal?(n.nextButton.hide(),n.prevButton.hide(),n.dataActionImg=""):(n.nextButton.show(),n.prevButton.show(),n.dataActionImg='data-action="next"'),n.wrap.appendTo(g.body),n.scrollTop=k(u).scrollTop(),n.originalStyle=k("html").attr("style"),k("html").css({overflow:"hidden",marginRight:u.innerWidth-k(g).width()}),n.wrap.addClass("cbp-popup-transitionend"),n.wrap.show(),t=n.dataArray[n.current],n[t.type](t)}},openSinglePage:function(x,e){var t,n=this,a=0,w=[];if(!n.isOpen){if(n.cubeportfolio.singlePageInline&&n.cubeportfolio.singlePageInline.isOpen&&n.cubeportfolio.singlePageInline.close(),n.isOpen=!0,n.stopEvents=!1,n.dataArray=[],n.current=null,null===(t=e.getAttribute("href"))){throw new Error("HEI! Your clicked element doesn't have a href attribute.")}if(k.each(x,function(c,l){var i=l.getAttribute("href");-1===k.inArray(i,w)&&(t===i&&(n.current=a),n.dataArray.push({url:i,element:l}),a++),w.push(i)}),n.counterTotal=n.dataArray.length,1===n.counterTotal?(n.nextButton.hide(),n.prevButton.hide()):(n.nextButton.show(),n.prevButton.show()),n.wrap.appendTo(g.body),n.scrollTop=k(u).scrollTop(),n.contentWrap.scrollTop(0),n.wrap.show(),n.finishOpen=2,n.navigationMobile=k(),n.wrap.one(q["private"].transitionend,function(){k("html").css({overflow:"hidden",marginRight:u.innerWidth-k(g).width()}),n.wrap.addClass("cbp-popup-transitionend"),n.options.singlePageStickyNavigation&&(n.wrap.addClass("cbp-popup-singlePage-sticky"),n.navigationWrap.width(n.contentWrap[0].clientWidth)),--n.finishOpen<=0&&n.updateSinglePageIsOpen.call(n)}),"ie8"!==q["private"].browser&&"ie9"!==q["private"].browser||(k("html").css({overflow:"hidden",marginRight:u.innerWidth-k(g).width()}),n.wrap.addClass("cbp-popup-transitionend"),n.options.singlePageStickyNavigation&&(n.navigationWrap.width(n.contentWrap[0].clientWidth),setTimeout(function(){n.wrap.addClass("cbp-popup-singlePage-sticky")},1000)),n.finishOpen--),n.wrap.addClass("cbp-popup-loading"),n.wrap.offset(),n.wrap.addClass("cbp-popup-singlePage-open"),n.options.singlePageDeeplinking&&(n.url=n.url.split("#cbp=")[0],location.href=n.url+"#cbp="+n.dataArray[n.current].url),k.isFunction(n.options.singlePageCallback)&&n.options.singlePageCallback.call(n,n.dataArray[n.current].url,n.dataArray[n.current].element),"ios"===q["private"].browser){var y=n.contentWrap[0];y.addEventListener("touchstart",function(){var i=y.scrollTop,c=y.scrollHeight,l=i+y.offsetHeight;0===i?y.scrollTop=1:l===c&&(y.scrollTop=i-1)})}}},openSinglePageInline:function(x,w,z){var C,e,E,y=this;if(z=z||!1,y.fromOpen=z,y.storeBlocks=x,y.storeCurrentBlock=w,y.isOpen){return e=y.cubeportfolio.blocksOn.index(k(w).closest(".cbp-item")),void (y.dataArray[y.current].url!==w.getAttribute("href")||y.current!==e?y.cubeportfolio.singlePageInline.close("open",{blocks:x,currentBlock:w,fromOpen:!0}):y.close())}if(y.isOpen=!0,y.stopEvents=!1,y.dataArray=[],y.current=null,null===(C=w.getAttribute("href"))){throw new Error("HEI! Your clicked element doesn't have a href attribute.")}if(E=k(w).closest(".cbp-item")[0],x.each(function(c,a){E===a&&(y.current=c)}),y.dataArray[y.current]={url:C,element:w},k(y.dataArray[y.current].element).parents(".cbp-item").addClass("cbp-singlePageInline-active"),y.counterTotal=x.length,y.wrap.insertBefore(y.cubeportfolio.wrapper),y.topDifference=0,"top"===y.options.singlePageInlinePosition){y.blocksToMove=x,y.top=0}else{if("bottom"===y.options.singlePageInlinePosition){y.blocksToMove=k(),y.top=y.cubeportfolio.height}else{if("above"===y.options.singlePageInlinePosition){var t=k(x[y.current]),B=(D=t.data("cbp").top)+t.height();y.top=D,y.blocksToMove=k(),x.each(function(p,s){var r=k(s),l=r.data("cbp").top,c=l+r.height();c<=D||(l>=D&&(y.blocksToMove=y.blocksToMove.add(s)),l<D&&c>D&&(y.top=c+y.options.gapHorizontal,c-D>y.topDifference&&(y.topDifference=c-D+y.options.gapHorizontal)))}),y.top=Math.max(y.top-y.options.gapHorizontal,0)}else{var D=(t=k(x[y.current])).data("cbp").top,B=D+t.height();y.top=B,y.blocksToMove=k(),x.each(function(p,G){var F=k(G),l=F.height(),c=F.data("cbp").top,s=c+l;s<=B||(c>=B-l/2?y.blocksToMove=y.blocksToMove.add(G):s>B&&c<B&&(s>y.top&&(y.top=s),s-B>y.topDifference&&(y.topDifference=s-B)))})}}}if(y.wrap[0].style.height=y.wrap.outerHeight(!0)+"px",y.deferredInline=k.Deferred(),y.options.singlePageInlineInFocus){y.scrollTop=k(u).scrollTop();var A=y.cubeportfolio.$obj.offset().top+y.top-100;y.scrollTop!==A?k("html,body").animate({scrollTop:A},350).promise().then(function(){y.resizeSinglePageInline(),y.deferredInline.resolve()}):(y.resizeSinglePageInline(),y.deferredInline.resolve())}else{y.resizeSinglePageInline(),y.deferredInline.resolve()}y.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-open"),y.wrap.css({top:y.top}),y.options.singlePageInlineDeeplinking&&(y.url=y.url.split("#cbpi=")[0],location.href=y.url+"#cbpi="+y.dataArray[y.current].url),k.isFunction(y.options.singlePageInlineCallback)&&y.options.singlePageInlineCallback.call(y,y.dataArray[y.current].url,y.dataArray[y.current].element)},resizeSinglePageInline:function(){var a=this;a.height=0===a.top||a.top===a.cubeportfolio.height?a.wrap.outerHeight(!0):a.wrap.outerHeight(!0)-a.options.gapHorizontal,a.height+=a.topDifference,a.storeBlocks.each(function(i,c){q["private"].modernBrowser?c.style[q["private"].transform]="":c.style.marginTop=""}),a.blocksToMove.each(function(c,e){q["private"].modernBrowser?e.style[q["private"].transform]="translate3d(0px, "+a.height+"px, 0)":e.style.marginTop=a.height+"px"}),a.cubeportfolio.obj.style.height=a.cubeportfolio.height+a.height+"px"},revertResizeSinglePageInline:function(){var a=this;a.deferredInline=k.Deferred(),a.storeBlocks.each(function(i,c){q["private"].modernBrowser?c.style[q["private"].transform]="":c.style.marginTop=""}),a.cubeportfolio.obj.style.height=a.cubeportfolio.height+"px"},appendScriptsToWrap:function(l){var c=this,n=0,a=function(e){var o=g.createElement("script"),i=e.src;o.type="text/javascript",o.readyState?o.onreadystatechange=function(){"loaded"!=o.readyState&&"complete"!=o.readyState||(o.onreadystatechange=null,l[++n]&&a(l[n]))}:o.onload=function(){l[++n]&&a(l[n])},i?o.src=i:o.text=e.text,c.content[0].appendChild(o)};a(l[0])},updateSinglePage:function(l,r,p){var e,c=this;c.content.addClass("cbp-popup-content").removeClass("cbp-popup-content-basic"),!1===p&&c.content.removeClass("cbp-popup-content").addClass("cbp-popup-content-basic"),c.counter&&(e=k(c.getCounterMarkup(c.options.singlePageCounter,c.current+1,c.counterTotal)),c.counter.text(e.text())),c.fromAJAX={html:l,scripts:r},--c.finishOpen<=0&&c.updateSinglePageIsOpen.call(c)},updateSinglePageIsOpen:function(){var c,a=this;a.wrap.addClass("cbp-popup-ready"),a.wrap.removeClass("cbp-popup-loading"),a.content.html(a.fromAJAX.html),a.fromAJAX.scripts&&a.appendScriptsToWrap(a.fromAJAX.scripts),a.fromAJAX={},a.cubeportfolio.$obj.trigger("updateSinglePageStart.cbp"),(c=a.content.find(".cbp-slider")).length?(c.find(".cbp-slider-item").addClass("cbp-item"),a.slider=c.cubeportfolio({layoutMode:"slider",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):a.slider=null,a.checkForSocialLinks(a.content),a.cubeportfolio.$obj.trigger("updateSinglePageComplete.cbp")},checkForSocialLinks:function(c){var a=this;a.createFacebookShare(c.find(".cbp-social-fb")),a.createTwitterShare(c.find(".cbp-social-twitter")),a.createGooglePlusShare(c.find(".cbp-social-googleplus")),a.createPinterestShare(c.find(".cbp-social-pinterest"))},createFacebookShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(u.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")},createTwitterShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://twitter.com/intent/tweet?source="+encodeURIComponent(u.location.href)+"&text="+encodeURIComponent(g.title)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=300'); return false;")},createGooglePlusShare:function(a){a.length&&!a.attr("onclick")&&a.attr("onclick","window.open('https://plus.google.com/share?url="+encodeURIComponent(u.location.href)+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=450'); return false;")},createPinterestShare:function(a){if(a.length&&!a.attr("onclick")){var i="",c=this.content.find("img")[0];c&&(i=c.src),a.attr("onclick","window.open('http://pinterest.com/pin/create/button/?url="+encodeURIComponent(u.location.href)+"&media="+i+"', '_blank', 'top=100,left=100,toolbar=0,status=0,width=620,height=400'); return false;")}},updateSinglePageInline:function(c,a){var i=this;i.content.html(c),a&&i.appendScriptsToWrap(a),i.cubeportfolio.$obj.trigger("updateSinglePageInlineStart.cbp"),0!==i.localOptions.delay?setTimeout(function(){i.singlePageInlineIsOpen.call(i)},i.localOptions.delay):i.singlePageInlineIsOpen.call(i)},singlePageInlineIsOpen:function(){function c(){a.wrap.addClass("cbp-popup-singlePageInline-ready"),a.wrap[0].style.height="",a.resizeSinglePageInline(),a.cubeportfolio.$obj.trigger("updateSinglePageInlineComplete.cbp")}var a=this;a.cubeportfolio.loadImages(a.wrap,function(){var e=a.content.find(".cbp-slider");e.length?(e.find(".cbp-slider-item").addClass("cbp-item"),e.one("initComplete.cbp",function(){a.deferredInline.done(c)}),e.on("pluginResize.cbp",function(){a.deferredInline.done(c)}),a.slider=e.cubeportfolio({layoutMode:"slider",displayType:"default",mediaQueries:[{width:1,cols:1}],gapHorizontal:0,gapVertical:0,caption:"",coverRatio:""})):(a.slider=null,a.deferredInline.done(c)),a.checkForSocialLinks(a.content)})},isImage:function(a){var c=this;new Image;c.tooggleLoading(!0),c.cubeportfolio.loadImages(k('<div><img src="'+a.src+'"></div>'),function(){c.updateImagesMarkup(a.src,a.title,c.getCounterMarkup(c.options.lightboxCounter,c.current+1,c.counterTotal)),c.tooggleLoading(!1)})},isVimeo:function(c){var a=this;a.updateVideoMarkup(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal))},isYoutube:function(c){var a=this;a.updateVideoMarkup(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal))},isTed:function(c){var a=this;a.updateVideoMarkup(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal))},isSoundCloud:function(c){var a=this;a.updateVideoMarkup(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal))},isSelfHostedVideo:function(c){var a=this;a.updateSelfHostedVideo(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal))},isSelfHostedAudio:function(c){var a=this;a.updateSelfHostedAudio(c.src,c.title,a.getCounterMarkup(a.options.lightboxCounter,a.current+1,a.counterTotal))},getCounterMarkup:function(c,a,l){if(!c.length){return""}var i={current:a,total:l};return c.replace(/\{\{current}}|\{\{total}}/gi,function(n){return i[n.slice(2,-2)]})},updateSelfHostedVideo:function(r,p,w){var s,l=this;l.wrap.addClass("cbp-popup-lightbox-isIframe");var c='<div class="cbp-popup-lightbox-iframe"><video controls="controls" height="auto" style="width: 100%">';for(s=0;s<r.length;s++){/(\.mp4)/i.test(r[s])?c+='<source src="'+r[s]+'" type="video/mp4">':/(\.ogg)|(\.ogv)/i.test(r[s])?c+='<source src="'+r[s]+'" type="video/ogg">':/(\.webm)/i.test(r[s])&&(c+='<source src="'+r[s]+'" type="video/webm">')}c+='Your browser does not support the video tag.</video><div class="cbp-popup-lightbox-bottom">'+(p?'<div class="cbp-popup-lightbox-title">'+p+"</div>":"")+w+"</div></div>",l.content.html(c),l.wrap.addClass("cbp-popup-ready"),l.preloadNearbyImages()},updateSelfHostedAudio:function(l,c,r){var p=this;p.wrap.addClass("cbp-popup-lightbox-isIframe");var a='<div class="cbp-popup-lightbox-iframe"><div class="cbp-misc-video"><audio controls="controls" height="auto" style="width: 75%"><source src="'+l+'" type="audio/mpeg">Your browser does not support the audio tag.</audio></div><div class="cbp-popup-lightbox-bottom">'+(c?'<div class="cbp-popup-lightbox-title">'+c+"</div>":"")+r+"</div></div>";p.content.html(a),p.wrap.addClass("cbp-popup-ready"),p.preloadNearbyImages()},updateVideoMarkup:function(l,c,r){var p=this;p.wrap.addClass("cbp-popup-lightbox-isIframe");var a='<div class="cbp-popup-lightbox-iframe"><iframe src="'+l+'" frameborder="0" allowfullscreen scrolling="no"></iframe><div class="cbp-popup-lightbox-bottom">'+(c?'<div class="cbp-popup-lightbox-title">'+c+"</div>":"")+r+"</div></div>";p.content.html(a),p.wrap.addClass("cbp-popup-ready"),p.preloadNearbyImages()},updateImagesMarkup:function(l,c,r){var p=this;p.wrap.removeClass("cbp-popup-lightbox-isIframe");var a='<div class="cbp-popup-lightbox-figure"><img src="'+l+'" class="cbp-popup-lightbox-img" '+p.dataActionImg+' /><div class="cbp-popup-lightbox-bottom">'+(c?'<div class="cbp-popup-lightbox-title">'+c+"</div>":"")+r+"</div></div>";p.content.html(a),p.wrap.addClass("cbp-popup-ready"),p.resizeImage(),p.preloadNearbyImages()},next:function(){var a=this;a[a.type+"JumpTo"](1)},prev:function(){var a=this;a[a.type+"JumpTo"](-1)},lightboxJumpTo:function(c){var a,i=this;i.current=i.getIndex(i.current+c),i[(a=i.dataArray[i.current]).type](a)},singlePageJumpTo:function(a){var c=this;c.current=c.getIndex(c.current+a),k.isFunction(c.options.singlePageCallback)&&(c.resetWrap(),c.contentWrap.scrollTop(0),c.wrap.addClass("cbp-popup-loading"),c.slider&&q["private"].resize.destroyEvent(k.data(c.slider[0],"cubeportfolio")),c.options.singlePageCallback.call(c,c.dataArray[c.current].url,c.dataArray[c.current].element),c.options.singlePageDeeplinking&&(location.href=c.url+"#cbp="+c.dataArray[c.current].url))},resetWrap:function(){var a=this;"singlePage"===a.type&&a.options.singlePageDeeplinking&&(location.href=a.url+"#"),"singlePageInline"===a.type&&a.options.singlePageInlineDeeplinking&&(location.href=a.url+"#")},getIndex:function(c){var a=this;return(c%=a.counterTotal)<0&&(c=a.counterTotal+c),c},close:function(p,l){function a(){c.slider&&q["private"].resize.destroyEvent(k.data(c.slider[0],"cubeportfolio")),c.content.html(""),c.wrap.detach(),c.cubeportfolio.$obj.removeClass("cbp-popup-singlePageInline-open cbp-popup-singlePageInline-close"),c.isOpen=!1,"promise"===p&&k.isFunction(l.callback)&&l.callback.call(c.cubeportfolio)}function e(){var i=k(u).scrollTop();c.resetWrap(),k(u).scrollTop(i),c.options.singlePageInlineInFocus&&"promise"!==p?k("html,body").animate({scrollTop:c.scrollTop},350).promise().then(function(){a()}):a()}var c=this;"singlePageInline"===c.type?"open"===p?(c.wrap.removeClass("cbp-popup-singlePageInline-ready"),k(c.dataArray[c.current].element).closest(".cbp-item").removeClass("cbp-singlePageInline-active"),c.isOpen=!1,c.openSinglePageInline(l.blocks,l.currentBlock,l.fromOpen)):(c.height=0,c.revertResizeSinglePageInline(),c.wrap.removeClass("cbp-popup-singlePageInline-ready"),c.cubeportfolio.$obj.addClass("cbp-popup-singlePageInline-close"),c.cubeportfolio.$obj.find(".cbp-item").removeClass("cbp-singlePageInline-active"),q["private"].modernBrowser?c.wrap.one(q["private"].transitionend,function(){e()}):e()):"singlePage"===c.type?(c.resetWrap(),k(u).scrollTop(c.scrollTop),c.stopScroll=!0,c.wrap.removeClass("cbp-popup-ready cbp-popup-transitionend cbp-popup-singlePage-open cbp-popup-singlePage-sticky"),k("html").css({overflow:"",marginRight:"",position:""}),"ie8"!==q["private"].browser&&"ie9"!==q["private"].browser||(c.slider&&q["private"].resize.destroyEvent(k.data(c.slider[0],"cubeportfolio")),c.content.html(""),c.wrap.detach(),c.isOpen=!1),c.wrap.one(q["private"].transitionend,function(){c.slider&&q["private"].resize.destroyEvent(k.data(c.slider[0],"cubeportfolio")),c.content.html(""),c.wrap.detach(),c.isOpen=!1})):(h=!1,c.originalStyle?k("html").attr("style",c.originalStyle):k("html").css({overflow:"",marginRight:""}),k(u).scrollTop(c.scrollTop),c.slider&&q["private"].resize.destroyEvent(k.data(c.slider[0],"cubeportfolio")),c.content.html(""),c.wrap.detach(),c.isOpen=!1)},tooggleLoading:function(c){var a=this;a.stopEvents=c,a.wrap[c?"addClass":"removeClass"]("cbp-popup-loading")},resizeImage:function(){if(this.isOpen){var e=this.content.find("img"),c=e.parent(),a=k(u).height()-(c.outerHeight(!0)-c.height())-this.content.find(".cbp-popup-lightbox-bottom").outerHeight(!0);e.css("max-height",a+"px")}},preloadNearbyImages:function(){for(var c=this,a=[c.getIndex(c.current+1),c.getIndex(c.current+2),c.getIndex(c.current+3),c.getIndex(c.current-1),c.getIndex(c.current-2),c.getIndex(c.current-3)],i=a.length-1;i>=0;i--){"isImage"===c.dataArray[a[i]].type&&c.cubeportfolio.checkSrc(c.dataArray[a[i]])}}},h=!1,d=!1,m=!1;j.prototype.run=function(){var c=this,e=c.parent,a=k(g.body);e.lightbox=null,e.options.lightboxDelegate&&!d&&(d=!0,e.lightbox=Object.create(v),e.lightbox.init(e,"lightbox"),a.on("click.cbp",e.options.lightboxDelegate,function(y){y.preventDefault();var t=k(this),p=t.attr("data-cbp-lightbox"),x=c.detectScope(t),w=x.data("cubeportfolio"),o=[];w?w.blocksOn.each(function(r,s){var l=k(s);l.not(".cbp-item-off")&&l.find(e.options.lightboxDelegate).each(function(i,z){p?k(z).attr("data-cbp-lightbox")===p&&o.push(z):o.push(z)})}):o=p?x.find(e.options.lightboxDelegate+"[data-cbp-lightbox="+p+"]"):x.find(e.options.lightboxDelegate),e.lightbox.openLightbox(o,t[0])})),e.singlePage=null,e.options.singlePageDelegate&&!m&&(m=!0,e.singlePage=Object.create(v),e.singlePage.init(e,"singlePage"),a.on("click.cbp",e.options.singlePageDelegate,function(y){y.preventDefault();var t=k(this),p=t.attr("data-cbp-singlePage"),x=c.detectScope(t),w=x.data("cubeportfolio"),o=[];w?w.blocksOn.each(function(r,s){var l=k(s);l.not(".cbp-item-off")&&l.find(e.options.singlePageDelegate).each(function(i,z){p?k(z).attr("data-cbp-singlePage")===p&&o.push(z):o.push(z)})}):o=p?x.find(e.options.singlePageDelegate+"[data-cbp-singlePage="+p+"]"):x.find(e.options.singlePageDelegate),e.singlePage.openSinglePage(o,t[0])})),e.singlePageInline=null,e.options.singlePageInlineDelegate&&(e.singlePageInline=Object.create(v),e.singlePageInline.init(e,"singlePageInline"),e.$obj.on("click.cbp",e.options.singlePageInlineDelegate,function(o){o.preventDefault();var p=k.data(this,"cbp-locked"),l=k.data(this,"cbp-locked",+new Date);(!p||l-p>300)&&e.singlePageInline.openSinglePageInline(e.blocksOn,this)}))},j.prototype.detectScope=function(l){var n,e,c;return(n=l.closest(".cbp-popup-singlePageInline")).length?(c=l.closest(".cbp",n[0]),c.length?c:n):(e=l.closest(".cbp-popup-singlePage")).length?(c=l.closest(".cbp",e[0]),c.length?c:e):(c=l.closest(".cbp"),c.length?c:k(g.body))},j.prototype.destroy=function(){var a=this.parent;k(g.body).off("click.cbp"),d=!1,m=!1,a.lightbox&&a.lightbox.destroy(),a.singlePage&&a.singlePage.destroy(),a.singlePageInline&&a.singlePageInline.destroy()},q.plugins.popUp=function(a){return new j(a)}}(jQuery,window,document),function(f,d,h,g){function c(a){var i=this;i.parent=a,i.searchInput=f(a.options.search),i.searchInput.each(function(j,l){var k=l.getAttribute("data-search");k||(k="*"),f.data(l,"searchData",{value:l.value,el:k})});var e=null;i.searchInput.on("keyup.cbp paste.cbp",function(k){k.preventDefault();var j=f(this);clearTimeout(e),e=setTimeout(function(){i.runEvent.call(i,j)},350)}),i.searchNothing=i.searchInput.siblings(".cbp-search-nothing").detach(),i.searchNothingHeight=null,i.searchNothingHTML=i.searchNothing.html(),i.searchInput.siblings(".cbp-search-icon").on("click.cbp",function(j){j.preventDefault(),i.runEvent.call(i,f(this).prev().val(""))})}var b=f.fn.cubeportfolio.constructor;c.prototype.runEvent=function(k){var m=this,l=k.val(),j=k.data("searchData"),e=new RegExp(l,"i");j.value===l||m.parent.isAnimating||(j.value=l,l.length>0?k.attr("value",l):k.removeAttr("value"),m.parent.$obj.cubeportfolio("filter",function(a){var n=a.filter(function(o,p){if(f(p).find(j.el).text().search(e)>-1){return !0}});if(0===n.length&&m.searchNothing.length){var i=m.searchNothingHTML.replace("{{query}}",l);m.searchNothing.html(i),m.searchNothing.appendTo(m.parent.$obj),null===m.searchNothingHeight&&(m.searchNothingHeight=m.searchNothing.outerHeight(!0)),m.parent.registerEvent("resizeMainContainer",function(){m.parent.height=m.parent.height+m.searchNothingHeight,m.parent.obj.style.height=m.parent.height+"px"},!0)}else{m.searchNothing.detach()}return m.parent.triggerEvent("resetFiltersVisual"),n},function(){k.trigger("keyup.cbp")}))},c.prototype.destroy=function(){var a=this;a.searchInput.off(".cbp"),a.searchInput.next(".cbp-search-icon").off(".cbp"),a.searchInput.each(function(e,i){f.removeData(i)})},b.plugins.search=function(a){return""===a.options.search?null:new c(a)}}(jQuery,window,document),function(g,d,j,h){function c(a){var i=this;i.parent=a,i.options=g.extend({},b,i.parent.options.plugins.slider);var e=g(i.options.pagination);e.length>0&&(i.parent.customPagination=e,i.parent.customPaginationItems=e.children(),i.parent.customPaginationClass=i.options.paginationClass,i.parent.customPaginationItems.on("click.cbp",function(k){k.preventDefault(),k.stopImmediatePropagation(),k.stopPropagation(),i.parent.sliderStopEvents||i.parent.jumpToSlider(g(this))})),i.parent.registerEvent("gridAdjust",function(){i.sliderMarkup.call(i.parent),i.parent.registerEvent("gridAdjust",function(){i.updateSlider.call(i.parent)})},!0)}var b={pagination:"",paginationClass:"cbp-pagination-active"},f=g.fn.cubeportfolio.constructor;c.prototype.sliderMarkup=function(){var a=this;a.sliderStopEvents=!1,a.sliderActive=0,a.$obj.one("initComplete.cbp",function(){a.$obj.addClass("cbp-mode-slider")}),a.nav=g("<div/>",{"class":"cbp-nav"}),a.nav.on("click.cbp","[data-slider-action]",function(l){if(l.preventDefault(),l.stopImmediatePropagation(),l.stopPropagation(),!a.sliderStopEvents){var k=g(this),e=k.attr("data-slider-action");a[e+"Slider"]&&a[e+"Slider"](k)}}),a.options.showNavigation&&(a.controls=g("<div/>",{"class":"cbp-nav-controls"}),a.navPrev=g("<div/>",{"class":"cbp-nav-prev","data-slider-action":"prev"}).appendTo(a.controls),a.navNext=g("<div/>",{"class":"cbp-nav-next","data-slider-action":"next"}).appendTo(a.controls),a.controls.appendTo(a.nav)),a.options.showPagination&&(a.navPagination=g("<div/>",{"class":"cbp-nav-pagination"}).appendTo(a.nav)),(a.controls||a.navPagination)&&a.nav.appendTo(a.$obj),a.updateSliderPagination(),a.options.auto&&(a.options.autoPauseOnHover&&(a.mouseIsEntered=!1,a.$obj.on("mouseenter.cbp",function(i){a.mouseIsEntered=!0,a.stopSliderAuto()}).on("mouseleave.cbp",function(i){a.mouseIsEntered=!1,a.startSliderAuto()})),a.startSliderAuto()),a.options.drag&&f["private"].modernBrowser&&a.dragSlider()},c.prototype.updateSlider=function(){var a=this;a.updateSliderPosition(),a.updateSliderPagination()},c.prototype.destroy=function(){var a=this;a.parent.customPaginationItems&&a.parent.customPaginationItems.off(".cbp"),(a.parent.controls||a.parent.navPagination)&&(a.parent.nav.off(".cbp"),a.parent.nav.remove())},f.plugins.slider=function(a){return"slider"!==a.options.layoutMode?null:new c(a)}}(jQuery,window,document),function(g,d,j,h){function c(a){var e=this;e.parent=a,e.options=g.extend({},b,e.parent.options.plugins.sort),e.element=g(e.options.element),0!==e.element.length&&(e.sort="",e.sortBy="string:asc",e.element.on("click.cbp",".cbp-sort-item",function(i){i.preventDefault(),e.target=i.target,g(e.target).hasClass("cbp-l-dropdown-item--active")||a.isAnimating||(e.processSort(),a.$obj.cubeportfolio("filter",a.defaultFilter))}),a.registerEvent("triggerSort",function(){e.target&&(e.processSort(),a.$obj.cubeportfolio("filter",a.defaultFilter))}),e.dropdownWrap=e.element.find(".cbp-l-dropdown-wrap").on({"mouseover.cbp":function(){g(this).addClass("cbp-l-dropdown-wrap--open")},"mouseleave.cbp":function(){g(this).removeClass("cbp-l-dropdown-wrap--open")}}),e.dropdownHeader=e.element.find(".cbp-l-dropdown-header"))}var b={element:""},f=g.fn.cubeportfolio.constructor;c.prototype.processSort=function(){var A=this,q=A.parent,m=(x=A.target).hasAttribute("data-sort"),w=x.hasAttribute("data-sortBy");if(m&&w){A.sort=x.getAttribute("data-sort"),A.sortBy=x.getAttribute("data-sortBy")}else{if(m){A.sort=x.getAttribute("data-sort")}else{if(!w){return}A.sortBy=x.getAttribute("data-sortBy")}}var y=A.sortBy.split(":"),e="string",B=1;if("int"===y[0]?e="int":"float"===y[0]&&(e="float"),"desc"===y[1]&&(B=-1),A.sort){var v=[];q.blocks.each(function(s,r){var p=g(r),l=p.find(A.sort).text();"int"===e&&(l=parseInt(l,10)),"float"===e&&(l=parseFloat(l,10)),v.push({sortText:l,data:p.data("cbp")})}),v.sort(function(i,a){var p=i.sortText,l=a.sortText;return"string"===e&&(p=p.toUpperCase(),l=l.toUpperCase()),p<l?-B:p>l?B:0}),g.each(v,function(i,a){a.data.index=i})}else{var k=[];-1===B&&(q.blocks.each(function(a,i){k.push(g(i).data("cbp").indexInitial)}),k.sort(function(i,a){return a-i})),q.blocks.each(function(a,l){var i=g(l).data("cbp");i.index=-1===B?k[i.indexInitial]:i.indexInitial})}q.sortBlocks(q.blocks,"index"),A.dropdownWrap.trigger("mouseleave.cbp");var x=g(A.target),z=g(A.target).parent();z.hasClass("cbp-l-dropdown-list")?(A.dropdownHeader.html(x.html()),x.addClass("cbp-l-dropdown-item--active").siblings(".cbp-l-dropdown-item").removeClass("cbp-l-dropdown-item--active")):z.hasClass("cbp-l-direction")&&(0===x.index()?z.addClass("cbp-l-direction--second").removeClass("cbp-l-direction--first"):z.addClass("cbp-l-direction--first").removeClass("cbp-l-direction--second"))},c.prototype.destroy=function(){this.element.off("click.cbp")},f.plugins.sort=function(a){return new c(a)}}(jQuery,window,document);