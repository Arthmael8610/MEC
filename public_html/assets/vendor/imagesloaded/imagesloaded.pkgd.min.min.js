/*!
 * imagesLoaded PACKAGED v4.1.3
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(c,d){if(typeof define=="function"&&define.amd){define("ev-emitter/ev-emitter",d)}else{if(typeof module=="object"&&module.exports){module.exports=d()}else{c.EvEmitter=d()}}}(typeof window!="undefined"?window:this,function(){function d(){}var c=d.prototype;c.on=function(h,a){if(!h||!a){return}var g=this._events=this._events||{};var b=g[h]=g[h]||[];if(b.indexOf(a)==-1){b.push(a)}return this};c.once=function(g,b){if(!g||!b){return}this.on(g,b);var h=this._onceEvents=this._onceEvents||{};var a=h[g]=h[g]||{};a[b]=true;return this};c.off=function(h,a){var b=this._events&&this._events[h];if(!b||!b.length){return}var g=b.indexOf(a);if(g!=-1){b.splice(g,1)}return this};c.emitEvent=function(n,m){var k=this._events&&this._events[n];if(!k||!k.length){return}var l=0;var b=k[l];m=m||[];var a=this._onceEvents&&this._onceEvents[n];while(b){var i=a&&a[b];if(i){this.off(n,b);delete a[b]}b.apply(this,m);l+=i?0:1;b=k[l]}return this};c.allOff=c.removeAllListeners=function(){delete this._events;delete this._onceEvents};return d}));
/*!
 * imagesLoaded v4.1.3
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(c,d){if(typeof define=="function"&&define.amd){define(["ev-emitter/ev-emitter"],function(a){return d(c,a)})}else{if(typeof module=="object"&&module.exports){module.exports=d(c,require("ev-emitter"))}else{c.imagesLoaded=d(c,c.EvEmitter)}}})(typeof window!=="undefined"?window:this,function factory(n,r){var p=n.jQuery;var q=n.console;function m(b,c){for(var a in c){b[a]=c[a]}return b}function t(a){var b=[];if(Array.isArray(a)){b=a}else{if(typeof a.length=="number"){for(var c=0;c<a.length;c++){b.push(a[c])}}else{b.push(a)}}return b}function o(a,b,c){if(!(this instanceof o)){return new o(a,b,c)}if(typeof a=="string"){a=document.querySelectorAll(a)}this.elements=t(a);this.options=m({},this.options);if(typeof b=="function"){c=b}else{m(this.options,b)}if(c){this.on("always",c)}this.getImages();if(p){this.jqDeferred=new p.Deferred()}setTimeout(function(){this.check()}.bind(this))}o.prototype=Object.create(r.prototype);o.prototype.options={};o.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)};o.prototype.addElementImages=function(f){if(f.nodeName=="IMG"){this.addImage(f)}if(this.options.background===true){this.addElementBackgroundImages(f)}var c=f.nodeType;if(!c||!s[c]){return}var e=f.querySelectorAll("img");for(var g=0;g<e.length;g++){var b=e[g];this.addImage(b)}if(typeof this.options.background=="string"){var a=f.querySelectorAll(this.options.background);for(g=0;g<a.length;g++){var d=a[g];this.addElementBackgroundImages(d)}}};var s={1:true,9:true,11:true};o.prototype.addElementBackgroundImages=function(a){var b=getComputedStyle(a);if(!b){return}var d=/url\((['"])?(.*?)\1\)/gi;var e=d.exec(b.backgroundImage);while(e!==null){var c=e&&e[2];if(c){this.addBackground(c,a)}e=d.exec(b.backgroundImage)}};o.prototype.addImage=function(b){var a=new l(b);this.images.push(a)};o.prototype.addBackground=function(c,a){var b=new k(c,a);this.images.push(b)};o.prototype.check=function(){var a=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return}function b(d,e,c){setTimeout(function(){a.progress(d,e,c)})}this.images.forEach(function(c){c.once("progress",b);c.check()})};o.prototype.progress=function(a,b,c){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;this.emitEvent("progress",[this,a,b]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,a)}if(this.progressedCount==this.images.length){this.complete()}if(this.options.debug&&q){q.log("progress: "+c,a,b)}};o.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=true;this.emitEvent(a,[this]);this.emitEvent("always",[this]);if(this.jqDeferred){var b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}};function l(a){this.img=a}l.prototype=Object.create(r.prototype);l.prototype.check=function(){var a=this.getIsImageComplete();if(a){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image();this.proxyImage.addEventListener("load",this);this.proxyImage.addEventListener("error",this);this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.proxyImage.src=this.img.src};l.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth!==undefined};l.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.img,a])};l.prototype.handleEvent=function(b){var a="on"+b.type;if(this[a]){this[a](b)}};l.prototype.onload=function(){this.confirm(true,"onload");this.unbindEvents()};l.prototype.onerror=function(){this.confirm(false,"onerror");this.unbindEvents()};l.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};function k(b,a){this.url=b;this.element=a;this.img=new Image()}k.prototype=Object.create(l.prototype);k.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;var a=this.getIsImageComplete();if(a){this.confirm(this.img.naturalWidth!==0,"naturalWidth");this.unbindEvents()}};k.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};k.prototype.confirm=function(b,a){this.isLoaded=b;this.emitEvent("progress",[this,this.element,a])};o.makeJQueryPlugin=function(a){a=a||n.jQuery;if(!a){return}p=a;p.fn.imagesLoaded=function(b,d){var c=new o(this,b,d);return c.jqDeferred.promise(p(this))}};o.makeJQueryPlugin();return o});