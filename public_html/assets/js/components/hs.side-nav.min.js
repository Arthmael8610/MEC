var isSideMenuMini=$.cookie("isSideMenuMini")?true:"";(function(a){a.HSCore.components.HSSideNav={_baseConfig:{afterOpen:function(){},afterClose:function(){}},pageCollection:a(),init:function(b,c){this.collection=b&&a(b).length?a(b):a();if(!a(b).length){return}this.config=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig;this.config.itemSelector=b;this.initSideNav();return this.pageCollection},initSideNav:function(){var d=this,b=d.config,c=d.pageCollection;this.collection.each(function(g,f){var l=a(f),k=l.data("hssm-target"),n=l.data("hssm-class"),o=l.data("hssm-body-class"),e=Boolean(l.data("hssm-fade-effect")),m=Boolean(l.data("hssm-is-close-all-except-this")),j=[],h=a(window).width();a(k).find("[data-hssm-target]").each(function(p){if(a(this).parent().hasClass("u-side-nav--top-level-menu-item u-side-nav-opened")){j.push(a(this).data("hssm-target"))}});l.on("click",function(i){i.preventDefault();if(!a(k).hasClass("toggled")){d.defaultOpenEffect(k,j,n,o,b.afterOpen);a.cookie("isSideMenuMini",true)}else{d.defaultCloseEffect(k,j,n,o,b.afterClose);a.cookie("isSideMenuMini","")}});a(k).find("[data-hssm-target]").on("click",function(q){q.preventDefault();var p=a(this).data("hssm-target"),i=a(this).parent();if(m){if(!a("body").hasClass("u-side-nav-mini")){i.parent().find('> li:not(".has-active") > ul:not("'+p+'")').slideUp(400,function(){a(this).parent().removeClass("u-side-nav-opened");j.push(p)})}else{i.parent().find('> li > ul:not("'+p+'")').slideUp(400,function(){a(this).parent().removeClass("u-side-nav-opened");j.push(p)})}}else{if(!a(this).parent().hasClass("u-side-nav-opened")){j.push(p)}else{j=a.grep(j,function(r){return r!=p})}}a(p).slideToggle(400).parent().toggleClass("u-side-nav-opened")});if(h<=992||isSideMenuMini==true){a(this).trigger("click")}a(window).on("resize",function(){var i=a(window).width();if(i<=992){l.removeClass("once-opened");if(!l.hasClass("is-active")){if(!l.hasClass("once-closed")){l.addClass("is-active was-opened once-closed");if(e){d.unifyOpenEffect(k,n,o)}else{d.defaultOpenEffect(k,j,n,o,b.afterOpen)}}}}else{l.removeClass("once-closed");if(l.hasClass("was-opened")){l.removeClass("is-active was-opened");if(!l.hasClass("once-opened")){l.addClass("once-opened");if(e){d.unifyCloseEffect(k,n,o)}else{d.defaultCloseEffect(k,j,n,o,b.afterClose)}}}}});c=c.add(l)})},defaultOpenEffect:function(g,e,b,f,d){a(g).addClass("toggled u-side-nav--mini-hover-on");if(e.length>0){var c=e.toString();a(c).slideUp(400,function(){a(g+".toggled").addClass(b);a("body").addClass(f);a(c).parent().removeClass("u-side-nav-opened");d()})}else{a(g+".toggled").addClass(b);a("body").addClass(f);d()}},defaultCloseEffect:function(f,d,b,e,c){a(f).removeClass("toggled u-side-nav--mini-hover-on");a(f).removeClass(b+" toggled");a("body").removeClass(e);if(d.length>0){setTimeout(function(){a(d.toString()).parent().addClass("u-side-nav-opened");a(d.toString()).slideDown(400);c()},300)}}}})(jQuery);