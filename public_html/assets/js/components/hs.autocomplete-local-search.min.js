(function(a){a.widget("custom.localcatcomplete",a.ui.autocomplete,{_create:function(){this._super();this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderItem:function(b,c){if(c.url){return a('<li><a href="'+window.location.protocol+"//"+window.location.host+"/"+window.location.pathname.split("/")[1]+"/"+c.url+'">'+c.label+'<span class="g-opacity-0_3 g-ml-5">Â· '+c.category+"</span></a></li>").appendTo(b)}else{return a("<li>"+c.label+"</li>").appendTo(b)}}});a.HSCore.components.HSLocalSearchAutocomplete={_baseConfig:{minLength:2},pageCollection:a(),init:function(b,c){this.collection=b&&a(b).length?a(b):a();if(!a(b).length){return}this.config=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig;this.config.itemSelector=b;this.initAutocomplete();return this.pageCollection},initAutocomplete:function(){var d=this,b=d.config,c=d.pageCollection;this.collection.each(function(e,f){var h=a(f),g=h.data("url");a.getJSON(g,function(i){h.localcatcomplete({delay:0,source:i,select:function(j,k){window.location=window.location.protocol+"//"+window.location.host+"/"+window.location.pathname.split("/")[1]+"/"+k.item.url}})});c=c.add(h)})}}})(jQuery);