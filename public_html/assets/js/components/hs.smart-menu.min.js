(function(b){b.HSCore.components.HSSmartMenu={_baseConfig:{fixMoment:300,togglerSelector:".u-smart-nav__toggler",navbarSelector:".navbar",menuToggleClass:"u-smart-nav--opened",menuVisibleClass:"u-smart-nav--shown",afterOpen:function(){},afterClose:function(){}},_pageCollection:b(),init:function(e,d){if(!e||!e.length){return b()}var c=this;d=d&&b.isPlainObject(d)?b.extend(true,{},this._baseConfig,d):this._baseConfig;if(!this.eventInitalized){b(window).on("scroll.HSSmartMenu",function(){if(b(document).height()>b(window).height()){var f=b(this);c._pageCollection.each(function(g,h){var k=b(h),j=k.data("HSSmartMenu");if(!j){return}if(f.scrollTop()>=j.getFixMoment()&&j.isDefaultState()){j.show()}else{if(f.scrollTop()<j.getFixMoment()&&!j.isDefaultState()){j.hide()}}})}});this.eventInitalized=true}e.each(function(f,g){var h=b(g);if(h.data("HSSmartMenu")){return}h.data("HSSmartMenu",new a(h,b.extend(d,h.data())));c._pageCollection=c._pageCollection.add(h)});b(window).trigger("scroll.HSSmartMenu");if(b(document).height()<=b(window).height()){c._pageCollection.each(function(f,g){var j=b(g),h=j.data("HSSmartMenu");if(!h){return}if(h.isDefaultState()){h.show()}})}b(document).on("keyup.HSSmartMenu",function(f){if(f.keyCode!=27){return false}c._pageCollection.each(function(g,h){var k=b(h),j=k.data("HSSmartMenu");if(j.toggler.length&&j.toggler.find(".is-active").length){j.toggler.find(".is-active").removeClass("is-active")}j.hideMenu()})});return e}};function a(e,d){if(!e||!e.length||!d||!b.isPlainObject(d)){return}var c=this;this.element=e;this.config=d;this.defaultState=true;this.toggler=this.element.find(this.config.togglerSelector);if(this.toggler.length){this.toggler.on("click.HSSmartMenu",function(f){if(!c.element.hasClass(c.config.menuToggleClass)){c.openMenu()}else{c.hideMenu()}f.preventDefault()})}}a.prototype.openMenu=function(){var c=this.toggler?this.toggler.find(".is-active"):b();this.element.addClass(this.config.menuToggleClass);if(this.toggler&&c.length&&!c.hasClass("is-active")){c.addClass("is-active")}};a.prototype.hideMenu=function(){this.element.removeClass(this.config.menuToggleClass)};a.prototype.show=function(){this.element.addClass(this.config.menuVisibleClass);this.defaultState=false;return this};a.prototype.hide=function(){this.element.removeClass(this.config.menuVisibleClass);this.defaultState=true;return this};a.prototype.isDefaultState=function(){return this.defaultState};a.prototype.getFixMoment=function(){return this.config.fixMoment}})(jQuery);