(function(a){a.HSCore.components.HSDatepicker={_baseConfig:{dateFormat:"dd.mm.yy",dayNamesMin:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],prevText:'<i class="fa fa-angle-left"></i>',nextText:'<i class="fa fa-angle-right"></i>'},pageCollection:a(),init:function(b,c){this.collection=b&&a(b).length?a(b):a();if(!a(b).length){return}this.config=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig;this.config.itemSelector=b;this.initDatepicker();return this.pageCollection},initDatepicker:function(){var d=this,b=d.config,c=d.pageCollection;this.collection.each(function(h,f){var k=a(f),m=k.data("to"),l=k.data("type"),g,e;if(l=="one-field-range"){var n=k.datepicker({dateFormat:b.dateFormat,defaultDate:"+1w",dayNamesMin:b.dayNamesMin,numberOfMonths:1,showOtherMonths:true,prevText:b.prevText,nextText:b.nextText,beforeShow:d.datepickerCustomClass,onSelect:function(p,i){console.log(i)}}).on("change",function(){var i=n.datepicker("getDate");if(g==null){g=i}else{if(i<g){g=i}}if(e==null&&i>g){e=i}else{if(i>e){e=i}}})}else{if(l=="range"){var j=k.datepicker({dateFormat:b.dateFormat,defaultDate:"+1w",dayNamesMin:b.dayNamesMin,numberOfMonths:1,showOtherMonths:true,prevText:b.prevText,nextText:b.nextText,beforeShow:d.datepickerCustomClass}).on("change",function(){o.datepicker("option","minDate",d.getDate(this))});var o=a("#"+m).datepicker({dateFormat:b.dateFormat,defaultDate:"+1w",dayNamesMin:b.dayNamesMin,numberOfMonths:1,showOtherMonths:true,prevText:b.prevText,nextText:b.nextText,beforeShow:d.datepickerCustomClass}).on("change",function(){j.datepicker("option","maxDate",d.getDate(this))})}else{k.datepicker({dateFormat:b.dateFormat,dayNamesMin:b.dayNamesMin,showOtherMonths:true,prevText:b.prevText,nextText:b.nextText,beforeShow:d.datepickerCustomClass})}}c=c.add(k)})},datepickerCustomClass:function(e,b){var c,f,d;c=b.input[0].className.split(" ");for(d=0;c.length>d;d++){if(c[d].substring(0,6)=="u-date"){f=c[d]}}a("#ui-datepicker-div").addClass(f)},getDate:function(e){var f=this,d,c=f.config;try{d=a.datepicker.parseDate(c.dateFormat,e.value)}catch(b){d=null}return d}}})(jQuery);