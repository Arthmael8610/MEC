(function(a){a.HSCore.components.HSModalWindow={_baseConfig:{bounds:100,debounce:50,overlayOpacity:0.48,overlayColor:"#000000",speed:400,type:"onscroll",effect:"fadein",onOpen:function(){},onClose:function(){},onComplete:function(){},},_pageCollection:a(),init:function(b,c){var d=a(b);if(!d.length){return}c=c&&a.isPlainObject(c)?a.extend({},this._baseConfig,c):this._baseConfig;c.selector=b;this._pageCollection=this._pageCollection.add(d.not(this._pageCollection));if(c.autonomous){return this.initAutonomousModalWindows(d,c)}return this.initBaseModalWindows(d,c)},initBaseModalWindows:function(c,b){return c.on("click",function(h){if(!("Custombox" in window)){return}var g=a(this),f=g.data("modal-target"),d=g.data("modal-effect")||b.effect;if(!f||!a(f).length){return}new Custombox.modal({content:{target:f,effect:d,onOpen:function(){b.onOpen.call(a(f))},onClose:function(){b.onClose.call(a(f))},onComplete:function(){b.onComplete.call(a(f))}},overlay:{color:g.data("overlay-color")||b.overlayColor,opacity:g.data("overlay-opacity")||b.overlayOpacity,speedIn:g.data("speed")||b.speed,speedOut:g.data("speed")||b.speed}}).open();h.preventDefault()})},initAutonomousModalWindows:function(d,c){var b=this;return d.each(function(e,g){var h=a(g),f=h.data("modal-type");switch(f){case"hashlink":b.initHashLinkPopup(h,c);break;case"onscroll":b.initOnScrollPopup(h,c);break;case"beforeunload":b.initBeforeUnloadPopup(h,c);break;case"ontarget":b.initOnTargetPopup(h,c);break;case"aftersometime":b.initAfterSomeTimePopup(h,c);break}})},initHashLinkPopup:function(b,e){var d=this,c=a(window.location.hash),f=a("#"+b.attr("id"));if(c.length&&c.attr("id")==b.attr("id")){new Custombox.modal({content:{target:"#"+b.attr("id"),effect:b.data("effect")||e.effect,onOpen:function(){e.onOpen.call(a(f))},onClose:function(){e.onClose.call(a(f))},onComplete:function(){e.onComplete.call(a(f))}},overlay:{color:b.data("overlay-color")||e.overlayColor,opacity:b.data("overlay-opacity")||e.overlayOpacity,speedIn:b.data("speed")||e.speed,speedOut:b.data("speed")||e.speed}}).open()}},initOnScrollPopup:function(c,e){var d=this,g=a(window),b=c.data("breakpoint")?c.data("breakpoint"):0,f=a("#"+c.attr("id"));g.on("scroll.popup",function(){var h=g.scrollTop()+g.height();if(h>=b){new Custombox.modal({content:{target:"#"+c.attr("id"),effect:c.data("effect")||e.effect,onOpen:function(){e.onOpen.call(a(f))},onClose:function(){e.onClose.call(a(f))},onComplete:function(){e.onComplete.call(a(f))}},overlay:{color:c.data("overlay-color")||e.overlayColor,opacity:c.data("overlay-opacity")||e.overlayOpacity,speedIn:c.data("speed")||e.speed,speedOut:c.data("speed")||e.speed}}).open();g.off("scroll.popup")}});g.trigger("scroll.popup")},initBeforeUnloadPopup:function(b,d){var c=this,e=0,f=a("#"+b.attr("id")),g;window.addEventListener("mousemove",function(h){if(g){clearTimeout(g)}g=setTimeout(function(){if(h.clientY<10&&!e){e++;new Custombox.modal({content:{target:"#"+b.attr("id"),effect:b.data("effect")||d.effect,onOpen:function(){d.onOpen.call(a(f))},onClose:function(){d.onClose.call(a(f))},onComplete:function(){d.onComplete.call(a(f))}},overlay:{color:b.data("overlay-color")||d.overlayColor,opacity:b.data("overlay-opacity")||d.overlayOpacity,speedIn:b.data("speed")||d.speed,speedOut:b.data("speed")||d.speed}}).open()}},10)})},initOnTargetPopup:function(b,d){var c=this,e=b.data("target");if(!e||!a(e).length){return}appear({bounds:d.bounds,debounce:d.debounce,elements:function(){return document.querySelectorAll(e)},appear:function(f){new Custombox.modal({content:{target:"#"+b.attr("id"),effect:b.data("effect")||d.effect,onOpen:function(){d.onOpen.call(a(e))},onClose:function(){d.onClose.call(a(e))},onComplete:function(){d.onComplete.call(a(e))}},overlay:{color:b.data("overlay-color")||d.overlayColor,opacity:b.data("overlay-opacity")||d.overlayOpacity,speedIn:b.data("speed")||d.speed,speedOut:b.data("speed")||d.speed}}).open()}})},initAfterSomeTimePopup:function(b,d){var c=this,e=a("#"+b.attr("id"));setTimeout(function(){new Custombox.modal({content:{target:"#"+b.attr("id"),effect:b.data("effect")||d.effect,onOpen:function(){d.onOpen.call(a(e))},onClose:function(){d.onClose.call(a(e))},onComplete:function(){d.onComplete.call(a(e))}},overlay:{color:b.data("overlay-color")||d.overlayColor,opacity:b.data("overlay-opacity")||d.overlayOpacity,speedIn:b.data("speed")||d.speed,speedOut:b.data("speed")||d.speed}}).open()},b.data("delay")?b.data("delay"):10)}}})(jQuery);