(function(c){c.HSCore.components.HSTextSlideshow={_baseConfig:{autoplay:false,autoplayDelay:3000,slideSelector:".u-text-slideshow__slide",activeSlideClass:"u-text-slideshow__slide--current",slideTargetSelector:".u-text-slideshow__slide-target"},_pageCollection:c(),init:function(f,e){if(!f||!f.length){return this._pageCollection}var d=this;e=e&&c.isPlainObject(e)?c.extend(true,{},this._baseConfig,e):this._baseConfig;f.each(function(g,h){var j=c(this);if(!j.data("HSTextSlideshow")){j.data("HSTextSlideshow",new b(j,c.extend(true,{},e,{effect:j.data("effect")?j.data("effect"):"fx1"})));d._pageCollection=d._pageCollection.add(j)}});return this._pageCollection}};function b(e,d){this.config=d&&c.isPlainObject(d)?d:{};this.element=e;this.config=c.extend(true,{},this.config,this.element.data());var f=this.element.find("."+this.config.activeSlideClass);this.currentIndex=this.config.currentIndex=f.length?f.index():0;this.slides=[];if(this.element.attr("id")){this._initNavigation()}this._initSlides();if(this.config.autoplay){this._autoplayStart()}}b.prototype._initSlides=function(){var d=this,e=this.element.find(this.config.slideSelector);if(e.length){e.each(function(f,g){d.addSlide(c(g),d.config)})}};b.prototype._updateCarouselBounds=function(){var d=this;this.element.stop().animate({width:d.slides[d.currentIndex].getElement().outerWidth()+1},{duration:300,easing:"linear"})};b.prototype._autoplayStart=function(){var d=this;this.autoplayTimeoutId=setTimeout(function e(){d.next();d.autoplayTimeoutId=setTimeout(e,d.config.autoplayDelay)},this.config.autoplayDelay)};b.prototype._autoplayStop=function(){clearTimeout(this.autoplayTimeoutId)};b.prototype._initNavigation=function(){var d=this,e=c('[data-target="#'+this.element.attr("id")+'"]');e.on("click",function(g){var f=c(this);if(f.data("action").toUpperCase()=="PREV"){if(d.config.autoplay){d._autoplayStop();d._autoplayStart()}d.prev()}else{if(f.data("action").toUpperCase()=="NEXT"){if(d.config.autoplay){d._autoplayStop();d._autoplayStart()}d.next()}}g.preventDefault()});e.each(function(f,g){var h=c(g);if(h.data("action")){d["_initAction"+h.data("action").toUpperCase(h)]}})};b.prototype.addSlide=function(e,d){if(!e||!e.length){return}this.slides.push(new a(e,d))};b.prototype.next=function(){if(this.slides.length<=1){return}this.slides[this.currentIndex].hide();this.currentIndex++;if(this.currentIndex>this.slides.length-1){this.currentIndex=0}this._updateCarouselBounds();this.slides[this.currentIndex].show()};b.prototype.prev=function(){if(this.slides.length<=1){return}this.slides[this.currentIndex].hide();this.currentIndex--;if(this.currentIndex<0){this.currentIndex=this.slides.length-1}this._updateCarouselBounds();this.slides[this.currentIndex].show()};function a(e,d){this.element=e;this.config=d;this.target=e.find(d.slideTargetSelector).get(0);if(!this.target){return}this.textfx=new TextFx(this.target);if(this.config.currentIndex!=this.element.index()){c(this.target).find('[class*="letter"]').css(this.textfx.effects[d.effect].out)}}a.prototype.show=function(){if(!this.target){return}this.element.addClass(this.config.activeSlideClass);this.textfx.show(this.config.effect)};a.prototype.hide=function(){if(!this.target){return}this.element.removeClass(this.config.activeSlideClass);this.textfx.hide(this.config.effect)};a.prototype.getElement=function(){return this.element}})(jQuery);